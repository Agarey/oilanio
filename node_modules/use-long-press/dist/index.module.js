import{useRef as n,useCallback as t,useEffect as r}from"react";function e(){return(e=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n}).apply(this,arguments)}function u(n){var t=n.nativeEvent;return window.TouchEvent?t instanceof TouchEvent:"touches"in t}function o(n){return n.nativeEvent instanceof MouseEvent}function c(n){return u(n)?{x:n.touches[0].pageX,y:n.touches[0].pageY}:o(n)?{x:n.pageX,y:n.pageY}:null}var i;function a(a,l){var v=void 0===l?{}:l,s=v.threshold,f=void 0===s?400:s,h=v.captureEvent,p=void 0!==h&&h,M=v.detect,T=void 0===M?i.BOTH:M,d=v.cancelOnMovement,O=void 0!==d&&d,y=v.onStart,E=v.onMove,m=v.onFinish,x=v.onCancel,g=n(!1),b=n(!1),U=n(),w=n(a),H=n(null),S=t(function(n){b.current||(o(n)||u(n))&&(H.current=c(n),p&&n.persist(),p?null==y||y(n):null==y||y(),b.current=!0,U.current=setTimeout(function(){w.current&&(p?w.current(n):w.current(),g.current=!0)},f))},[p,y,f]),C=t(function(n){(o(n)||u(n))&&(H.current=null,p&&n.persist(),g.current?p?null==m||m(n):null==m||m():b.current&&(p?null==x||x(n):null==x||x()),g.current=!1,b.current=!1,void 0!==U.current&&clearTimeout(U.current))},[p,m,x]),j=t(function(n){if(p?null==E||E(n):null==E||E(),O&&H.current){var t=c(n);if(t){var r=!0===O?25:O,e={x:Math.abs(t.x-H.current.x),y:Math.abs(t.y-H.current.y)};(e.x>r||e.y>r)&&C(n)}}},[C,O,p,E]);r(function(){return function(){void 0!==U.current&&clearTimeout(U.current)}},[]),r(function(){w.current=a},[a]);var B={onMouseDown:S,onMouseMove:j,onMouseUp:C,onMouseLeave:C},X={onTouchStart:S,onTouchMove:j,onTouchEnd:C};return null===a?{}:T===i.MOUSE?B:T===i.TOUCH?X:e({},B,X)}!function(n){n.BOTH="both",n.MOUSE="mouse",n.TOUCH="touch"}(i||(i={}));export{i as LongPressDetectEvents,a as useLongPress};
//# sourceMappingURL=index.module.js.map
