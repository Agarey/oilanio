{"ast":null,"code":"var _jsxFileName = \"C:\\\\Server\\\\data\\\\htdocs\\\\oilan-mirror\\\\goco\\\\src\\\\components\\\\ModeratorBlock\\\\ModeratorBlock.js\";\nvar __jsx = React.createElement;\nimport styles from './ModeratorBlock.module.css';\nimport Head from 'next/head';\nimport React, { useEffect, useState } from \"react\";\nimport { default as axios } from \"axios\";\nimport globals from \"../../globals\";\nimport { useRouter } from \"next/router\";\nimport { Image } from \"react-bootstrap\";\nimport LoadingBlock from \"../LoadingBlock\";\nimport coursesStyles from \"../../../styles/components/content/Courses.module.css\";\nimport ModerateCourseCard from \"../ModerateCourseCard/ModerateCourseCard\";\nimport LurkingFilterBlock from \"../LurkingFilterBlock\";\nimport CourseSearchResultIsNotDefind from \"../CourseSearchResultIsNotDefind\";\n\nconst ModeratorBlock = () => {\n  const router = useRouter();\n  const {\n    0: imagesBase,\n    1: setImagesBase\n  } = useState([]);\n\n  const loadCourseCards = async directionId => {\n    setCoursesLoading(true);\n    let result = await axios.get(`${globals.productionServerDomain}/courseCards/`);\n    setCourseCards(result.data);\n    console.log('courseCards', result.data);\n    setShowUps(true);\n  };\n\n  const loadFilters = async () => {\n    setFiltersLoading(true);\n    let result = await axios.get(`${globals.productionServerDomain}/filters`);\n    setFilters(result.data);\n    setFiltersLoading(false);\n  };\n\n  const loadStocks = async () => {\n    setStocksLoading(true);\n    let result = await axios.post(`${globals.productionServerDomain}/loadDirectionPromotions`, {\n      direction_id: 0\n    });\n    setStocks(result.data);\n  };\n\n  const {\n    0: stocksLoading,\n    1: setStocksLoading\n  } = useState(false);\n  const {\n    0: filtersLoading,\n    1: setFiltersLoading\n  } = useState(false);\n  const {\n    0: coursesLoading,\n    1: setCoursesLoading\n  } = useState(false);\n  const {\n    0: loadingModal,\n    1: setLoadingModal\n  } = useState(false);\n  const {\n    0: redCheck,\n    1: setRedCheck\n  } = useState(false);\n  const {\n    0: yellowCheck,\n    1: setYellowCheck\n  } = useState(false);\n  const {\n    0: allCards,\n    1: setAllCards\n  } = useState(true);\n  const {\n    0: verificatedCards,\n    1: setVerificatedCards\n  } = useState(false);\n  const {\n    0: notVerificatedCards,\n    1: setNotVerificatedCards\n  } = useState(false);\n  const {\n    0: showUps,\n    1: setShowUps\n  } = useState(false);\n  const {\n    0: selectedCenterId,\n    1: setSelectedCenterId\n  } = useState(0);\n  const {\n    0: findByCenter,\n    1: setFindByCenter\n  } = useState(false);\n  const {\n    0: filters,\n    1: setFilters\n  } = useState([]);\n  const {\n    0: stocks,\n    1: setStocks\n  } = useState([]);\n  const {\n    0: courseCards,\n    1: setCourseCards\n  } = useState([]);\n  console.log(selectedCenterId);\n  useEffect(async () => {\n    let imagesBaseResponse = await axios.get(`${globals.productionServerDomain}/imagesBase`);\n    setImagesBase(imagesBaseResponse.data);\n    setCoursesLoading(true);\n    loadFilters();\n    loadCourseCards().then(() => setCoursesLoading(false));\n    loadStocks().then(() => setStocksLoading(false));\n    window.scrollTo(0, 0);\n  }, []);\n  let redCount = 0;\n  courseCards.forEach(function (course) {\n    if (!course.title || !course.addresses || !course.ages || !course.category || !course.course_desc || !course.course_title || !course.description || !course.format || !course.img_src || !course.phones || !course.price || !course.schedule || !course.type) {\n      redCount = redCount + 1;\n    }\n  });\n  let verCount = 0;\n  courseCards.forEach(function (course) {\n    if (course.verificated) {\n      verCount = verCount + 1;\n    }\n  });\n  let notVerCount = 0;\n  courseCards.forEach(function (course) {\n    if (!course.verificated) {\n      notVerCount = notVerCount + 1;\n    }\n  });\n  let byCenterCount = 0;\n  courseCards.forEach(function (course) {\n    if (course.course_id == selectedCenterId) {\n      byCenterCount = byCenterCount + 1;\n    }\n  });\n  let yellowCount = 0;\n  courseCards.forEach(function (course) {\n    const str = String(course.img_src);\n    const substr = 'realibi';\n    const checkLink = str.includes(substr);\n\n    if (course.title == course.description && course.title || course.title == course.course_desc && course.title || course.description == course.course_desc && course.description || course.ages == \" - \" || course.img_src && !checkLink) {\n      yellowCount = yellowCount + 1;\n    }\n  });\n\n  function componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.filterArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: styles.leftArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    className: styles.moderate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, \"\\u0412\\u0441\\u0435 \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0438 (\", courseCards.length, \"): \"), __jsx(\"input\", {\n    type: \"radio\",\n    onClick: () => {\n      setAllCards(true);\n      setRedCheck(false);\n      setYellowCheck(false);\n      setVerificatedCards(false);\n      setNotVerificatedCards(false);\n      setFindByCenter(false);\n    },\n    checked: allCards,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  })), __jsx(\"p\", {\n    className: styles.moderate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, \"\\u0422\\u043E\\u043B\\u044C\\u043A\\u043E \\u0443\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u043D\\u044B\\u0435 (\", verCount, \"): \"), __jsx(\"input\", {\n    type: \"radio\",\n    onClick: () => {\n      setVerificatedCards(true);\n      setNotVerificatedCards(false);\n      setAllCards(false);\n      setRedCheck(false);\n      setYellowCheck(false);\n      setFindByCenter(false);\n    },\n    checked: verificatedCards,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  })), __jsx(\"p\", {\n    className: styles.moderate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, \"\\u0422\\u043E\\u043B\\u044C\\u043A\\u043E \\u043D\\u0435 \\u0443\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u043D\\u044B\\u0435 (\", notVerCount, \"): \"), __jsx(\"input\", {\n    type: \"radio\",\n    onClick: () => {\n      setNotVerificatedCards(true);\n      setVerificatedCards(false);\n      setAllCards(false);\n      setRedCheck(false);\n      setYellowCheck(false);\n      setFindByCenter(false);\n    },\n    checked: notVerificatedCards,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }))), __jsx(\"div\", {\n    className: styles.rightArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    className: styles.moderate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  }, \"\\u0421 \\u043D\\u0435\\u0437\\u0430\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u043D\\u044B\\u043C\\u0438 \\u043F\\u043E\\u043B\\u044F\\u043C\\u0438 (\", redCount, \"): \"), __jsx(\"input\", {\n    type: \"radio\",\n    onClick: () => {\n      setRedCheck(true);\n      setAllCards(false);\n      setYellowCheck(false);\n      setVerificatedCards(false);\n      setNotVerificatedCards(false);\n      setFindByCenter(false);\n    },\n    checked: redCheck,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 25\n    }\n  })), __jsx(\"p\", {\n    className: styles.moderate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 25\n    }\n  }, \"\\u0421 \\u043D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u043C\\u0438 \\u0438\\u043B\\u0438 \\u043F\\u043E\\u0432\\u0442\\u043E\\u0440\\u044F\\u044E\\u0449\\u0438\\u043C\\u0438\\u0441\\u044F \\u043F\\u043E\\u043B\\u044F\\u043C\\u0438 (\", yellowCount, \"): \"), __jsx(\"input\", {\n    type: \"radio\",\n    onClick: () => {\n      setYellowCheck(true);\n      setAllCards(false);\n      setRedCheck(false);\n      setVerificatedCards(false);\n      setNotVerificatedCards(false);\n      setFindByCenter(false);\n    },\n    checked: yellowCheck,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  })), __jsx(\"p\", {\n    className: styles.moderate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 21\n    }\n  }, __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 25\n    }\n  }, \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u0446\\u0435\\u043D\\u0442\\u0440\\u0443 (\", byCenterCount, \"): \"), __jsx(\"input\", {\n    type: \"radio\",\n    onClick: () => {\n      setFindByCenter(true);\n      setYellowCheck(false);\n      setAllCards(false);\n      setRedCheck(false);\n      setVerificatedCards(false);\n      setNotVerificatedCards(false);\n    },\n    checked: findByCenter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }), __jsx(\"select\", {\n    disabled: !findByCenter,\n    className: styles.wrapperItemInput,\n    onChange: e => setSelectedCenterId(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 25\n    }\n  }, filters[2] !== undefined ? filters[2].map(filterOption => filterOption.title !== \"test\" ? __jsx(\"option\", {\n    value: filterOption.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 46\n    }\n  }, filterOption.title, \" (\", filterOption.id, \")\") : null) : null)))), courseCards.length > 0 && __jsx(\"div\", {\n    className: styles.courses_block,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 21\n    }\n  }, courseCards.map(course => {\n    const str = String(course.img_src);\n    const substr = 'realibi';\n    const checkLink = str.includes(substr);\n\n    if (course.title !== 'test') {\n      if (redCheck == true) {\n        if (!course.title || !course.addresses || !course.ages || !course.category || !course.course_desc || !course.course_title || !course.description || !course.format || !course.img_src || !course.phones || !course.price || !course.schedule || !course.type) {\n          return __jsx(\"div\", {\n            style: {\n              marginLeft: '5%',\n              marginRight: '5%'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 49\n            }\n          }, __jsx(ModerateCourseCard, {\n            coverImage: imagesBase[Math.floor(Math.random() * imagesBase.length)].src,\n            setLoadingModal: setLoadingModal,\n            course: course,\n            showApplicationModal: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 53\n            }\n          }));\n        }\n      }\n\n      if (yellowCheck == true) {\n        if (course.title == course.description && course.title || course.title == course.course_desc && course.title || course.description == course.course_desc && course.description || course.ages == \" - \" || course.img_src && !checkLink) {\n          return __jsx(\"div\", {\n            style: {\n              marginLeft: '5%',\n              marginRight: '5%'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 49\n            }\n          }, __jsx(ModerateCourseCard, {\n            coverImage: imagesBase[Math.floor(Math.random() * imagesBase.length)].src,\n            setLoadingModal: setLoadingModal,\n            course: course,\n            showApplicationModal: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 53\n            }\n          }));\n        }\n      }\n\n      if (verificatedCards == true) {\n        if (course.verificated) {\n          return __jsx(\"div\", {\n            style: {\n              marginLeft: '5%',\n              marginRight: '5%'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 49\n            }\n          }, __jsx(ModerateCourseCard, {\n            coverImage: imagesBase[Math.floor(Math.random() * imagesBase.length)].src,\n            setLoadingModal: setLoadingModal,\n            course: course,\n            showApplicationModal: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 53\n            }\n          }));\n        }\n      }\n\n      if (notVerificatedCards == true) {\n        if (!course.verificated) {\n          return __jsx(\"div\", {\n            style: {\n              marginLeft: '5%',\n              marginRight: '5%'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 49\n            }\n          }, __jsx(ModerateCourseCard, {\n            coverImage: imagesBase[Math.floor(Math.random() * imagesBase.length)].src,\n            setLoadingModal: setLoadingModal,\n            course: course,\n            showApplicationModal: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 53\n            }\n          }));\n        }\n      }\n\n      if (selectedCenterId == course.course_id) {\n        if (!course.verificated) {\n          return __jsx(\"div\", {\n            style: {\n              marginLeft: '5%',\n              marginRight: '5%'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 49\n            }\n          }, __jsx(ModerateCourseCard, {\n            coverImage: imagesBase[Math.floor(Math.random() * imagesBase.length)].src,\n            setLoadingModal: setLoadingModal,\n            course: course,\n            showApplicationModal: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 53\n            }\n          }));\n        }\n      }\n\n      if (allCards == true) {\n        return __jsx(\"div\", {\n          style: {\n            marginLeft: '5%',\n            marginRight: '5%'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 41\n          }\n        }, __jsx(ModerateCourseCard, {\n          coverImage: imagesBase[Math.floor(Math.random() * imagesBase.length)].src,\n          setLoadingModal: setLoadingModal,\n          course: course,\n          showApplicationModal: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 45\n          }\n        }));\n      }\n    }\n  })), coursesLoading ? __jsx(LoadingBlock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 35\n    }\n  }) : showUps && (courseCards.length < 1 ? __jsx(CourseSearchResultIsNotDefind, {\n    catalog: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 58\n    }\n  }) : null));\n};\n\nexport default ModeratorBlock;","map":{"version":3,"sources":["C:/Server/data/htdocs/oilan-mirror/goco/src/components/ModeratorBlock/ModeratorBlock.js"],"names":["styles","Head","React","useEffect","useState","default","axios","globals","useRouter","Image","LoadingBlock","coursesStyles","ModerateCourseCard","LurkingFilterBlock","CourseSearchResultIsNotDefind","ModeratorBlock","router","imagesBase","setImagesBase","loadCourseCards","directionId","setCoursesLoading","result","get","productionServerDomain","setCourseCards","data","console","log","setShowUps","loadFilters","setFiltersLoading","setFilters","loadStocks","setStocksLoading","post","direction_id","setStocks","stocksLoading","filtersLoading","coursesLoading","loadingModal","setLoadingModal","redCheck","setRedCheck","yellowCheck","setYellowCheck","allCards","setAllCards","verificatedCards","setVerificatedCards","notVerificatedCards","setNotVerificatedCards","showUps","selectedCenterId","setSelectedCenterId","findByCenter","setFindByCenter","filters","stocks","courseCards","imagesBaseResponse","then","window","scrollTo","redCount","forEach","course","title","addresses","ages","category","course_desc","course_title","description","format","img_src","phones","price","schedule","type","verCount","verificated","notVerCount","byCenterCount","course_id","yellowCount","str","String","substr","checkLink","includes","componentDidMount","filterArea","leftArea","moderate","length","rightArea","wrapperItemInput","e","target","value","undefined","map","filterOption","id","courses_block","marginLeft","marginRight","Math","floor","random","src"],"mappings":"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","sourcesContent":["import styles from './ModeratorBlock.module.css'\r\nimport Head from 'next/head'\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {default as axios} from \"axios\";\r\nimport globals from \"../../globals\";\r\nimport {useRouter} from \"next/router\";\r\nimport {Image} from \"react-bootstrap\";\r\nimport LoadingBlock from \"../LoadingBlock\";\r\nimport coursesStyles from \"../../../styles/components/content/Courses.module.css\";\r\nimport ModerateCourseCard from \"../ModerateCourseCard/ModerateCourseCard\";\r\nimport LurkingFilterBlock from \"../LurkingFilterBlock\";\r\nimport CourseSearchResultIsNotDefind from \"../CourseSearchResultIsNotDefind\";\r\n\r\nconst ModeratorBlock = () => {\r\n    const router = useRouter();\r\n\r\n\r\n\r\n    const [imagesBase, setImagesBase] = useState([]);\r\n    const loadCourseCards = async (directionId) => {\r\n        setCoursesLoading(true)\r\n        let result = await axios.get(`${globals.productionServerDomain}/courseCards/`);\r\n        setCourseCards(result.data);\r\n        console.log('courseCards', result.data)\r\n        setShowUps(true)\r\n    }\r\n    const loadFilters = async () => {\r\n        setFiltersLoading(true)\r\n        let result = await axios.get(`${globals.productionServerDomain}/filters`);\r\n        setFilters(result.data)\r\n        setFiltersLoading(false)\r\n    }\r\n    const loadStocks = async () => {\r\n        setStocksLoading(true)\r\n        let result = await axios.post(`${globals.productionServerDomain}/loadDirectionPromotions`, {direction_id: 0});\r\n        setStocks(result.data);\r\n    }\r\n\r\n    const [stocksLoading, setStocksLoading] = useState(false);\r\n    const [filtersLoading, setFiltersLoading] = useState(false);\r\n    const [coursesLoading, setCoursesLoading] = useState(false);\r\n    const [loadingModal, setLoadingModal] = useState(false);\r\n    const [redCheck, setRedCheck] = useState(false);\r\n    const [yellowCheck, setYellowCheck] = useState(false);\r\n    const [allCards, setAllCards] = useState(true);\r\n    const [verificatedCards, setVerificatedCards] = useState(false);\r\n    const [notVerificatedCards, setNotVerificatedCards] = useState(false);\r\n    const [showUps, setShowUps] = useState(false)\r\n    const [selectedCenterId, setSelectedCenterId] = useState(0);\r\n    const [findByCenter, setFindByCenter] = useState(false)\r\n    const [filters, setFilters] = useState([]);\r\n    const [stocks, setStocks] = useState([]);\r\n    const [courseCards, setCourseCards] = useState([]);\r\n    console.log(selectedCenterId)\r\n    useEffect(async () => {\r\n        let imagesBaseResponse = await axios.get(`${globals.productionServerDomain}/imagesBase`);\r\n        setImagesBase(imagesBaseResponse.data);\r\n        setCoursesLoading(true);\r\n        loadFilters();\r\n        loadCourseCards().then(() => setCoursesLoading(false));\r\n        loadStocks().then(() => setStocksLoading(false));\r\n        window.scrollTo(0, 0);\r\n    }, [])\r\n    let redCount = 0\r\n    courseCards.forEach(function(course) {\r\n    if (!course.title || !course.addresses || !course.ages || !course.category || !course.course_desc || !course.course_title || !course.description || !course.format || !course.img_src || !course.phones || !course.price || !course.schedule || !course.type) {           \r\n    redCount = redCount+1;}\r\n    });\r\n\r\n    let verCount = 0\r\n    courseCards.forEach(function(course) {\r\n    if (course.verificated) {           \r\n    verCount = verCount+1;}\r\n    });\r\n\r\n    let notVerCount = 0\r\n    courseCards.forEach(function(course) {\r\n    if (!course.verificated) {           \r\n    notVerCount = notVerCount+1;}\r\n    });\r\n\r\n    let byCenterCount = 0\r\n    courseCards.forEach(function(course) {\r\n    if (course.course_id == selectedCenterId) {           \r\n    byCenterCount = byCenterCount+1;}\r\n    });\r\n\r\n    let yellowCount = 0\r\n    courseCards.forEach(function(course) {\r\n    const str = String(course.img_src);\r\n    const substr = 'realibi';\r\n    const checkLink = str.includes(substr);\r\n    if (((course.title == course.description) && course.title) || ((course.title == course.course_desc) && course.title) || ((course.description == course.course_desc) && course.description) || course.ages == \" - \" || (course.img_src && !checkLink)) {           \r\n    yellowCount = yellowCount+1;}\r\n    });\r\n\r\n    function componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={styles.filterArea}>\r\n                <div className={styles.leftArea}>\r\n                    <p className={styles.moderate}>\r\n                        <b>Все карточки ({courseCards.length}): </b> \r\n                        <input\r\n                            type=\"radio\"\r\n                            onClick={() => {\r\n                                setAllCards(true);\r\n                                setRedCheck(false);\r\n                                setYellowCheck(false);\r\n                                setVerificatedCards(false);\r\n                                setNotVerificatedCards(false);\r\n                                setFindByCenter(false);\r\n                                }\r\n                            }\r\n                            checked={allCards}\r\n                            />\r\n                    </p>\r\n                    <p className={styles.moderate}>\r\n                        <b>Только утвержденные ({verCount}): </b> \r\n                        <input\r\n                            type=\"radio\"\r\n                            onClick={() => {\r\n                                setVerificatedCards(true);\r\n                                setNotVerificatedCards(false);\r\n                                setAllCards(false);\r\n                                setRedCheck(false);\r\n                                setYellowCheck(false);\r\n                                setFindByCenter(false);\r\n                                }\r\n                            }\r\n                            checked={verificatedCards}\r\n                            />\r\n                    </p>\r\n                    <p className={styles.moderate}>\r\n                        <b>Только не утвержденные ({notVerCount}): </b> \r\n                        <input\r\n                            type=\"radio\"\r\n                            onClick={() => {\r\n                                setNotVerificatedCards(true);\r\n                                setVerificatedCards(false);\r\n                                setAllCards(false);\r\n                                setRedCheck(false);\r\n                                setYellowCheck(false);\r\n                                setFindByCenter(false);\r\n                                }\r\n                            }\r\n                            checked={notVerificatedCards}\r\n                            />\r\n                    </p>\r\n                </div>\r\n                <div className={styles.rightArea}>\r\n                    <p className={styles.moderate}>\r\n                        <b>С незаполненными полями ({redCount}): </b> \r\n                        <input\r\n                            type=\"radio\"\r\n                            onClick={() => {\r\n                                setRedCheck(true);\r\n                                setAllCards(false);\r\n                                setYellowCheck(false);\r\n                                setVerificatedCards(false);\r\n                                setNotVerificatedCards(false);\r\n                                setFindByCenter(false);\r\n                                }\r\n                            }\r\n                            checked={redCheck}\r\n                        />\r\n                    </p>\r\n                    <p className={styles.moderate}>\r\n                        <b>С неверными или повторяющимися полями ({yellowCount}): </b> \r\n                        <input\r\n                            type=\"radio\"\r\n                            onClick={() => {\r\n                                setYellowCheck(true);\r\n                                setAllCards(false);\r\n                                setRedCheck(false);\r\n                                setVerificatedCards(false);\r\n                                setNotVerificatedCards(false);\r\n                                setFindByCenter(false);\r\n                                }\r\n                            }\r\n                            checked={yellowCheck}\r\n                        />\r\n                    </p>\r\n                    <p className={styles.moderate}>\r\n                        <b>Поиск по центру ({byCenterCount}): </b> \r\n                        <input\r\n                            type=\"radio\"\r\n                            onClick={() => {\r\n                                setFindByCenter(true);\r\n                                setYellowCheck(false);\r\n                                setAllCards(false);\r\n                                setRedCheck(false);\r\n                                setVerificatedCards(false);\r\n                                setNotVerificatedCards(false);\r\n                                }\r\n                            }\r\n                            checked={findByCenter}\r\n                        />\r\n                        <select disabled={!findByCenter} className={styles.wrapperItemInput} onChange={e => setSelectedCenterId(e.target.value)}>\r\n                            {\r\n                                filters[2] !== undefined\r\n                                    ?\r\n                                    (filters[2].map(filterOption =>\r\n                                        filterOption.title !== \"test\"\r\n                                            ?\r\n                                            (<option value={filterOption.id}>{filterOption.title} ({filterOption.id})</option>)\r\n                                            :\r\n                                            null\r\n                                    ))\r\n                                    :\r\n                                    null\r\n                            }\r\n                        </select>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            {\r\n                courseCards.length > 0 && (\r\n                    <div className={styles.courses_block}>\r\n                        {\r\n                            courseCards.map(course => {\r\n                                const str = String(course.img_src);\r\n                                const substr = 'realibi';\r\n                                const checkLink = str.includes(substr);\r\n                                if(course.title !== 'test'){\r\n                                    if (redCheck == true) {\r\n                                        if (!course.title || !course.addresses || !course.ages || !course.category || !course.course_desc || !course.course_title || !course.description || !course.format || !course.img_src || !course.phones || !course.price || !course.schedule || !course.type){\r\n                                            return (\r\n                                                <div style={{marginLeft: '5%', marginRight: '5%'}}>\r\n                                                    <ModerateCourseCard coverImage={imagesBase[Math.floor(Math.random() * imagesBase.length)].src} setLoadingModal={setLoadingModal} course={course} showApplicationModal={true}/>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    }\r\n                                    if (yellowCheck == true) {\r\n                                        if (((course.title == course.description) && course.title) || ((course.title == course.course_desc) && course.title) || ((course.description == course.course_desc) && course.description) || course.ages == \" - \" || (course.img_src && !checkLink)){\r\n                                            return (\r\n                                                <div style={{marginLeft: '5%', marginRight: '5%'}}>\r\n                                                    <ModerateCourseCard coverImage={imagesBase[Math.floor(Math.random() * imagesBase.length)].src} setLoadingModal={setLoadingModal} course={course} showApplicationModal={true}/>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    }\r\n                                    if (verificatedCards == true) {\r\n                                        if (course.verificated){\r\n                                            return (\r\n                                                <div style={{marginLeft: '5%', marginRight: '5%'}}>\r\n                                                    <ModerateCourseCard coverImage={imagesBase[Math.floor(Math.random() * imagesBase.length)].src} setLoadingModal={setLoadingModal} course={course} showApplicationModal={true}/>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    }\r\n                                    if (notVerificatedCards == true) {\r\n                                        if (!course.verificated){\r\n                                            return (\r\n                                                <div style={{marginLeft: '5%', marginRight: '5%'}}>\r\n                                                    <ModerateCourseCard coverImage={imagesBase[Math.floor(Math.random() * imagesBase.length)].src} setLoadingModal={setLoadingModal} course={course} showApplicationModal={true}/>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    }\r\n                                    if (selectedCenterId == course.course_id) {\r\n                                        if (!course.verificated){\r\n                                            return (\r\n                                                <div style={{marginLeft: '5%', marginRight: '5%'}}>\r\n                                                    <ModerateCourseCard coverImage={imagesBase[Math.floor(Math.random() * imagesBase.length)].src} setLoadingModal={setLoadingModal} course={course} showApplicationModal={true}/>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    }\r\n                                    if (allCards == true) {\r\n                                        return (\r\n                                        <div style={{marginLeft: '5%', marginRight: '5%'}}>\r\n                                            <ModerateCourseCard coverImage={imagesBase[Math.floor(Math.random() * imagesBase.length)].src} setLoadingModal={setLoadingModal} course={course} showApplicationModal={true}/>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n\r\n\r\n                                }\r\n                            })\r\n                        }\r\n                    </div>\r\n                )\r\n            }\r\n            {\r\n                coursesLoading ? (<LoadingBlock/> ) : (\r\n                    showUps && (courseCards.length < 1 ? <CourseSearchResultIsNotDefind catalog={true}/> : null)\r\n                )\r\n            }\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ModeratorBlock;\r\n"]},"metadata":{},"sourceType":"module"}