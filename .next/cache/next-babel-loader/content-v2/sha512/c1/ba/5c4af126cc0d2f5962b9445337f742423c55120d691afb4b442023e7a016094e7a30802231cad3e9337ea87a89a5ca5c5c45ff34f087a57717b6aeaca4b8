{"ast":null,"code":"var _jsxFileName = \"C:\\\\Server\\\\data\\\\htdocs\\\\oilanio-mirror\\\\src\\\\components\\\\RequestCourseCard\\\\RequestCourseCard.js\";\nvar __jsx = React.createElement;\nimport styles from '../../../styles/components/CourseCard.module.css';\nimport Link from \"next/link\";\nimport React, { useState } from \"react\";\nimport { SignupToCourseForm } from \"../Forms/SignupToCourseForm/SignupToCourseForm\";\nimport ModalWindow from \"../Modal/ModalWindow\";\nimport classnames from 'classnames';\nimport globals from \"../../globals\";\n\nconst axios = require('axios').default;\n\nexport default function RequestCourseCard(props) {\n  const {\n    0: show,\n    1: setShow\n  } = useState(false);\n  const {\n    0: showInfo,\n    1: setShowInfo\n  } = useState(false);\n  const {\n    0: showPhoneNumber,\n    1: setShowPhoneNumber\n  } = useState(false);\n  const {\n    0: showContacts,\n    1: setShowContacts\n  } = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  function prettify(num) {\n    var n = num.toString();\n    return n.replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1\" + ' ');\n  }\n\n  const coursePrice = prettify(props.course.price);\n\n  const getCurrentDateTime = () => {\n    let currentDate = new Date();\n    let dd = currentDate.getDate();\n    if (dd < 10) dd = '0' + dd;\n    let mm = currentDate.getMonth() + 1;\n    if (mm < 10) mm = '0' + mm;\n    let yy = currentDate.getFullYear();\n    let hours = currentDate.getHours();\n    let min = currentDate.getMinutes();\n    let sec = currentDate.getSeconds();\n    return yy + \"-\" + mm + \"-\" + dd + \" \" + hours + \":\" + min + \":\" + sec;\n  };\n\n  return __jsx(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, __jsx(ModalWindow, {\n    show: show,\n    handleClose: handleClose,\n    heading: 'Запись на пробный урок',\n    body: __jsx(SignupToCourseForm, {\n      course: props.course,\n      handleClose: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 105\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: styles.titleImage__Body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: styles.titleImageWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: styles.titleImageBody,\n    style: {\n      backgroundImage: `url(${props.course.background_image_url})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    className: styles.image_block,\n    style: {\n      backgroundImage: `url(${props.course.img_src})`,\n      backgroundPosition: 'center',\n      backgroundSize: 'cover',\n      backgroundColor: 'white',\n      border: '1px solid white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: styles.info_block,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    style: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: styles.titleBlock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, __jsx(\"p\", {\n    className: styles.course_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, props.course.course_title)), __jsx(\"div\", {\n    className: styles.socnetBlock,\n    style: {\n      marginBottom: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, props.course.instagram ? __jsx(React.Fragment, null, __jsx(\"a\", {\n    href: `https://www.instagram.com/${props.course.instagram}/`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: \"/instagram.png\",\n    className: styles.icons,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 41\n    }\n  }))) : null || undefined, props.course.website !== null ? __jsx(React.Fragment, null, __jsx(\"a\", {\n    href: `${props.course.website}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: \"/network.png\",\n    className: styles.icons,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 41\n    }\n  }))) : null)), __jsx(\"p\", {\n    className: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, props.course.title), __jsx(\"div\", {\n    style: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, __jsx(\"p\", {\n    className: styles.info_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, \"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B: \"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    onClick: async () => {\n      setShowPhoneNumber(!showPhoneNumber);\n    },\n    className: classnames(styles.info_small, styles.phone),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 33\n    }\n  }, props.course.phones ? showPhoneNumber ? `${props.course.phones} ←` : props.course.phones.substr(0, 8).concat(\"-...→\") : null)), __jsx(\"div\", {\n    className: classnames(showInfo ? styles.show : styles.hide),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, __jsx(\"p\", {\n    className: styles.info_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 29\n    }\n  }, \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043A\\u0443\\u0440\\u0441\\u0430:\"), __jsx(\"p\", {\n    className: styles.info_small,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }, props.course.description), __jsx(\"p\", {\n    className: styles.info_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }, \"\\u041E\\u0436\\u0438\\u0434\\u0430\\u0435\\u043C\\u044B\\u0439 \\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442:\"), __jsx(\"p\", {\n    className: styles.info_small,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }, props.course.expected_result), __jsx(\"p\", {\n    className: styles.info_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }, \"\\u041D\\u0435\\u043E\\u0431\\u0445\\u043E\\u0434\\u0438\\u043C\\u044B\\u0435 \\u043D\\u0430\\u0447\\u0430\\u043B\\u044C\\u043D\\u044B\\u0435 \\u0437\\u043D\\u0430\\u043D\\u0438\\u044F:\"), __jsx(\"p\", {\n    className: styles.info_small,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 29\n    }\n  }, props.course.start_requirements), __jsx(\"p\", {\n    className: styles.info_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 29\n    }\n  }, \"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C \\u043A\\u0443\\u0440\\u0441\\u0430: \"), __jsx(\"p\", {\n    className: styles.info_small,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 29\n    }\n  }, props.course.duration), __jsx(\"p\", {\n    className: styles.info_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 29\n    }\n  }, \"\\u0412\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442\\u043D\\u0430\\u044F \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F: \"), __jsx(\"p\", {\n    className: styles.info_small,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  }, props.course.ages), __jsx(\"p\", {\n    className: styles.info_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 29\n    }\n  }, \"\\u0412\\u0438\\u0434 \\u0437\\u0430\\u043D\\u044F\\u0442\\u0438\\u0439: \"), __jsx(\"p\", {\n    className: styles.info_small,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 29\n    }\n  }, props.course.type), __jsx(\"p\", {\n    className: styles.info_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 29\n    }\n  }, \"\\u0424\\u043E\\u0440\\u043C\\u0430\\u0442 \\u0437\\u0430\\u043D\\u044F\\u0442\\u0438\\u0439: \"), __jsx(\"p\", {\n    className: styles.info_small,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 29\n    }\n  }, props.course.format)))), __jsx(\"div\", {\n    className: styles.linkButtonBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    className: styles.info_price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0430: \", coursePrice, \" \", props.course.currency, \"/\", props.course.unit_of_time), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, __jsx(\"button\", {\n    onClick: async () => {\n      if (!showInfo) {\n        setShowInfo(true);\n      } else {\n        setShowInfo(false);\n      }\n    },\n    className: styles.info_button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 25\n    }\n  }, showInfo ? 'Скрыть' : 'Показать больше')), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 21\n    }\n  }, __jsx(\"button\", {\n    className: styles.info_button,\n    onClick: async () => {\n      console.log('card id: ' + props.course.id);\n      console.log('subcourse id: ' + props.course.subcourse_id);\n\n      if (props.type === 'editCard') {\n        await axios({\n          method: 'post',\n          url: `${globals.productionServerDomain}/approveEditCard`,\n          data: {\n            cardId: props.course.subcourse_id\n          },\n          headers: {\n            'Authorization': `Bearer ${JSON.parse(localStorage.getItem(globals.localStorageKeys.authToken)).token}`\n          }\n        }).then(() => location.reload()).catch(() => alert(\"что-то пошло нетак\"));\n      } else {\n        await axios({\n          method: 'post',\n          url: `${globals.productionServerDomain}/approveCard`,\n          data: {\n            cardId: props.course.id\n          },\n          headers: {\n            'Authorization': `Bearer ${JSON.parse(localStorage.getItem(globals.localStorageKeys.authToken)).token}`\n          }\n        }).then(() => location.reload()).catch(() => alert(\"что-то пошло нетак\"));\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 24\n    }\n  }, \"\\u041F\\u0440\\u0438\\u043D\\u044F\\u0442\\u044C\")), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 21\n    }\n  }, __jsx(\"button\", {\n    className: styles.info_button,\n    onClick: async () => {\n      axios({\n        method: 'post',\n        url: `${globals.productionServerDomain}/declineCard`,\n        data: {\n          cardId: props.course.subcourse_id\n        },\n        headers: {\n          'Authorization': `Bearer ${JSON.parse(localStorage.getItem(globals.localStorageKeys.authToken)).token}`\n        }\n      }).then(() => location.reload());\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 24\n    }\n  }, \"\\u041E\\u0442\\u043A\\u043B\\u043E\\u043D\\u0438\\u0442\\u044C\")))));\n}","map":{"version":3,"sources":["C:/Server/data/htdocs/oilanio-mirror/src/components/RequestCourseCard/RequestCourseCard.js"],"names":["styles","Link","React","useState","SignupToCourseForm","ModalWindow","classnames","globals","axios","require","default","RequestCourseCard","props","show","setShow","showInfo","setShowInfo","showPhoneNumber","setShowPhoneNumber","showContacts","setShowContacts","handleClose","handleShow","prettify","num","n","toString","replace","coursePrice","course","price","getCurrentDateTime","currentDate","Date","dd","getDate","mm","getMonth","yy","getFullYear","hours","getHours","min","getMinutes","sec","getSeconds","container","titleImage__Body","titleImageWrapper","titleImageBody","backgroundImage","background_image_url","image_block","img_src","backgroundPosition","backgroundSize","backgroundColor","border","info_block","titleBlock","course_title","socnetBlock","marginBottom","instagram","icons","undefined","website","title","info_title","info_small","phone","phones","substr","concat","hide","description","expected_result","start_requirements","duration","ages","type","format","linkButtonBody","info_price","currency","unit_of_time","display","justifyContent","width","info_button","console","log","id","subcourse_id","method","url","productionServerDomain","data","cardId","headers","JSON","parse","localStorage","getItem","localStorageKeys","authToken","token","then","location","reload","catch","alert"],"mappings":"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","sourcesContent":["import styles from '../../../styles/components/CourseCard.module.css'\r\nimport Link from \"next/link\";\r\nimport React, {useState} from \"react\";\r\nimport {SignupToCourseForm} from \"../Forms/SignupToCourseForm/SignupToCourseForm\";\r\nimport ModalWindow from \"../Modal/ModalWindow\";\r\nimport classnames from 'classnames';\r\nimport globals from \"../../globals\";\r\n\r\nconst axios = require('axios').default;\r\n\r\nexport default function RequestCourseCard(props) {\r\n    const [show, setShow] = useState(false);\r\n    const [showInfo, setShowInfo] = useState(false);\r\n    const [showPhoneNumber, setShowPhoneNumber] = useState(false);\r\n    const [showContacts, setShowContacts] = useState(false)\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    function prettify(num) {\r\n        var n = num.toString();\r\n        return n.replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1\" + ' ');\r\n    }\r\n\r\n    const coursePrice = prettify(props.course.price)\r\n\r\n    const getCurrentDateTime = () => {\r\n        let currentDate = new Date();\r\n\r\n        let dd = currentDate.getDate();\r\n        if(dd < 10) dd = '0' + dd;\r\n\r\n        let mm = currentDate.getMonth()+1;\r\n        if(mm < 10) mm = '0' + mm;\r\n\r\n        let yy = currentDate.getFullYear();\r\n\r\n        let hours = currentDate.getHours();\r\n        let min = currentDate.getMinutes();\r\n        let sec = currentDate.getSeconds();\r\n\r\n        return yy + \"-\" + mm + \"-\" + dd + \" \" + hours + \":\" + min + \":\" + sec;\r\n    }\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <ModalWindow show={show} handleClose={handleClose} heading={'Запись на пробный урок'} body={<SignupToCourseForm course={props.course} handleClose={handleClose}/>}/>\r\n            <div className={styles.titleImage__Body}>\r\n                <div className={styles.titleImageWrapper}>\r\n                    <div className={styles.titleImageBody}\r\n                         style={{\r\n                             backgroundImage: `url(${props.course.background_image_url})`\r\n                         }}\r\n                    >\r\n                    </div>\r\n                </div>\r\n                <div className={styles.image_block} style={{\r\n                    backgroundImage: `url(${props.course.img_src})`,\r\n                    backgroundPosition: 'center',\r\n                    backgroundSize: 'cover',\r\n                    backgroundColor: 'white',\r\n                    border: '1px solid white'\r\n                }}>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={styles.info_block}>\r\n                <div style={{}}>\r\n                    <div className={styles.titleBlock}>\r\n                        <div>\r\n                            <p className={styles.course_title}>{props.course.course_title}</p>\r\n                        </div>\r\n                        <div className={styles.socnetBlock} style={{marginBottom: 5}}>\r\n                            {props.course.instagram ? (\r\n                                <>\r\n                                    <a href={`https://www.instagram.com/${props.course.instagram}/`}>\r\n                                        <img src=\"/instagram.png\" className={styles.icons} alt=\"\"/>\r\n                                    </a>\r\n                                </>\r\n                            ) : null || undefined }\r\n                            {props.course.website !== null ? (\r\n                                <>\r\n                                    <a href={`${props.course.website}`}>\r\n                                        <img src=\"/network.png\" className={styles.icons} alt=\"\"/>\r\n                                    </a>\r\n                                </>\r\n                            ) : null }\r\n                        </div>\r\n                        {/*<div className={styles.rating_img}>*/}\r\n                        {/*    /!*<img src=\"/star.png\" alt=\"\" height={'16px'}/>*!/*/}\r\n                        {/*    <svg className={styles.svgStar} height=\"511pt\" viewBox=\"0 -10 511.98685 511\" width=\"511pt\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m510.652344 185.902344c-3.351563-10.367188-12.546875-17.730469-23.425782-18.710938l-147.773437-13.417968-58.433594-136.769532c-4.308593-10.023437-14.121093-16.511718-25.023437-16.511718s-20.714844 6.488281-25.023438 16.535156l-58.433594 136.746094-147.796874 13.417968c-10.859376 1.003906-20.03125 8.34375-23.402344 18.710938-3.371094 10.367187-.257813 21.738281 7.957031 28.90625l111.699219 97.960937-32.9375 145.089844c-2.410156 10.667969 1.730468 21.695313 10.582031 28.09375 4.757813 3.4375 10.324219 5.1875 15.9375 5.1875 4.839844 0 9.640625-1.304687 13.949219-3.882813l127.46875-76.183593 127.421875 76.183593c9.324219 5.609376 21.078125 5.097657 29.910156-1.304687 8.855469-6.417969 12.992187-17.449219 10.582031-28.09375l-32.9375-145.089844 111.699219-97.941406c8.214844-7.1875 11.351563-18.539063 7.980469-28.925781zm0 0\" fill=\"#ffc107\"/></svg>*/}\r\n                        {/*    <span className={styles.rating_value}>{props.course.rating}</span>*/}\r\n                        {/*</div>*/}\r\n                    </div>\r\n\r\n                    <p className={styles.title}>{props.course.title}</p>\r\n\r\n                    {/*<p className={styles.contactsButton}>Контакты и соц.сети</p>*/}\r\n\r\n                    <div style={{}}>\r\n                        <p className={styles.info_title}>Контакты: </p>\r\n                        <div>\r\n                                <span onClick={async () => {\r\n                                    setShowPhoneNumber(!showPhoneNumber)\r\n                                }} className={classnames(styles.info_small, styles.phone)}>\r\n                                    { props.course.phones ?\r\n                                        (showPhoneNumber ? `${props.course.phones} ←` : props.course.phones.substr(0, 8).concat(\"-...→\")) :\r\n                                        null }\r\n                                </span>\r\n                        </div>\r\n\r\n                        <div className={classnames(showInfo ? styles.show : styles.hide)}>\r\n\r\n                            <p className={styles.info_title}>Описание курса:</p>\r\n                            <p className={styles.info_small}>{props.course.description}</p>\r\n\r\n                            <p className={styles.info_title}>Ожидаемый результат:</p>\r\n                            <p className={styles.info_small}>{props.course.expected_result}</p>\r\n\r\n                            <p className={styles.info_title}>Необходимые начальные знания:</p>\r\n                            <p className={styles.info_small}>{props.course.start_requirements}</p>\r\n\r\n                            <p className={styles.info_title}>Продолжительность курса: </p>\r\n                            <p className={styles.info_small}>{props.course.duration}</p>\r\n\r\n                            <p className={styles.info_title}>Возрастная категория: </p>\r\n                            <p className={styles.info_small}>{props.course.ages}</p>\r\n\r\n                            <p className={styles.info_title}>Вид занятий: </p>\r\n                            <p className={styles.info_small}>{props.course.type}</p>\r\n\r\n                            <p className={styles.info_title}>Формат занятий: </p>\r\n                            <p className={styles.info_small}>{props.course.format}</p>\r\n\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={styles.linkButtonBody}>\r\n                    {/*<div style={{alignItems: 'center', width: '100%', textAlign: 'center', marginBottom: '15px'}}>*/}\r\n                    {/*    <a className={styles.showHideBtn} onClick={() => {*/}\r\n                    {/*        setShowInfo(!showInfo);*/}\r\n                    {/*    }}>{showInfo ? 'Скрыть' : 'Показать больше'}</a>*/}\r\n\r\n                    {/*    <img src=\"/arrow-bottom.png\" alt=\"\" onClick={() => {*/}\r\n                    {/*        setShowInfo(!showInfo);*/}\r\n                    {/*    }}*/}\r\n                    {/*         className={ showInfo ? styles.hideArrow : styles.showArrow}*/}\r\n                    {/*    />*/}\r\n                    {/*</div>*/}\r\n                    <p className={styles.info_price}>Цена: {coursePrice} {props.course.currency}/{props.course.unit_of_time}</p>\r\n                    <div style={{display: 'flex', justifyContent: 'center', width: '100%'}}>\r\n                        <button onClick={async () => {\r\n                            if(!showInfo){\r\n                                setShowInfo(true);\r\n                            }else{\r\n                                setShowInfo(false);\r\n                            }\r\n                        }}\r\n                                className={styles.info_button}>{showInfo ? 'Скрыть' : 'Показать больше'}</button>\r\n                    </div>\r\n                    <div style={{display: 'flex', justifyContent: 'center', width: '100%'}}>\r\n                       <button className={styles.info_button} onClick={async () => {\r\n                           console.log('card id: ' + props.course.id)\r\n                           console.log('subcourse id: ' + props.course.subcourse_id)\r\n                           if(props.type === 'editCard'){\r\n                               await axios({\r\n                                   method: 'post',\r\n                                   url: `${globals.productionServerDomain}/approveEditCard`,\r\n                                   data: {\r\n                                       cardId: props.course.subcourse_id\r\n                                   },\r\n                                   headers: {\r\n                                       'Authorization': `Bearer ${JSON.parse(localStorage.getItem(globals.localStorageKeys.authToken)).token}`\r\n                                   }\r\n                               }).then(() => location.reload()).catch(() => alert(\"что-то пошло нетак\"));\r\n                           }else{\r\n                               await axios({\r\n                                   method: 'post',\r\n                                   url: `${globals.productionServerDomain}/approveCard`,\r\n                                   data: {\r\n                                       cardId: props.course.id\r\n                                   },\r\n                                   headers: {\r\n                                       'Authorization': `Bearer ${JSON.parse(localStorage.getItem(globals.localStorageKeys.authToken)).token}`\r\n                                   }\r\n                               }).then(() => location.reload()).catch(() => alert(\"что-то пошло нетак\"));\r\n                           }\r\n                       }}>Принять</button>\r\n                    </div>\r\n                    <div style={{display: 'flex', justifyContent: 'center', width: '100%'}}>\r\n                       <button className={styles.info_button} onClick={async () => {\r\n                           axios({\r\n                               method: 'post',\r\n                               url: `${globals.productionServerDomain}/declineCard`,\r\n                               data: {\r\n                                   cardId: props.course.subcourse_id\r\n                               },\r\n                               headers: {\r\n                                   'Authorization': `Bearer ${JSON.parse(localStorage.getItem(globals.localStorageKeys.authToken)).token}`\r\n                               }\r\n                           }).then(() => location.reload())\r\n                       }}>Отклонить</button>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}