{"ast":null,"code":"import _regeneratorRuntime from \"C:/Server/data/htdocs/oilanio-mirror/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Server/data/htdocs/oilanio-mirror/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Server\\\\data\\\\htdocs\\\\oilanio-mirror\\\\src\\\\components\\\\TutorCourseCard\\\\index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport styles from './style.module.css';\nimport Link from \"next/link\";\nimport React, { useEffect, useState } from \"react\";\nimport { SignupToCourseForm } from \"../Forms/SignupToCourseForm/SignupToCourseForm\";\nimport ModalWindow from \"../Modal/ModalWindow\";\nimport classnames from 'classnames';\nimport globals from \"../../globals\";\nimport { Image } from \"react-bootstrap\";\n\nvar axios = require('axios')[\"default\"];\n\nexport default function TutorCourseCard(props) {\n  _s();\n\n  var _useState = useState(false),\n      show = _useState[0],\n      setShow = _useState[1];\n\n  var _useState2 = useState(false),\n      showInfo = _useState2[0],\n      setShowInfo = _useState2[1];\n\n  var _useState3 = useState(false),\n      showPhoneNumber = _useState3[0],\n      setShowPhoneNumber = _useState3[1];\n\n  var _useState4 = useState(false),\n      showContacts = _useState4[0],\n      setShowContacts = _useState4[1];\n\n  var handleClose = function handleClose() {\n    return setShow(false);\n  };\n\n  var handleShow = function handleShow() {\n    return setShow(true);\n  };\n\n  var _useState5 = useState(200),\n      symbolsToShow = _useState5[0],\n      setSymbolsToShow = _useState5[1];\n\n  var _useState6 = useState(10),\n      wordsToShowLength = _useState6[0],\n      setWordsToShowLength = _useState6[1];\n\n  var _useState7 = useState(\"\\u2661\"),\n      heartValue = _useState7[0],\n      setHeartValue = _useState7[1];\n\n  function prettify(num) {\n    var n = num.toString();\n    return n.replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1\" + ' ');\n  }\n\n  var coursePrice = prettify(props.course.price);\n\n  var getCurrentDateTime = function getCurrentDateTime() {\n    var currentDate = new Date();\n    var dd = currentDate.getDate();\n    if (dd < 10) dd = '0' + dd;\n    var mm = currentDate.getMonth() + 1;\n    if (mm < 10) mm = '0' + mm;\n    var yy = currentDate.getFullYear();\n    var hours = currentDate.getHours();\n    var min = currentDate.getMinutes();\n    var sec = currentDate.getSeconds();\n    return yy + \"-\" + mm + \"-\" + dd + \" \" + hours + \":\" + min + \":\" + sec;\n  };\n\n  var _useState8 = useState(false),\n      applicationSent = _useState8[0],\n      setApplicationSent = _useState8[1];\n\n  useEffect(function () {\n    if (window.innerWidth <= 992) {\n      setSymbolsToShow(200);\n    } else {\n      setSymbolsToShow(300);\n    }\n  }, []);\n  return __jsx(\"div\", {\n    className: styles.container,\n    style: {\n      width: props.application !== undefined ? '40%' : null\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, __jsx(ModalWindow, {\n    show: show,\n    handleClose: handleClose,\n    heading: 'Оставить заявку репетитору',\n    body: __jsx(SignupToCourseForm, {\n      sendApplicationCallback: props.sendApplicationCallback,\n      course: props.course,\n      tutor: props.course,\n      handleClose: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 109\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: styles.titleImage__Body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: styles.titleImageWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: styles.titleImageBody,\n    style: {\n      backgroundImage: \"url(\".concat(props.coverImage, \")\")\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }), __jsx(\"div\", {\n    className: styles.titleLinkButtonBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    className: styles.infoTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }, \"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E \\u0440\\u0435\\u043F\\u0435\\u0442\\u0438\\u0442\\u043E\\u0440\\u0435:\"), \" \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 96\n    }\n  }), __jsx(\"span\", {\n    className: styles.infoSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }, props.course.tutor_description === null ? 'Репетитор не указал информацию о себе. :(' : props.course.tutor_description.length > symbolsToShow ? __jsx(React.Fragment, null, props.course.tutor_description.substr(0, symbolsToShow).concat(''), __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 49\n    }\n  }, \"...\\u043E\\u0441\\u0442\\u0430\\u043B\\u044C\\u043D\\u043E\\u0435 \\u0432 \\\"\\u0423\\u0437\\u043D\\u0430\\u0442\\u044C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435\\\"\")) : props.course.tutor_description))), __jsx(\"div\", {\n    className: styles.titleImage__Body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: styles.image_block,\n    style: props.course.img_src ? {\n      backgroundImage: \"url(\".concat(props.course.category_img, \")\"),\n      backgroundPosition: 'center',\n      backgroundSize: 'cover',\n      backgroundColor: 'white',\n      border: '1px solid white'\n    } : {\n      backgroundImage: \"url(https://realibi.kz/file/338803.png)\",\n      backgroundPosition: 'center',\n      backgroundSize: 'cover',\n      backgroundColor: 'white',\n      border: '1px solid white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    className: styles.fullname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, props.course.fullname)), __jsx(\"div\", {\n    className: styles.info_block,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, __jsx(\"p\", {\n    className: styles.course_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, props.course.category_name)), __jsx(\"div\", {\n    style: {\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: styles.info_value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, props.course.city_name, \". \", props.course.can_work_online && 'Онлайн. ', props.course.can_work_offline && 'Офлайн. ')), __jsx(\"div\", {\n    style: {\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: styles.info_value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, \"\\u042F\\u0437\\u044B\\u043A \\u043F\\u0440\\u0435\\u043F\\u043E\\u0434\\u0430\\u0432\\u0430\\u043D\\u0438\\u044F: \", props.course.teaching_language)), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      marginBottom: -15,\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, props.course.currency === '$' ? __jsx(\"p\", {\n    className: styles.info_price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 37\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0430: \", props.course.currency, coursePrice, \"/\", props.course.unit_of_time) : __jsx(\"p\", {\n    className: styles.info_price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 37\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0430: \", coursePrice, \" \", props.course.currency, \"/\", props.course.unit_of_time))))), __jsx(\"div\", {\n    className: styles.linkButtonBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, applicationSent ? __jsx(\"p\", {\n    className: styles.applicationSentText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 25\n    }\n  }, \"\\u0417\\u0430\\u044F\\u0432\\u043A\\u0430 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0430!\") : __jsx(\"button\", {\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setShow(!show);\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })),\n    className: styles.linkButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }, \"\\u0423\\u0437\\u043D\\u0430\\u0442\\u044C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435\"), __jsx(\"a\", {\n    onClick: function onClick() {\n      ym(78186067, 'reachGoal', 'whatsapp_click_tutor');\n      axios.post(globals.productionServerDomain + '/logUserClick', {\n        course_id: props.course.tutor_id,\n        card_id: props.course.id,\n        event_name: 'whatsapp',\n        is_tutor_card: true\n      });\n    },\n    href: \"https://api.whatsapp.com/send?phone=\".concat(props.course.phone_number, \"&text=%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5%2C%20%D0%BF%D0%B8%D1%88%D1%83%20%D0%92%D0%B0%D0%BC%20%D1%81%20%D0%BF%D0%BB%D0%B0%D1%82%D1%84%D0%BE%D1%80%D0%BC%D1%8B%20Oilan,\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    style: {\n      height: '100%',\n      width: 45,\n      marginLeft: 10,\n      borderRadius: 8,\n      backgroundImage: \"url('/whatsapp_logo.png')\",\n      backgroundPosition: 'center',\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'contain',\n      boxShadow: '0 0 1px grey',\n      backgroundColor: '#23d366'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 25\n    }\n  })))));\n}\n\n_s(TutorCourseCard, \"hgtpgPixjRWNMKWleUKhRD1hslo=\");\n\n_c = TutorCourseCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"TutorCourseCard\");","map":{"version":3,"sources":["C:/Server/data/htdocs/oilanio-mirror/src/components/TutorCourseCard/index.js"],"names":["styles","Link","React","useEffect","useState","SignupToCourseForm","ModalWindow","classnames","globals","Image","axios","require","TutorCourseCard","props","show","setShow","showInfo","setShowInfo","showPhoneNumber","setShowPhoneNumber","showContacts","setShowContacts","handleClose","handleShow","symbolsToShow","setSymbolsToShow","wordsToShowLength","setWordsToShowLength","heartValue","setHeartValue","prettify","num","n","toString","replace","coursePrice","course","price","getCurrentDateTime","currentDate","Date","dd","getDate","mm","getMonth","yy","getFullYear","hours","getHours","min","getMinutes","sec","getSeconds","applicationSent","setApplicationSent","window","innerWidth","container","width","application","undefined","sendApplicationCallback","titleImage__Body","titleImageWrapper","titleImageBody","backgroundImage","coverImage","titleLinkButtonBody","infoTitle","infoSubtitle","tutor_description","length","substr","concat","image_block","img_src","category_img","backgroundPosition","backgroundSize","backgroundColor","border","fullname","info_block","course_title","category_name","margin","info_value","city_name","can_work_online","can_work_offline","teaching_language","display","justifyContent","marginBottom","marginTop","currency","info_price","unit_of_time","linkButtonBody","applicationSentText","linkButton","ym","post","productionServerDomain","course_id","tutor_id","card_id","id","event_name","is_tutor_card","phone_number","height","marginLeft","borderRadius","backgroundRepeat","boxShadow"],"mappings":"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","sourcesContent":["import styles from './style.module.css'\r\nimport Link from \"next/link\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {SignupToCourseForm} from \"../Forms/SignupToCourseForm/SignupToCourseForm\";\r\nimport ModalWindow from \"../Modal/ModalWindow\";\r\nimport classnames from 'classnames';\r\nimport globals from \"../../globals\";\r\nimport {Image} from \"react-bootstrap\";\r\n\r\nconst axios = require('axios').default;\r\n\r\nexport default function TutorCourseCard(props) {\r\n    const [show, setShow] = useState(false);\r\n    const [showInfo, setShowInfo] = useState(false);\r\n    const [showPhoneNumber, setShowPhoneNumber] = useState(false);\r\n    const [showContacts, setShowContacts] = useState(false)\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    const [symbolsToShow, setSymbolsToShow] = useState(200)\r\n\r\n    const [wordsToShowLength, setWordsToShowLength] = useState(10)\r\n    const [heartValue, setHeartValue] = useState('\\u2661')\r\n\r\n    function prettify(num) {\r\n        var n = num.toString();\r\n        return n.replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1\" + ' ');\r\n    }\r\n\r\n\r\n    const coursePrice = prettify(props.course.price)\r\n\r\n    const getCurrentDateTime = () => {\r\n        let currentDate = new Date();\r\n\r\n        let dd = currentDate.getDate();\r\n        if(dd < 10) dd = '0' + dd;\r\n\r\n        let mm = currentDate.getMonth()+1;\r\n        if(mm < 10) mm = '0' + mm;\r\n\r\n        let yy = currentDate.getFullYear();\r\n\r\n        let hours = currentDate.getHours();\r\n        let min = currentDate.getMinutes();\r\n        let sec = currentDate.getSeconds();\r\n\r\n        return yy + \"-\" + mm + \"-\" + dd + \" \" + hours + \":\" + min + \":\" + sec;\r\n    }\r\n\r\n    const [applicationSent, setApplicationSent] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        if(window.innerWidth <= 992) {\r\n            setSymbolsToShow(200)\r\n        } else {\r\n            setSymbolsToShow(300)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className={styles.container} style={{width: props.application !== undefined ? '40%' : null}} >\r\n            <ModalWindow show={show} handleClose={handleClose} heading={'Оставить заявку репетитору'} body={<SignupToCourseForm sendApplicationCallback={props.sendApplicationCallback} course={props.course} tutor={props.course} handleClose={handleClose}/>}/>\r\n\r\n            <div style={{width: '100%'}}>\r\n                <div  className={styles.titleImage__Body}>\r\n                    <div className={styles.titleImageWrapper}>\r\n                        <div className={styles.titleImageBody}\r\n                             style={{\r\n                                 backgroundImage: `url(${props.coverImage})`\r\n                             }}\r\n                        >\r\n                        </div>\r\n                        <div className={styles.titleLinkButtonBody}>\r\n                            <span className={styles.infoTitle}>Информация о репетиторе:</span> <br/>\r\n                            <span className={styles.infoSubtitle}>\r\n                                {\r\n                                    props.course.tutor_description === null\r\n                                    ?\r\n                                    'Репетитор не указал информацию о себе. :('\r\n                                    :\r\n                                        props.course.tutor_description.length > symbolsToShow ?\r\n                                            <>\r\n                                                {props.course.tutor_description.substr(0, symbolsToShow).concat('')}\r\n                                                <b>...остальное в \"Узнать больше\"</b>\r\n                                            </>\r\n                                             :\r\n                                            props.course.tutor_description\r\n                                }\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={styles.titleImage__Body}>\r\n                        <div className={styles.image_block} style={props.course.img_src?\r\n                            {\r\n                                backgroundImage: `url(${props.course.category_img})`,\r\n                                backgroundPosition: 'center',\r\n                                backgroundSize: 'cover',\r\n                                backgroundColor: 'white',\r\n                                border: '1px solid white'\r\n                            }:{\r\n                                backgroundImage: `url(https://realibi.kz/file/338803.png)`,\r\n                                backgroundPosition: 'center',\r\n                                backgroundSize: 'cover',\r\n                                backgroundColor: 'white',\r\n                                border: '1px solid white'\r\n                            }}>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <p className={styles.fullname}>\r\n\r\n                        {props.course.fullname}\r\n\r\n                    </p>\r\n                </div>\r\n\r\n                <div className={styles.info_block}>\r\n                    <div>\r\n                        <p className={styles.course_title}>\r\n\r\n                            {props.course.category_name}\r\n\r\n                        </p>\r\n\r\n                        {/*<span className={styles.info_title}>:</span>*/}\r\n                        {/*<span className={styles.info_value}> {props.course.phone_number}</span>*/}\r\n                    </div>\r\n\r\n                    <div style={{margin: 0}}>\r\n                        <span className={styles.info_value}>{props.course.city_name}. {props.course.can_work_online && 'Онлайн. '}{props.course.can_work_offline && 'Офлайн. '}</span>\r\n                    </div>\r\n\r\n                    <div style={{margin: 0}}>\r\n                        <span className={styles.info_value}>Язык преподавания: {props.course.teaching_language}</span>\r\n                    </div>\r\n\r\n                    <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: -15, marginTop: 10}}>\r\n                        <div>\r\n                            {props.course.currency === '$' ?\r\n                                (\r\n                                    <p className={styles.info_price}>Цена: {props.course.currency}{coursePrice}/{props.course.unit_of_time}</p>\r\n                                )\r\n                                : (\r\n                                    <p className={styles.info_price}>Цена: {coursePrice} {props.course.currency}/{props.course.unit_of_time}</p>\r\n                                )\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={styles.linkButtonBody}>\r\n                <div style={{display: 'flex'}}>\r\n                    {applicationSent ? (\r\n                        <p className={styles.applicationSentText}>Заявка отправлена!</p>\r\n                    ) : (\r\n                        <button onClick={async () => {\r\n                            setShow(!show);\r\n                        }} className={styles.linkButton}>Узнать больше</button>\r\n                    )}\r\n\r\n                    <a\r\n                        onClick={() => {\r\n                            ym(78186067,'reachGoal','whatsapp_click_tutor');\r\n                            axios.post(globals.productionServerDomain + '/logUserClick',{\r\n                                course_id: props.course.tutor_id,\r\n                                card_id: props.course.id,\r\n                                event_name: 'whatsapp',\r\n                                is_tutor_card: true\r\n                            })\r\n                        }}\r\n                        href={`https://api.whatsapp.com/send?phone=${props.course.phone_number}&text=%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5%2C%20%D0%BF%D0%B8%D1%88%D1%83%20%D0%92%D0%B0%D0%BC%20%D1%81%20%D0%BF%D0%BB%D0%B0%D1%82%D1%84%D0%BE%D1%80%D0%BC%D1%8B%20Oilan,`}>\r\n                        <div\r\n                            style={{\r\n                                height: '100%',\r\n                                width: 45,\r\n                                marginLeft: 10,\r\n                                borderRadius: 8,\r\n                                backgroundImage: `url('/whatsapp_logo.png')`,\r\n                                backgroundPosition: 'center',\r\n                                backgroundRepeat: 'no-repeat',\r\n                                backgroundSize: 'contain',\r\n                                boxShadow: '0 0 1px grey',\r\n                                backgroundColor: '#23d366'\r\n                            }}\r\n                        >\r\n                        </div>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}