{"ast":null,"code":"var _jsxFileName = \"C:\\\\Server\\\\data\\\\htdocs\\\\oilanio-mirror\\\\src\\\\components\\\\CreateTeacherCard\\\\CreateTeacherCard.js\";\nvar __jsx = React.createElement;\nimport styles from '../../../styles/components/CreateTeacherCard.module.css';\nimport Link from \"next/link\";\nimport React, { useState } from \"react\";\nimport classnames from 'classnames';\nimport globals from \"../../globals\";\n\nconst axios = require('axios').default;\n\nexport default function CreateTeacherCard(props) {\n  const {\n    0: showInfo,\n    1: setShowInfo\n  } = useState(false);\n  const {\n    0: create,\n    1: setCreate\n  } = useState(false);\n  const {\n    0: fullname,\n    1: setFullname\n  } = useState(\"\");\n  const {\n    0: description,\n    1: setDescription\n  } = useState(\"\");\n  const {\n    0: imgFile,\n    1: setImgFile\n  } = useState(null);\n\n  const addTeacherCard = () => {\n    let formData = new FormData();\n    formData.append('file', imgFile);\n    axios({\n      method: \"post\",\n      url: `${globals.ftpDomain}/file/upload`,\n      data: formData,\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }).then(function (response) {\n      axios({\n        method: 'post',\n        url: `${globals.productionServerDomain}/createCourseTeacher`,\n        headers: {\n          'Authorization': `Bearer ${JSON.parse(localStorage.getItem(\"auth token\")).token}`\n        },\n        data: {\n          fullname: fullname,\n          description: description,\n          img_url: `https://realibi.kz/file/${response.data.split('/')[4]}`,\n          course_id: localStorage.getItem(\"center id\")\n        }\n      }).then(res => {\n        console.log(\"Status:\" + res.status);\n        location.reload();\n      });\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: styles.teacherCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, create ? __jsx(\"input\", {\n    type: \"file\",\n    className: styles.inputFile,\n    onChange: function (e) {\n      setImgFile(e.target.files[0]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 28\n    }\n  }) : null), create ? null : __jsx(\"div\", {\n    className: styles.createBlock,\n    onClick: () => {\n      setCreate(!create);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, __jsx(\"button\", {\n    className: styles.createButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, \"+\")), create ? __jsx(\"div\", {\n    className: styles.info_block,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: styles.tabCourseCardTitleBLock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, __jsx(\"p\", {\n    className: styles.info_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, \"\\u0418\\u043C\\u044F \\u043F\\u0440\\u0435\\u043F\\u043E\\u0434\\u0430\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F: \"), __jsx(\"input\", {\n    type: \"text\",\n    className: classnames(styles.select, styles.input),\n    placeholder: \"\\u0424\\u0418\\u041E\",\n    onChange: e => {\n      setFullname(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }), __jsx(\"p\", {\n    className: styles.info_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435: \"), __jsx(\"div\", {\n    className: styles.inputBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, __jsx(\"textarea\", {\n    className: styles.textArea,\n    onChange: e => {\n      setDescription(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }\n  }))), __jsx(\"div\", {\n    className: styles.linkButtonBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, __jsx(\"button\", {\n    className: classnames(styles.cancel_button),\n    onClick: () => {\n      addTeacherCard();\n      setCreate(!create);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }\n  }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\")), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  }, __jsx(\"button\", {\n    className: styles.cancel_button,\n    onClick: () => {\n      setCreate(!create);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\")))) : null);\n}","map":{"version":3,"sources":["C:/Server/data/htdocs/oilanio-mirror/src/components/CreateTeacherCard/CreateTeacherCard.js"],"names":["styles","Link","React","useState","classnames","globals","axios","require","default","CreateTeacherCard","props","showInfo","setShowInfo","create","setCreate","fullname","setFullname","description","setDescription","imgFile","setImgFile","addTeacherCard","formData","FormData","append","method","url","ftpDomain","data","headers","then","response","productionServerDomain","JSON","parse","localStorage","getItem","token","img_url","split","course_id","res","console","log","status","location","reload","teacherCard","inputFile","e","target","files","createBlock","createButton","info_block","tabCourseCardTitleBLock","info_title","select","input","value","inputBody","textArea","linkButtonBody","display","justifyContent","width","cancel_button"],"mappings":"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","sourcesContent":["import styles from '../../../styles/components/CreateTeacherCard.module.css'\r\nimport Link from \"next/link\";\r\nimport React, {useState} from \"react\";\r\nimport classnames from 'classnames';\r\nimport globals from \"../../globals\";\r\n\r\nconst axios = require('axios').default;\r\n\r\nexport default function CreateTeacherCard(props) {\r\n    const [showInfo, setShowInfo] = useState(false)\r\n    const [create, setCreate] = useState(false)\r\n    const [fullname, setFullname] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [imgFile, setImgFile] = useState(null);\r\n\r\n    const addTeacherCard = () => {\r\n        let formData = new FormData();\r\n        formData.append('file', imgFile);\r\n\r\n        axios({\r\n            method: \"post\",\r\n            url: `${globals.ftpDomain}/file/upload`,\r\n            data: formData,\r\n            headers: {\"Content-Type\": \"multipart/form-data\"},\r\n        })\r\n            .then(function (response) {\r\n                axios({\r\n                    method: 'post',\r\n                    url: `${globals.productionServerDomain}/createCourseTeacher`,\r\n                    headers: {\r\n                        'Authorization': `Bearer ${JSON.parse(localStorage.getItem(\"auth token\")).token}`\r\n                    },\r\n                    data: {\r\n                        fullname: fullname,\r\n                        description: description,\r\n                        img_url: `https://realibi.kz/file/${response.data.split('/')[4]}`,\r\n                        course_id: localStorage.getItem(\"center id\"),\r\n                    }\r\n                }).then(res => {\r\n                    console.log(\"Status:\" + res.status);\r\n                    location.reload()\r\n                });\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.teacherCard} >\r\n            <div>\r\n                {create ? (<input\r\n                    type=\"file\"\r\n                    className={styles.inputFile}\r\n                    onChange={function(e){\r\n                        setImgFile(e.target.files[0]);\r\n                    }}\r\n                />) : null}\r\n            </div>\r\n\r\n            {create ? null : (\r\n                <div className={styles.createBlock}\r\n                     onClick={()=>{\r\n                         setCreate(!create)\r\n                     }}\r\n                >\r\n                    <button className={styles.createButton}>+</button>\r\n                </div>\r\n            ) }\r\n            {create ? (\r\n                <div className={styles.info_block}>\r\n                    <div className={styles.tabCourseCardTitleBLock}>\r\n                        <p className={styles.info_title}>Имя преподавателя: </p>\r\n                        <input\r\n                            type=\"text\"\r\n                            className={classnames(styles.select, styles.input)}\r\n                            placeholder='ФИО'\r\n                            onChange={ e => { setFullname(e.target.value) } }\r\n                        />\r\n\r\n                        <p className={styles.info_title}>Краткое описание: </p>\r\n                        <div className={styles.inputBody}>\r\n                            <textarea\r\n                                className={styles.textArea}\r\n                                onChange={ e => { setDescription(e.target.value) } }\r\n                            ></textarea>\r\n                        </div>\r\n                    </div>\r\n                    <div className={styles.linkButtonBody}>\r\n                        <div style={{display: 'flex', justifyContent: 'center', width: '100%'}}>\r\n                            <button className={classnames(styles.cancel_button)}\r\n                                    onClick={()=>{\r\n                                        addTeacherCard();\r\n                                        setCreate(!create);\r\n                                    }}\r\n                            >Добавить</button>\r\n                        </div>\r\n\r\n                        <div style={{display: 'flex', justifyContent: 'center', width: '100%'}}>\r\n                            <button className={styles.cancel_button}\r\n                                    onClick={()=>{\r\n                                        setCreate(!create)\r\n                                    }}\r\n                            >Отмена</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            ) : null}\r\n\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}