{"ast":null,"code":"import _regeneratorRuntime from \"C:/Server/data/htdocs/oilan-mirror/goco/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Server/data/htdocs/oilan-mirror/goco/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Server\\\\data\\\\htdocs\\\\oilan-mirror\\\\goco\\\\pages\\\\course\\\\center\\\\[coursename].js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport styles from '../../../styles/components/content/course.module.css';\nimport newStyles from '../tutor/style.module.css';\nimport feedbackStyles from '../../../styles/components/Feedback.module.css';\nimport Header from '../../../src/components/Header/Header';\nimport Footer from \"../../../src/components/Footer/Footer\";\nimport HorizontalLine from \"../../../src/components/HorizontalLine/HorizaontalLine\";\nimport CourseCard from \"../../../src/components/CourseCard/CourseCard\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { useState, useEffect } from \"react\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport SimpleSlider from \"../../../src/components/SimpleSlider/SimpleSlider\";\nimport CourseTeacherCard from \"../../../src/components/CourseTeacherCard/CourseTeacherCard\";\nimport Link from \"next/link\";\nimport ContactButton from \"../../../src/components/ContactButton/ContactButton\";\nimport { SignupToCourseForm } from \"../../../src/components/Forms/SignupToCourseForm/SignupToCourseForm\";\nimport ModalWindow from \"../../../src/components/Modal/ModalWindow\";\nimport { Map, Placemark, YMaps } from 'react-yandex-maps';\nimport globals from \"../../../src/globals\";\nimport Loading from \"../../../src/components/Loading/Loading\";\nimport Feedback from \"react-bootstrap/Feedback\";\nimport NewFeedback from \"../../../src/components/NewFeedback\";\nimport FeedbackForm from \"../../../src/components/FeedbackForm\";\nimport { useRouter } from \"next/router\";\nimport classnames from 'classnames';\nimport { Image } from \"react-bootstrap\";\nimport ContactBlock from \"../../../src/components/ContactBlock\";\n\nvar axios = require('axios')[\"default\"];\n\nfunction coursePage(props) {\n  _s();\n\n  var _this = this;\n\n  var router = useRouter();\n\n  var _useState = useState(false),\n      show = _useState[0],\n      setShow = _useState[1];\n\n  var handleClose = function handleClose() {\n    return setShow(false);\n  };\n\n  var handleShow = function handleShow() {\n    return setShow(true);\n  };\n\n  var _useState2 = useState(true),\n      loadingModal = _useState2[0],\n      setLoadingModal = _useState2[1];\n\n  var _useState3 = useState(null),\n      course = _useState3[0],\n      setCourse = _useState3[1];\n\n  var _useState4 = useState(true),\n      showCourseDesc = _useState4[0],\n      setShowCourseDesc = _useState4[1];\n\n  var _useState5 = useState({}),\n      courseDetails = _useState5[0],\n      setCourseDetails = _useState5[1];\n\n  var _useState6 = useState(props.subcourses),\n      subcourses = _useState6[0],\n      setSubcourses = _useState6[1];\n\n  var _useState7 = useState([]),\n      similarCourses = _useState7[0],\n      setSimilarCourses = _useState7[1];\n\n  var _useState8 = useState([]),\n      teachers = _useState8[0],\n      setTeachers = _useState8[1];\n\n  var _useState9 = useState([]),\n      coursesFeedback = _useState9[0],\n      setCoursesFeedback = _useState9[1];\n\n  var _useState10 = useState([]),\n      imagesBase = _useState10[0],\n      setImagesBase = _useState10[1];\n\n  var _useState11 = useState(1),\n      feedbackStars = _useState11[0],\n      setFeedbackStars = _useState11[1];\n\n  var _useState12 = useState(''),\n      fullname = _useState12[0],\n      setFullname = _useState12[1];\n\n  var _useState13 = useState(''),\n      feedbackMessage = _useState13[0],\n      setFeedbackMessage = _useState13[1];\n\n  var _useState14 = useState(1),\n      feedbackStarsOldState = _useState14[0],\n      setFeedbackStarsOldState = _useState14[1];\n\n  var _useState15 = useState('Ужасный курс'),\n      feedbackStarsComment = _useState15[0],\n      setFeedbackStarsComment = _useState15[1];\n\n  var _useState16 = useState(props.course.phones.split('  ')),\n      phones = _useState16[0],\n      setPhones = _useState16[1];\n\n  var _useState17 = useState(props.course.description != null ? props.course.description.split('|') : []),\n      courseDescription = _useState17[0],\n      setCourseDecription = _useState17[1];\n\n  var _useState18 = useState(courseDetails.description != null ? courseDetails.description.split('|') : []),\n      subcourseDescription = _useState18[0],\n      setSubcourseDecription = _useState18[1];\n\n  console.log('AAAA', props);\n\n  var _useState19 = useState(true),\n      hideMap = _useState19[0],\n      setHideMap = _useState19[1];\n\n  var _useState20 = useState(4),\n      subcourseCardsToShow = _useState20[0],\n      setSubcourseCardsToShow = _useState20[1];\n\n  var _useState21 = useState([]),\n      promotions = _useState21[0],\n      setPromotions = _useState21[1];\n\n  var _useState22 = useState([]),\n      stocks = _useState22[0],\n      setStocks = _useState22[1];\n\n  var _useState23 = useState(false),\n      promotionsLoaded = _useState23[0],\n      setPromotionsLoaded = _useState23[1];\n\n  var loadStocks = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var result, i;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.post(\"\".concat(globals.productionServerDomain, \"/loadDirectionPromotions\"), {\n                direction_id: 0\n              });\n\n            case 2:\n              result = _context.sent;\n              setStocks(result.data);\n\n              for (i = 0; i < result.data.length; i++) {\n                if (result.data[i].center_id === courseDetails.course_id) {\n                  promotions.push(result.data[i]);\n                }\n              }\n\n              setPromotions(promotions);\n              console.log('promotions', promotions);\n\n              if (result.data.length > 0) {\n                setPromotionsLoaded(true);\n              } else {\n                setPromotionsLoaded(false);\n              }\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function loadStocks() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var _useState24 = useState(false),\n      showPromotions = _useState24[0],\n      setShowPromotions = _useState24[1];\n\n  var _useState25 = useState(0),\n      promotionIndex = _useState25[0],\n      setPromotionIndex = _useState25[1];\n\n  function prettify(num) {\n    var n = num.toString();\n    return n.replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1\" + ' ');\n  }\n\n  var googleAdds = function googleAdds() {\n    return \"<!-- Global site tag (gtag.js) - Google Analytics -->\\n\" + \"<script async src=\\\"https://www.googletagmanager.com/gtag/js?id=UA-210482103-1\\\"></script>\\n\" + \"<script>\\n\" + \"  window.dataLayer = window.dataLayer || [];\\n\" + \"  function gtag(){dataLayer.push(arguments);}\\n\" + \"  gtag('js', new Date());\\n\" + \"\\n\" + \"  gtag('config', 'UA-210482103-1');\\n\" + \"</script>\";\n  };\n\n  function drawStar(count) {\n    switch (count) {\n      case 1:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }\n        }));\n        break;\n\n      case 2:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }\n        }));\n        break;\n\n      case 3:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }\n        }));\n        break;\n\n      case 4:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }\n        }));\n        break;\n\n      case 5:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }\n        }));\n        break;\n    }\n  }\n\n  var getCurrentDateTime = function getCurrentDateTime() {\n    var currentDate = new Date();\n    var dd = currentDate.getDate();\n    if (dd < 10) dd = '0' + dd;\n    var mm = currentDate.getMonth() + 1;\n    if (mm < 10) mm = '0' + mm;\n    var yy = currentDate.getFullYear();\n    var hours = currentDate.getHours();\n    var min = currentDate.getMinutes();\n    var sec = currentDate.getSeconds();\n    return yy + \"-\" + mm + \"-\" + dd + \" \" + hours + \":\" + min + \":\" + sec;\n  };\n\n  var loadData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var courseDetailsResult, _courseDetails, courseResult, courseInfo, subCoursesResult, teachersResult, feedbacksLink, courseFeedbacksResult;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(\"Context query:\");\n              console.log(router.query.id);\n\n              if (!(router.query.id !== undefined)) {\n                _context2.next = 30;\n                break;\n              }\n\n              _context2.next = 5;\n              return axios.post(\"\".concat(globals.productionServerDomain, \"/courseCards/\") + router.query.id);\n\n            case 5:\n              courseDetailsResult = _context2.sent;\n              _courseDetails = courseDetailsResult['data'][0];\n              console.log('courseDetails');\n              console.log(_courseDetails);\n              _context2.next = 11;\n              return axios.get(\"\".concat(globals.productionServerDomain, \"/courses/\") + _courseDetails.course_id);\n\n            case 11:\n              courseResult = _context2.sent;\n              courseInfo = courseResult['data'][0]; //let similarCoursesResult = await axios.get(`${globals.productionServerDomain}/courseCards/` + courseDetails.category_id);\n\n              _context2.next = 15;\n              return axios.post(\"\".concat(globals.productionServerDomain, \"/subcourses/\") + courseInfo.id);\n\n            case 15:\n              subCoursesResult = _context2.sent;\n              _context2.next = 18;\n              return axios.post(\"\".concat(globals.productionServerDomain, \"/teachers/\") + courseInfo.id);\n\n            case 18:\n              teachersResult = _context2.sent;\n              feedbacksLink = \"\".concat(globals.productionServerDomain, \"/feedbacks/\").concat(router.query.id);\n              console.log(\"feedbacks link: \" + feedbacksLink);\n              _context2.next = 23;\n              return axios.get(\"\".concat(globals.productionServerDomain, \"/feedbacks/\").concat(router.query.id));\n\n            case 23:\n              courseFeedbacksResult = _context2.sent;\n              console.log(\"feedbacks:\");\n              console.log(courseFeedbacksResult.data);\n              setCourse(courseInfo);\n              setCourseDetails(_courseDetails);\n              setSubcourses(subCoursesResult['data']); //setSimilarCourses(similarCoursesResult['data']);\n\n              setTeachers(teachersResult['data']); //setCourseFeedbacks(courseFeedbacksResult['data'])\n\n            case 30:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function loadData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            // let imagesBaseResponse = await axios.get(`${globals.productionServerDomain}/imagesBase`);\n            // setImagesBase(imagesBaseResponse.data);\n            loadStocks();\n            loadData();\n\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  })), imagesBase);\n\n  var sendApplication = function sendApplication(courseId, userInfo) {\n    var data = {\n      city_id: props.course.city_id,\n      direction_id: courseDetails.direction_id,\n      name: userInfo.fullName,\n      phone: userInfo.phone,\n      email: userInfo.email,\n      promocode: userInfo.promocode,\n      age: 0,\n      isOnline: props.course.format !== 'Offline',\n      course_id: courseDetails.course_id,\n      role_id: 4\n    };\n    axios({\n      method: 'post',\n      url: \"\".concat(globals.productionServerDomain, \"/createCourseSearchTicket\"),\n      data: data,\n      headers: {\n        'Authorization': \"Bearer \".concat(globals.localStorageKeys.authToken)\n      }\n    }).then(function (res) {})[\"catch\"](function () {\n      alert('Что-то пошло нетак!');\n    });\n  };\n\n  return __jsx(\"div\", {\n    style: {\n      background: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }\n  }, __jsx(ModalWindow, {\n    show: show,\n    handleClose: handleClose,\n    heading: 'Оставить центру заявку',\n    body: __jsx(SignupToCourseForm, {\n      sendApplicationCallback: sendApplication,\n      course: courseDetails,\n      handleClose: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 105\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }\n  }), __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 13\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }\n  }, \"Oilan - \", props.course.title), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/atom-icon.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: googleAdds()\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 17\n    }\n  })), __jsx(Header, {\n    white: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: newStyles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: styles.headerBlock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: newStyles.image,\n    style: props.course.img_src ? {\n      backgroundImage: \"url(\".concat(props.course.img_src, \")\")\n    } : {\n      backgroundImage: \"url('https://realibi.kz/file/510188.jpg')\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 21\n    }\n  }, promotionsLoaded && promotions.length > 0 && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: classnames(styles.promotionStar, showPromotions ? styles.whiteStar : styles.violetStar),\n    onClick: function onClick() {\n      return setShowPromotions(!showPromotions);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 37\n    }\n  }, showPromotions ? __jsx(\"span\", {\n    className: styles.starTitle,\n    style: {\n      color: 'black',\n      fontSize: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 49\n    }\n  }, \"X\") : __jsx(React.Fragment, null, __jsx(\"span\", {\n    className: styles.starTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 53\n    }\n  }, \"\\u0410\\u041A\\u0426\\u0418\\u042F\"), __jsx(\"span\", {\n    className: styles.starSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 53\n    }\n  }, \"(\\u043D\\u0430\\u0436\\u043C\\u0438)\"))), showPromotions && __jsx(\"div\", {\n    className: styles.promotionBlock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 45\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 49\n    }\n  }, __jsx(\"div\", {\n    className: styles.promotionItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 53\n    }\n  }, __jsx(\"span\", {\n    className: styles.promotionTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 57\n    }\n  }, \"\\u0410\\u043A\\u0446\\u0438\\u044F\"), __jsx(\"span\", {\n    className: styles.promotionSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 57\n    }\n  }, promotions[promotionIndex].text)), \" \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 60\n    }\n  }), __jsx(\"div\", {\n    className: styles.promotionItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 53\n    }\n  }, __jsx(\"span\", {\n    className: styles.promotionTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 57\n    }\n  }, \"\\u0427\\u0442\\u043E \\u043D\\u0443\\u0436\\u043D\\u043E \\u0441\\u0434\\u0435\\u043B\\u0430\\u0442\\u044C?\"), __jsx(\"span\", {\n    className: styles.promotionSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 57\n    }\n  }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434 \", __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 117\n    }\n  }, \"\\u201C\", promotions[promotionIndex].promocode, \"\\u201D\"), \", \\u0432 \\u043F\\u043E\\u043B\\u0435 \", __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 173\n    }\n  }, \"\\u201C\\u041F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434\\u201D\"), \", \\u043A\\u043E\\u0433\\u0434\\u0430 \\u0431\\u0443\\u0434\\u0435\\u0442\\u0435 \\u043E\\u0441\\u0442\\u0430\\u0432\\u043B\\u044F\\u0442\\u044C \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443 \\u044D\\u0442\\u043E\\u043C\\u0443 \\u0446\\u0435\\u043D\\u0442\\u0440\\u0443\"))), promotions.length > 1 && __jsx(\"div\", {\n    className: styles.nextPromotionBtnBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 57\n    }\n  }, __jsx(\"span\", {\n    className: styles.nextPromotionBtn,\n    onClick: function onClick() {\n      if (promotionIndex === promotions.length - 1) {\n        setPromotionIndex(0);\n      } else {\n        setPromotionIndex(promotionIndex + 1);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 61\n    }\n  }, \"\\u0421\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u0430\\u044F \\u0430\\u043A\\u0446\\u0438\\u044F\"))))), __jsx(\"div\", {\n    className: classnames(newStyles.headerItemThird),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: newStyles.infoList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.fullname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 29\n    }\n  }, courseDetails.title === 'test' ? '' : courseDetails.title), \" \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 132\n    }\n  }), \" \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 138\n    }\n  }), __jsx(\"div\", {\n    className: newStyles.infoItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.leftSubTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 33\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0442\\u0440\"), __jsx(\"span\", {\n    className: newStyles.leftValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 33\n    }\n  }, props.course.title)), __jsx(\"div\", {\n    className: newStyles.infoItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.leftSubTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 33\n    }\n  }, \"\\u0410\\u0434\\u0440\\u0435\\u0441\"), __jsx(\"span\", {\n    className: newStyles.leftValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 33\n    }\n  }, props.course.addresses)), __jsx(\"div\", {\n    className: newStyles.infoItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.leftSubTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 33\n    }\n  }, \"\\u0412\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442\\u043D\\u0430\\u044F \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"), __jsx(\"span\", {\n    className: newStyles.leftValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 33\n    }\n  }, courseDetails.ages)), __jsx(\"div\", {\n    className: newStyles.infoItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.leftSubTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 33\n    }\n  }, \"\\u0420\\u0430\\u0441\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"), __jsx(\"span\", {\n    className: newStyles.leftValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 33\n    }\n  }, courseDetails.schedule)), __jsx(\"div\", {\n    className: newStyles.infoItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.leftSubTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 33\n    }\n  }, \"\\u0424\\u043E\\u0440\\u043C\\u0430\\u0442 \\u0437\\u0430\\u043D\\u044F\\u0442\\u0438\\u0439:\"), __jsx(\"span\", {\n    className: newStyles.leftValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 33\n    }\n  }, courseDetails.format)), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 29\n    }\n  }), __jsx(\"div\", {\n    className: newStyles.infoItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.leftSubTitle,\n    style: {\n      fontSize: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 33\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0430\"), __jsx(\"span\", {\n    className: newStyles.leftValue,\n    style: {\n      fontSize: 20,\n      fontWeight: 1000\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 33\n    }\n  }, prettify(+courseDetails.price), \" \", courseDetails.currency, \"/\", courseDetails.unit_of_time)), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      width: '100%',\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: styles.enableOnMobile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 33\n    }\n  }, __jsx(\"button\", {\n    className: styles.button,\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              handleShow();\n\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 37\n    }\n  }, \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443\")), __jsx(\"div\", {\n    className: styles.disableOnMobile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 33\n    }\n  }, __jsx(\"button\", {\n    className: styles.button,\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              handleShow();\n\n            case 1:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 37\n    }\n  }, \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443\")), __jsx(\"a\", {\n    onClick: function onClick() {\n      ym(78186067, 'reachGoal', 'whatsapp_click_center');\n      axios.post(globals.productionServerDomain + '/logUserClick', {\n        course_id: courseDetails.course_id,\n        card_id: courseDetails.id,\n        event_name: 'whatsapp'\n      });\n    },\n    href: \"https://api.whatsapp.com/send?phone=\".concat(props.course.phones, \"&text=%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5%2C%20%D0%BF%D0%B8%D1%88%D1%83%20%D0%92%D0%B0%D0%BC%20%D1%81%20%D0%BF%D0%BB%D0%B0%D1%82%D1%84%D0%BE%D1%80%D0%BC%D1%8B%20Oilan, \"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    style: {\n      height: '100%',\n      width: 45,\n      marginLeft: 10,\n      borderRadius: 8,\n      backgroundImage: \"url('/whatsapp_logo.png')\",\n      backgroundPosition: 'center',\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'contain',\n      boxShadow: '0 0 1px grey',\n      backgroundColor: '#23d366'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 37\n    }\n  }))))), __jsx(\"div\", {\n    className: newStyles.headerItemSecond,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 21\n    }\n  }, __jsx(\"button\", {\n    className: styles.showBtn,\n    onClick: function onClick() {\n      return setShowCourseDesc(!showCourseDesc);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 25\n    }\n  }, showCourseDesc ? 'Скрыть подробную информацию' : 'Показать подробную информацию', __jsx(Image, {\n    src: '/Vector-4.png',\n    style: {\n      height: 6,\n      marginLeft: 5\n    },\n    className: showCourseDesc ? styles.rotateBtn : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    style: {\n      width: '100%'\n    },\n    className: classnames(styles.opacityZero, showCourseDesc && styles.opacityFull),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.subTitle,\n    style: {\n      fontSize: 18\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 29\n    }\n  }, \"\\u041E \\u043A\\u0443\\u0440\\u0441\\u0435:\"), __jsx(\"div\", {\n    className: newStyles.infoList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 33\n    }\n  }, subcourseDescription.map(function (item) {\n    return __jsx(React.Fragment, null, item, __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 53\n      }\n    }));\n  }))), \" \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 36\n    }\n  }), __jsx(\"span\", {\n    className: newStyles.subTitle,\n    style: {\n      fontSize: 18\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 29\n    }\n  }, \"\\u041E \\u0446\\u0435\\u043D\\u0442\\u0440\\u0435:\"), __jsx(\"div\", {\n    className: newStyles.infoList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 33\n    }\n  }, courseDescription.map(function (item) {\n    return __jsx(React.Fragment, null, item, __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 53\n      }\n    }));\n  })))), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 25\n    }\n  })))), __jsx(\"div\", {\n    style: {\n      width: '100%',\n      marginTop: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 13\n    }\n  }, props.teachers.length != 0 ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: styles.titleBlock,\n    style: {\n      margin: '20px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 33\n    }\n  }, __jsx(Image, {\n    src: '/teachers_title.png',\n    className: styles.titleImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 37\n    }\n  }), __jsx(\"span\", {\n    className: styles.titleTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 37\n    }\n  }, \"\\u041F\\u0440\\u0435\\u043F\\u043E\\u0434\\u0430\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438 \\u0446\\u0435\\u043D\\u0442\\u0440\\u0430\")), __jsx(\"div\", {\n    style: {\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      padding: '0 5%',\n      boxSzing: 'border-box'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    className: styles.allCoursesTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 37\n    }\n  }, props.teachers.map(function (item) {\n    return __jsx(CourseTeacherCard, {\n      teacher: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 69\n      }\n    });\n  })))) : null), courseDetails.isonline ? null : courseDetails.longitude != 0 && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: styles.titleBlock,\n    style: {\n      margin: '20px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 25\n    }\n  }, __jsx(Image, {\n    src: '/Location.png',\n    className: styles.titleImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 29\n    }\n  }), __jsx(\"span\", {\n    className: styles.titleTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 29\n    }\n  }, \"\\u041C\\u0435\\u0441\\u0442\\u043E\\u043F\\u043E\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435\")), __jsx(\"div\", {\n    className: newStyles.container,\n    style: {\n      height: hideMap ? '100px' : '65vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 25\n    }\n  }, __jsx(YMaps, {\n    className: styles.ymaps,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 29\n    }\n  }, __jsx(Map, {\n    width: '100%',\n    height: hideMap ? '100px' : '65vh',\n    defaultState: {\n      center: [props.courseDetails.latitude, props.courseDetails.longitude],\n      zoom: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 33\n    }\n  }, __jsx(Placemark, {\n    geometry: [props.courseDetails.latitude, props.courseDetails.longitude],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 37\n    }\n  })))), __jsx(\"div\", {\n    style: {\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    className: styles.spanButton,\n    onClick: function onClick() {\n      setHideMap(!hideMap);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 25\n    }\n  }, hideMap ? 'Раскрыть карту' : 'Скрыть карту'))), imagesBase.length != 0 && subcourses.length != 0 && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: styles.titleBlock,\n    style: {\n      margin: '10px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 29\n    }\n  }, __jsx(Image, {\n    src: '/Fist-Bump-Gesture.png',\n    className: styles.titleImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 33\n    }\n  }), __jsx(\"span\", {\n    className: styles.titleTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 33\n    }\n  }, \"\\u0422\\u0430\\u043A \\u0436\\u0435 \", props.course.title, \" \\u043F\\u0440\\u0435\\u0434\\u043B\\u0430\\u0433\\u0430\\u0435\\u0442:\")), __jsx(\"div\", {\n    className: styles.container,\n    style: {\n      marginTop: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    className: styles.courses_block,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 37\n    }\n  }, props.subcourses.slice(0, subcourseCardsToShow).map(function (course) {\n    return __jsx(\"div\", {\n      className: styles.card_item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 49\n      }\n    }, __jsx(CourseCard, {\n      coverImage: imagesBase[Math.floor(Math.random() * imagesBase.length)].src,\n      setLoadingModal: setLoadingModal,\n      course: course,\n      showApplicationModal: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 53\n      }\n    }));\n  }))), subcourseCardsToShow >= props.subcourses.length ? null : __jsx(\"div\", {\n    className: styles.backToCoursesPageButtonBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 41\n    }\n  }, __jsx(\"a\", {\n    className: styles.backToCoursesPageButton,\n    onClick: function onClick() {\n      setSubcourseCardsToShow(subcourseCardsToShow + 4);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 45\n    }\n  }, \"\\u0415\\u0449\\u0451\")))), __jsx(\"div\", {\n    className: styles.titleBlock,\n    style: {\n      margin: '20px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 13\n    }\n  }, __jsx(Image, {\n    src: '/feedback_star.png',\n    className: styles.titleImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 17\n    }\n  }), __jsx(\"span\", {\n    className: styles.titleTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 17\n    }\n  }, \"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B\")), __jsx(\"div\", {\n    className: newStyles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 13\n    }\n  }, __jsx(FeedbackForm, {\n    subcourseID: props.courseDetails.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 17\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    className: styles.feedbacksWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 17\n    }\n  }, props.courseFeedbacks !== null && props.courseFeedbacks.length > 0 ? props.courseFeedbacks.map(function (item) {\n    return __jsx(NewFeedback, {\n      feedback: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 64\n      }\n    });\n  }) : null)), __jsx(ContactBlock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 13\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 13\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 19\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 25\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 31\n    }\n  }), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 13\n    }\n  }));\n}\n\n_s(coursePage, \"15DKiOWLfWZiwbPmSk/gtFzjqlM=\", false, function () {\n  return [useRouter];\n});\n\ncoursePage.getInitialProps = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(ctx) {\n    var courseDetailsResult, courseDetails, courseResult, courseInfo, subCoursesResult, teachersResult, feedbacksLink, courseFeedbacksResult;\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            console.log(\"ctx\");\n            console.log(ctx);\n\n            if (!(ctx.query.id !== undefined)) {\n              _context6.next = 30;\n              break;\n            }\n\n            _context6.next = 5;\n            return axios.post(\"\".concat(globals.productionServerDomain, \"/courseCards/\") + ctx.query.id);\n\n          case 5:\n            courseDetailsResult = _context6.sent;\n            courseDetails = courseDetailsResult['data'][0];\n            console.log('course details result', courseDetails);\n            _context6.next = 10;\n            return axios.get(\"\".concat(globals.productionServerDomain, \"/courses/\") + courseDetails.course_id);\n\n          case 10:\n            courseResult = _context6.sent;\n            courseInfo = courseResult['data'][0]; //let similarCoursesResult = await axios.get(`${globals.productionServerDomain}/courseCards/` + courseInfo.course_category_id);\n\n            _context6.next = 14;\n            return axios.post(\"\".concat(globals.productionServerDomain, \"/subcourses/\") + courseInfo.id);\n\n          case 14:\n            subCoursesResult = _context6.sent;\n            console.log('subcourses', subCoursesResult.data);\n            _context6.next = 18;\n            return axios.post(\"\".concat(globals.productionServerDomain, \"/teachers/\") + courseInfo.id);\n\n          case 18:\n            teachersResult = _context6.sent;\n            console.log('teachers', teachersResult.data);\n            feedbacksLink = \"\".concat(globals.productionServerDomain, \"/feedbacks/\").concat(ctx.query.id);\n            console.log(\"feedbacks link: \" + feedbacksLink);\n            _context6.next = 24;\n            return axios.get(\"\".concat(globals.productionServerDomain, \"/feedbacks/\").concat(ctx.query.id));\n\n          case 24:\n            courseFeedbacksResult = _context6.sent;\n            console.log(\"feedbacks:\");\n            console.log(courseFeedbacksResult.data); // setCourse(courseInfo);\n            // setCourseDetails(courseDetails);\n            // setSubcourses(subCoursesResult['data']);\n            // setSimilarCourses(similarCoursesResult['data']);\n            // setTeachers(teachersResult['data']);\n\n            return _context6.abrupt(\"return\", {\n              course: courseInfo,\n              courseDetails: courseDetails,\n              subcourses: subCoursesResult['data'],\n              //similarCourses: similarCoursesResult['data'],\n              teachers: teachersResult['data'],\n              courseFeedbacks: courseFeedbacksResult['data']\n            });\n\n          case 30:\n            return _context6.abrupt(\"return\", {});\n\n          case 31:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function (_x) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nexport default coursePage;","map":{"version":3,"sources":["C:/Server/data/htdocs/oilan-mirror/goco/pages/course/center/[coursename].js"],"names":["Head","styles","newStyles","feedbackStyles","Header","Footer","HorizontalLine","CourseCard","React","useState","useEffect","SimpleSlider","CourseTeacherCard","Link","ContactButton","SignupToCourseForm","ModalWindow","Map","Placemark","YMaps","globals","Loading","Feedback","NewFeedback","FeedbackForm","useRouter","classnames","Image","ContactBlock","axios","require","coursePage","props","router","show","setShow","handleClose","handleShow","loadingModal","setLoadingModal","course","setCourse","showCourseDesc","setShowCourseDesc","courseDetails","setCourseDetails","subcourses","setSubcourses","similarCourses","setSimilarCourses","teachers","setTeachers","coursesFeedback","setCoursesFeedback","imagesBase","setImagesBase","feedbackStars","setFeedbackStars","fullname","setFullname","feedbackMessage","setFeedbackMessage","feedbackStarsOldState","setFeedbackStarsOldState","feedbackStarsComment","setFeedbackStarsComment","phones","split","setPhones","description","courseDescription","setCourseDecription","subcourseDescription","setSubcourseDecription","console","log","hideMap","setHideMap","subcourseCardsToShow","setSubcourseCardsToShow","promotions","setPromotions","stocks","setStocks","promotionsLoaded","setPromotionsLoaded","loadStocks","post","productionServerDomain","direction_id","result","data","i","length","center_id","course_id","push","showPromotions","setShowPromotions","promotionIndex","setPromotionIndex","prettify","num","n","toString","replace","googleAdds","drawStar","count","starIcon","getCurrentDateTime","currentDate","Date","dd","getDate","mm","getMonth","yy","getFullYear","hours","getHours","min","getMinutes","sec","getSeconds","loadData","query","id","undefined","courseDetailsResult","get","courseResult","courseInfo","subCoursesResult","teachersResult","feedbacksLink","courseFeedbacksResult","sendApplication","courseId","userInfo","city_id","name","fullName","phone","email","promocode","age","isOnline","format","role_id","method","url","headers","localStorageKeys","authToken","then","res","alert","background","title","__html","container","headerBlock","image","img_src","backgroundImage","promotionStar","whiteStar","violetStar","starTitle","color","fontSize","starSubtitle","promotionBlock","width","promotionItem","promotionTitle","promotionSubtitle","text","nextPromotionBtnBody","nextPromotionBtn","headerItemThird","infoList","infoItem","leftSubTitle","leftValue","addresses","ages","schedule","fontWeight","price","currency","unit_of_time","display","marginTop","enableOnMobile","button","disableOnMobile","ym","card_id","event_name","height","marginLeft","borderRadius","backgroundPosition","backgroundRepeat","backgroundSize","boxShadow","backgroundColor","headerItemSecond","showBtn","rotateBtn","opacityZero","opacityFull","subTitle","value","map","item","titleBlock","margin","titleImg","titleTitle","justifyContent","padding","boxSzing","allCoursesTab","isonline","longitude","ymaps","center","latitude","zoom","spanButton","courses_block","slice","card_item","Math","floor","random","src","backToCoursesPageButtonBody","backToCoursesPageButton","feedbacksWrapper","courseFeedbacks","getInitialProps","ctx"],"mappings":"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","sourcesContent":["import Head from 'next/head'\r\nimport styles from '../../../styles/components/content/course.module.css'\r\nimport newStyles from '../tutor/style.module.css'\r\nimport feedbackStyles from '../../../styles/components/Feedback.module.css'\r\nimport Header from '../../../src/components/Header/Header'\r\nimport Footer from \"../../../src/components/Footer/Footer\";\r\nimport HorizontalLine from \"../../../src/components/HorizontalLine/HorizaontalLine\";\r\nimport CourseCard from \"../../../src/components/CourseCard/CourseCard\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport SimpleSlider from \"../../../src/components/SimpleSlider/SimpleSlider\";\r\nimport CourseTeacherCard from \"../../../src/components/CourseTeacherCard/CourseTeacherCard\";\r\nimport Link from \"next/link\";\r\nimport ContactButton from \"../../../src/components/ContactButton/ContactButton\";\r\nimport { SignupToCourseForm } from \"../../../src/components/Forms/SignupToCourseForm/SignupToCourseForm\";\r\nimport ModalWindow from \"../../../src/components/Modal/ModalWindow\";\r\nimport { Map, Placemark, YMaps } from 'react-yandex-maps';\r\nimport globals from \"../../../src/globals\";\r\nimport Loading from \"../../../src/components/Loading/Loading\";\r\nimport Feedback from \"react-bootstrap/Feedback\";\r\nimport NewFeedback from \"../../../src/components/NewFeedback\";\r\nimport FeedbackForm from \"../../../src/components/FeedbackForm\";\r\nimport {useRouter} from \"next/router\";\r\nimport classnames from 'classnames'\r\nimport {Image} from \"react-bootstrap\";\r\nimport ContactBlock from \"../../../src/components/ContactBlock\";\r\n\r\nconst axios = require('axios').default;\r\n\r\nfunction coursePage(props) {\r\n    const router = useRouter();\r\n    const [show, setShow] = useState(false);\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const [loadingModal, setLoadingModal] = useState(true);\r\n\r\n    const [course, setCourse] = useState(null);\r\n    const [showCourseDesc, setShowCourseDesc] = useState(true)\r\n\r\n    const [courseDetails, setCourseDetails] = useState({});\r\n    const [subcourses, setSubcourses] = useState(props.subcourses);\r\n    const [similarCourses, setSimilarCourses] = useState([]);\r\n    const [teachers, setTeachers] = useState([]);\r\n    const [coursesFeedback, setCoursesFeedback] = useState([]);\r\n\r\n    const [imagesBase, setImagesBase] = useState([]);\r\n\r\n    const [feedbackStars, setFeedbackStars] = useState(1);\r\n    const [fullname, setFullname] = useState('')\r\n    const [feedbackMessage, setFeedbackMessage] = useState('')\r\n    const [feedbackStarsOldState, setFeedbackStarsOldState] = useState(1);\r\n    const [feedbackStarsComment, setFeedbackStarsComment] = useState('Ужасный курс')\r\n\r\n    let [phones, setPhones] = useState(props.course.phones.split('  '));\r\n    const [courseDescription, setCourseDecription] = useState(props.course.description!=null ? props.course.description.split('|') : [])\r\n    const [subcourseDescription, setSubcourseDecription] = useState(courseDetails.description!=null ? courseDetails.description.split('|') : []);\r\n    console.log('AAAA', props)\r\n    const [hideMap, setHideMap] = useState( true)\r\n\r\n    const [subcourseCardsToShow, setSubcourseCardsToShow] = useState(4)\r\n\r\n    const [promotions, setPromotions] = useState([])\r\n    const [stocks, setStocks] = useState([]);\r\n    const [promotionsLoaded, setPromotionsLoaded] = useState(false)\r\n    const loadStocks = async () => {\r\n        let result = await axios.post(`${globals.productionServerDomain}/loadDirectionPromotions`, {direction_id: 0});\r\n        setStocks(result.data);\r\n        for(let i=0;i<result.data.length;i++){\r\n            if(result.data[i].center_id === courseDetails.course_id){\r\n                promotions.push(result.data[i])\r\n            }\r\n        }\r\n        setPromotions(promotions)\r\n        console.log('promotions', promotions)\r\n        if(result.data.length > 0){\r\n            setPromotionsLoaded(true)\r\n        } else {\r\n            setPromotionsLoaded(false)\r\n        }\r\n\r\n    }\r\n    const [showPromotions, setShowPromotions] = useState(false)\r\n    const [promotionIndex, setPromotionIndex] = useState(0)\r\n\r\n    function prettify(num) {\r\n        let n = num.toString();\r\n        return n.replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1\" + ' ');\r\n    }\r\n\r\n    const googleAdds = () => {\r\n        return(\r\n            \"<!-- Global site tag (gtag.js) - Google Analytics -->\\n\" +\r\n            \"<script async src=\\\"https://www.googletagmanager.com/gtag/js?id=UA-210482103-1\\\"></script>\\n\" +\r\n            \"<script>\\n\" +\r\n            \"  window.dataLayer = window.dataLayer || [];\\n\" +\r\n            \"  function gtag(){dataLayer.push(arguments);}\\n\" +\r\n            \"  gtag('js', new Date());\\n\" +\r\n            \"\\n\" +\r\n            \"  gtag('config', 'UA-210482103-1');\\n\" +\r\n            \"</script>\"\r\n        )\r\n    }\r\n\r\n    function drawStar(count) {\r\n        switch (count) {\r\n            case 1:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                    </>\r\n                )\r\n                break;\r\n            case 2:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                    </>)\r\n                break;\r\n            case 3:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                    </>)\r\n                break;\r\n            case 4:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                    </>)\r\n                break;\r\n            case 5:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                    </>)\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    const getCurrentDateTime = () => {\r\n        let currentDate = new Date();\r\n\r\n        let dd = currentDate.getDate();\r\n        if (dd < 10) dd = '0' + dd;\r\n\r\n        let mm = currentDate.getMonth() + 1;\r\n        if (mm < 10) mm = '0' + mm;\r\n\r\n        let yy = currentDate.getFullYear();\r\n\r\n        let hours = currentDate.getHours();\r\n        let min = currentDate.getMinutes();\r\n        let sec = currentDate.getSeconds();\r\n\r\n        return yy + \"-\" + mm + \"-\" + dd + \" \" + hours + \":\" + min + \":\" + sec;\r\n    }\r\n\r\n    const loadData = async () => {\r\n        console.log(\"Context query:\");\r\n        console.log(router.query.id);\r\n\r\n        if (router.query.id !== undefined) {\r\n\r\n            let courseDetailsResult = await axios.post(`${globals.productionServerDomain}/courseCards/` + router.query.id);\r\n            let courseDetails = courseDetailsResult['data'][0];\r\n            console.log('courseDetails')\r\n            console.log(courseDetails);\r\n\r\n            let courseResult = await axios.get(`${globals.productionServerDomain}/courses/` + courseDetails.course_id);\r\n\r\n            let courseInfo = courseResult['data'][0];\r\n\r\n            //let similarCoursesResult = await axios.get(`${globals.productionServerDomain}/courseCards/` + courseDetails.category_id);\r\n            let subCoursesResult = await axios.post(`${globals.productionServerDomain}/subcourses/` + courseInfo.id);\r\n            let teachersResult = await axios.post(`${globals.productionServerDomain}/teachers/` + courseInfo.id);\r\n\r\n            let feedbacksLink = `${globals.productionServerDomain}/feedbacks/${router.query.id}`;\r\n            console.log(`feedbacks link: ` + feedbacksLink);\r\n            let courseFeedbacksResult = await axios.get(`${globals.productionServerDomain}/feedbacks/${router.query.id}`);\r\n\r\n            console.log(\"feedbacks:\");\r\n            console.log(courseFeedbacksResult.data);\r\n\r\n            setCourse(courseInfo);\r\n            setCourseDetails(courseDetails);\r\n            setSubcourses(subCoursesResult['data']);\r\n            //setSimilarCourses(similarCoursesResult['data']);\r\n            setTeachers(teachersResult['data']);\r\n            //setCourseFeedbacks(courseFeedbacksResult['data'])\r\n        }\r\n    }\r\n\r\n    useEffect(async ()=> {\r\n        // let imagesBaseResponse = await axios.get(`${globals.productionServerDomain}/imagesBase`);\r\n        // setImagesBase(imagesBaseResponse.data);\r\n\r\n        loadStocks();\r\n        loadData();\r\n    }, imagesBase)\r\n\r\n    const sendApplication = (courseId, userInfo) => {\r\n\r\n        let data = {\r\n            city_id: props.course.city_id,\r\n            direction_id: courseDetails.direction_id,\r\n            name: userInfo.fullName,\r\n            phone: userInfo.phone,\r\n            email: userInfo.email,\r\n            promocode: userInfo.promocode,\r\n            age: 0,\r\n            isOnline: props.course.format !== 'Offline',\r\n            course_id: courseDetails.course_id,\r\n            role_id: 4\r\n        };\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: `${globals.productionServerDomain}/createCourseSearchTicket`,\r\n            data: data,\r\n            headers: {\r\n                'Authorization': `Bearer ${globals.localStorageKeys.authToken}`\r\n            }\r\n        }).then(function(res){\r\n\r\n        }).catch(() => {\r\n            alert('Что-то пошло нетак!');\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div style={{ background: 'white' }}>\r\n            <ModalWindow show={show} handleClose={handleClose} heading={'Оставить центру заявку'} body={<SignupToCourseForm sendApplicationCallback={sendApplication} course={courseDetails} handleClose={handleClose} />} />\r\n\r\n            <Head>\r\n                <title>Oilan - {props.course.title}</title>\r\n                <link rel=\"icon\" href=\"/atom-icon.png\" />\r\n                <div dangerouslySetInnerHTML={{__html: googleAdds()}}/>\r\n            </Head>\r\n\r\n            <Header white={true}/>\r\n            {/*<ContactButton />*/}\r\n\r\n            {/*<div className={styles.headerImage}*/}\r\n            {/*     style={{*/}\r\n            {/*         backgroundImage: `url(${props.course.background_image_url})`*/}\r\n            {/*     }}*/}\r\n            {/*>*/}\r\n\r\n            {/*</div>*/}\r\n\r\n\r\n\r\n\r\n            <div className={newStyles.container} >\r\n\r\n                <div className={styles.headerBlock}>\r\n                    <div className={newStyles.image} style={props.course.img_src?{ backgroundImage: `url(${props.course.img_src})` }:{backgroundImage: `url('https://realibi.kz/file/510188.jpg')`}}>\r\n                        {\r\n                            promotionsLoaded && promotions.length>0 && (\r\n                                <>\r\n                                    <div className={classnames(styles.promotionStar, showPromotions ? styles.whiteStar : styles.violetStar)}\r\n                                        onClick={()=>setShowPromotions(!showPromotions)}\r\n                                    >\r\n                                        {\r\n                                            showPromotions ? (\r\n                                                <span className={styles.starTitle} style={{color: 'black', fontSize: 24}}>X</span>\r\n                                            ) : (\r\n                                                <>\r\n                                                    <span className={styles.starTitle}>АКЦИЯ</span>\r\n                                                    <span className={styles.starSubtitle}>(нажми)</span>\r\n                                                </>\r\n                                            )\r\n                                        }\r\n\r\n                                    </div>\r\n                                    {\r\n                                        showPromotions && (\r\n                                            <div className={styles.promotionBlock}>\r\n                                                <div style={{width: '100%'}}>\r\n                                                    <div className={styles.promotionItem}>\r\n                                                        <span className={styles.promotionTitle}>Акция</span>\r\n                                                        <span className={styles.promotionSubtitle}>{promotions[promotionIndex].text}</span>\r\n                                                    </div> <br/>\r\n                                                    <div className={styles.promotionItem}>\r\n                                                        <span className={styles.promotionTitle}>Что нужно сделать?</span>\r\n                                                        <span className={styles.promotionSubtitle}>Введите промокод <b>“{promotions[promotionIndex].promocode}”</b>, в поле <b>“Промокод”</b>, когда будете оставлять заявку этому центру</span>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                {\r\n                                                    promotions.length>1 && (\r\n                                                        <div className={styles.nextPromotionBtnBody}>\r\n                                                            <span className={styles.nextPromotionBtn}\r\n                                                                onClick={()=>{\r\n                                                                    if(promotionIndex===promotions.length-1){\r\n                                                                        setPromotionIndex(0)\r\n                                                                    } else {\r\n                                                                        setPromotionIndex(promotionIndex+1)\r\n                                                                    }\r\n                                                                }}\r\n                                                            >Следующая акция</span>\r\n                                                        </div>\r\n                                                    )\r\n                                                }\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                </>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    <div className={classnames(newStyles.headerItemThird)}>\r\n                        <div className={newStyles.infoList}>\r\n                            <span className={newStyles.fullname}>{courseDetails.title ==='test' ? '' : courseDetails.title}</span> <br/> <br/>\r\n                            <div className={newStyles.infoItem}>\r\n                                <span className={newStyles.leftSubTitle}>Центр</span>\r\n                                <span className={newStyles.leftValue}>{props.course.title}</span>\r\n                            </div>\r\n                            <div className={newStyles.infoItem}>\r\n                                <span className={newStyles.leftSubTitle}>Адрес</span>\r\n                                <span className={newStyles.leftValue}>{props.course.addresses}</span>\r\n                            </div>\r\n                            <div className={newStyles.infoItem}>\r\n                                <span className={newStyles.leftSubTitle}>Возрастная категория</span>\r\n                                <span className={newStyles.leftValue}>{courseDetails.ages}</span>\r\n                            </div>\r\n                            <div className={newStyles.infoItem}>\r\n                                <span className={newStyles.leftSubTitle}>Расписание</span>\r\n                                <span className={newStyles.leftValue}>{courseDetails.schedule}</span>\r\n                            </div>\r\n                            <div className={newStyles.infoItem}>\r\n                                <span className={newStyles.leftSubTitle}>Формат занятий:</span>\r\n                                <span className={newStyles.leftValue}>{courseDetails.format}</span>\r\n                            </div>\r\n                            <br/>\r\n                            <div className={newStyles.infoItem}>\r\n                                <span\r\n                                    className={newStyles.leftSubTitle}\r\n                                    style={{\r\n                                        fontSize: 20\r\n                                    }}\r\n                                >Цена</span>\r\n                                <span\r\n                                    className={newStyles.leftValue}\r\n                                    style={{\r\n                                        fontSize: 20,\r\n                                        fontWeight: 1000\r\n                                    }}\r\n                                >{prettify(+courseDetails.price)} {courseDetails.currency}/{courseDetails.unit_of_time}</span>\r\n                            </div>\r\n\r\n                            <div style={{\r\n                                display: 'flex',\r\n                                width: '100%',\r\n                                marginTop: 10\r\n                            }}>\r\n                                <div className={styles.enableOnMobile}>\r\n                                    <button className={styles.button} onClick={async () => {\r\n                                        handleShow();\r\n                                    }}>Оставить заявку</button>\r\n                                </div>\r\n                                <div className={styles.disableOnMobile}>\r\n                                    <button className={styles.button} onClick={async () => {\r\n                                        handleShow();\r\n                                    }}>Оставить заявку</button>\r\n                                </div>\r\n                                <a\r\n                                    onClick={() => {\r\n                                        ym(78186067,'reachGoal','whatsapp_click_center');\r\n                                        axios.post(globals.productionServerDomain + '/logUserClick',{\r\n                                            course_id: courseDetails.course_id,\r\n                                            card_id: courseDetails.id,\r\n                                            event_name: 'whatsapp'\r\n                                        })\r\n                                    }}\r\n                                    href={`https://api.whatsapp.com/send?phone=${props.course.phones}&text=%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5%2C%20%D0%BF%D0%B8%D1%88%D1%83%20%D0%92%D0%B0%D0%BC%20%D1%81%20%D0%BF%D0%BB%D0%B0%D1%82%D1%84%D0%BE%D1%80%D0%BC%D1%8B%20Oilan, `}>\r\n                                    <div\r\n                                        style={{\r\n                                            height: '100%',\r\n                                            width: 45,\r\n                                            marginLeft: 10,\r\n                                            borderRadius: 8,\r\n                                            backgroundImage: `url('/whatsapp_logo.png')`,\r\n                                            backgroundPosition: 'center',\r\n                                            backgroundRepeat: 'no-repeat',\r\n                                            backgroundSize: 'contain',\r\n                                            boxShadow: '0 0 1px grey',\r\n                                            backgroundColor: '#23d366'\r\n                                        }}\r\n                                    >\r\n                                    </div>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={newStyles.headerItemSecond}>\r\n                        <button className={styles.showBtn} onClick={()=>setShowCourseDesc(!showCourseDesc)}>\r\n                            {showCourseDesc ? 'Скрыть подробную информацию' : 'Показать подробную информацию'}\r\n                            <Image src={'/Vector-4.png'} style={{height: 6, marginLeft: 5}} className={showCourseDesc ? styles.rotateBtn : null}/>\r\n                        </button>\r\n\r\n                        <div style={{width: '100%'}} className={classnames(styles.opacityZero, showCourseDesc && styles.opacityFull)}>\r\n                            <span className={newStyles.subTitle} style={{fontSize: 18}}>О курсе:</span>\r\n                            <div className={newStyles.infoList}>\r\n                                <span className={newStyles.value}>\r\n                                    {\r\n                                        subcourseDescription.map(item => {\r\n                                            return(\r\n                                                <>\r\n                                                    {item}\r\n                                                    <br/>\r\n                                                </>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </span>\r\n                            </div> <br/>\r\n                            <span className={newStyles.subTitle} style={{fontSize: 18}}>О центре:</span>\r\n                            <div className={newStyles.infoList}>\r\n                                <span className={newStyles.value}>\r\n                                    {\r\n                                        courseDescription.map(item => {\r\n                                            return(\r\n                                                <>\r\n                                                    {item}\r\n                                                    <br/>\r\n                                                </>\r\n                                            )\r\n                                        })\r\n                                }</span>\r\n                            </div>\r\n                        </div>\r\n                        <br/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ width: '100%', marginTop: '20px' }}>\r\n                {\r\n                    props.teachers.length!=0 ?\r\n                        (\r\n                            <>\r\n                                <div className={styles.titleBlock} style={{margin: '20px 0'}}>\r\n                                    <Image src={'/teachers_title.png'} className={styles.titleImg}/>\r\n                                    <span className={styles.titleTitle}>Преподаватели центра</span>\r\n                                </div>\r\n\r\n                                <div style={{width: '100%', display: 'flex', justifyContent: 'center', padding: '0 5%', boxSzing: 'border-box'}}>\r\n                                    <div className={styles.allCoursesTab} >\r\n                                        {props.teachers.map(item => <CourseTeacherCard teacher={item} />)}\r\n                                    </div>\r\n                                </div>\r\n                            </>\r\n                        ) :\r\n                        null\r\n                }\r\n            </div>\r\n\r\n            {courseDetails.isonline ? null : (\r\n                courseDetails.longitude!=0 && (\r\n                    <>\r\n                        <div className={styles.titleBlock} style={{margin: '20px 0'}}>\r\n                            <Image src={'/Location.png'} className={styles.titleImg}/>\r\n                            <span className={styles.titleTitle}>Местоположение</span>\r\n                        </div>\r\n\r\n                        <div className={newStyles.container} style={{height: hideMap ? '100px' : '65vh'}}>\r\n                            <YMaps className={styles.ymaps}>\r\n                                <Map width={'100%'} height={hideMap ? '100px' : '65vh'} defaultState={{ center: [props.courseDetails.latitude, props.courseDetails.longitude], zoom: 16 }} >\r\n                                    <Placemark geometry={[props.courseDetails.latitude, props.courseDetails.longitude]} />\r\n                                </Map>\r\n                            </YMaps>\r\n                        </div>\r\n\r\n                        <div style={{width: '100%', display: 'flex', justifyContent: 'center', marginTop: 10}}>\r\n                        <span className={styles.spanButton} onClick={()=>{\r\n                            setHideMap(!hideMap)\r\n                        }}>{hideMap ? 'Раскрыть карту' : 'Скрыть карту'}</span>\r\n                        </div>\r\n                    </>\r\n                )\r\n            )}\r\n\r\n            {\r\n                imagesBase.length!=0 && (\r\n                    subcourses.length!=0 && (\r\n                        <>\r\n                            <div className={styles.titleBlock} style={{margin: '10px 0'}}>\r\n                                <Image src={'/Fist-Bump-Gesture.png'} className={styles.titleImg}/>\r\n                                <span className={styles.titleTitle}>Так же {props.course.title} предлагает:</span>\r\n                            </div>\r\n\r\n                            <div className={styles.container} style={{marginTop: 30}}>\r\n                                <div style={{width: '100%'}}>\r\n                                    <div className={styles.courses_block}>\r\n                                        {\r\n                                            props.subcourses.slice(0, subcourseCardsToShow).map(course => (\r\n                                                <div className={styles.card_item}>\r\n                                                    <CourseCard coverImage={imagesBase[Math.floor(Math.random() * imagesBase.length)].src} setLoadingModal={setLoadingModal} course={course} showApplicationModal={true}/>\r\n                                                </div>\r\n                                            ))\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                                {\r\n                                    subcourseCardsToShow >= props.subcourses.length ? null : (\r\n                                        <div className={styles.backToCoursesPageButtonBody}>\r\n                                            <a className={styles.backToCoursesPageButton} onClick={()=>{setSubcourseCardsToShow(subcourseCardsToShow+4)}}>Ещё</a>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                        </>\r\n                    )\r\n                )\r\n            }\r\n\r\n            <div className={styles.titleBlock} style={{margin: '20px 0'}}>\r\n                <Image src={'/feedback_star.png'} className={styles.titleImg}/>\r\n                <span className={styles.titleTitle}>Отзывы</span>\r\n            </div>\r\n            <div className={newStyles.container}>\r\n                <FeedbackForm subcourseID={props.courseDetails.id}/>\r\n                <br/>\r\n                <div className={styles.feedbacksWrapper}>\r\n                    {\r\n                        props.courseFeedbacks !== null && props.courseFeedbacks.length > 0 ?\r\n                            props.courseFeedbacks.map( item => <NewFeedback feedback={item}/>) : null\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <ContactBlock/>\r\n\r\n            <br /><br /><br /><br />\r\n\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\ncoursePage.getInitialProps = async (ctx) => {\r\n    console.log(\"ctx\")\r\n    console.log(ctx)\r\n\r\n    if(ctx.query.id !== undefined) {\r\n        let courseDetailsResult = await axios.post(`${globals.productionServerDomain}/courseCards/` + ctx.query.id);\r\n        let courseDetails = courseDetailsResult['data'][0];\r\n        console.log('course details result', courseDetails)\r\n\r\n        let courseResult = await axios.get(`${globals.productionServerDomain}/courses/` + courseDetails.course_id);\r\n        let courseInfo = courseResult['data'][0];\r\n\r\n        //let similarCoursesResult = await axios.get(`${globals.productionServerDomain}/courseCards/` + courseInfo.course_category_id);\r\n        let subCoursesResult = await axios.post(`${globals.productionServerDomain}/subcourses/` + courseInfo.id);\r\n        console.log('subcourses' , subCoursesResult.data)\r\n        let teachersResult = await axios.post(`${globals.productionServerDomain}/teachers/` + courseInfo.id);\r\n        console.log('teachers' , teachersResult.data)\r\n        let feedbacksLink = `${globals.productionServerDomain}/feedbacks/${ctx.query.id}`;\r\n        console.log(`feedbacks link: ` + feedbacksLink);\r\n        let courseFeedbacksResult = await axios.get(`${globals.productionServerDomain}/feedbacks/${ctx.query.id}`);\r\n\r\n        console.log(\"feedbacks:\");\r\n        console.log(courseFeedbacksResult.data);\r\n\r\n        // setCourse(courseInfo);\r\n        // setCourseDetails(courseDetails);\r\n        // setSubcourses(subCoursesResult['data']);\r\n        // setSimilarCourses(similarCoursesResult['data']);\r\n        // setTeachers(teachersResult['data']);\r\n\r\n        return {\r\n            course: courseInfo,\r\n            courseDetails: courseDetails,\r\n            subcourses: subCoursesResult['data'],\r\n            //similarCourses: similarCoursesResult['data'],\r\n            teachers: teachersResult['data'],\r\n            courseFeedbacks: courseFeedbacksResult['data']\r\n        }\r\n    }else{\r\n        return {};\r\n    }\r\n}\r\n\r\nexport default coursePage;\r\n"]},"metadata":{},"sourceType":"module"}