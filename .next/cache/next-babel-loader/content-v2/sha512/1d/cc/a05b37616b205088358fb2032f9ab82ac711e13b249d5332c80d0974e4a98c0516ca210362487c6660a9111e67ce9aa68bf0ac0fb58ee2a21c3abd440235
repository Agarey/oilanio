{"ast":null,"code":"var _jsxFileName = \"C:\\\\Server\\\\data\\\\htdocs\\\\oilan-mirror\\\\goco\\\\src\\\\components\\\\CourseCard\\\\CourseCard.js\";\nvar __jsx = React.createElement;\nimport styles from '../../../styles/components/CourseCard.module.css';\nimport Link from \"next/link\";\nimport React, { useEffect, useState } from \"react\";\nimport { SignupToCourseForm } from \"../Forms/SignupToCourseForm/SignupToCourseForm\";\nimport ModalWindow from \"../Modal/ModalWindow\";\nimport classnames from 'classnames';\nimport globals from \"../../globals\";\nimport Image from \"next/image\";\n\nconst axios = require('axios').default;\n\nexport default function CourseCard(props) {\n  const {\n    0: show,\n    1: setShow\n  } = useState(false);\n  const {\n    0: showInfo,\n    1: setShowInfo\n  } = useState(false);\n  const {\n    0: showPhoneNumber,\n    1: setShowPhoneNumber\n  } = useState(false);\n  const {\n    0: showContacts,\n    1: setShowContacts\n  } = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const {\n    0: promotions,\n    1: setPromotions\n  } = useState([]);\n  const {\n    0: stocks,\n    1: setStocks\n  } = useState([]);\n  const {\n    0: promotionsLoaded,\n    1: setPromotionsLoaded\n  } = useState(false);\n\n  const loadStocks = async () => {\n    let result = await axios.post(`${globals.productionServerDomain}/loadDirectionPromotions`, {\n      direction_id: 0\n    });\n    setStocks(result.data);\n\n    for (let i = 0; i < result.data.length; i++) {\n      if (result.data[i].center_id === props.course.course_id) {\n        promotions.push(result.data[i]);\n      }\n    }\n\n    setPromotions(promotions);\n\n    if (result.data.length > 0) {\n      setPromotionsLoaded(true);\n    } else {\n      setPromotionsLoaded(false);\n    }\n  };\n\n  const {\n    0: showPromotions,\n    1: setShowPromotions\n  } = useState(false);\n  const {\n    0: promotionIndex,\n    1: setPromotionIndex\n  } = useState(0);\n  const {\n    0: wordsToShowLength,\n    1: setWordsToShowLength\n  } = useState(10);\n  const {\n    0: heartValue,\n    1: setHeartValue\n  } = useState('\\u2661');\n\n  function prettify(num) {\n    var n = num.toString();\n    return n.replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1\" + ' ');\n  }\n\n  function drawStar(count) {\n    switch (count) {\n      case 1:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }\n        }));\n        break;\n\n      case 2:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }\n        }));\n        break;\n\n      case 3:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }\n        }));\n        break;\n\n      case 4:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }\n        }));\n        break;\n\n      case 5:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.svgStar,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }\n        }));\n        break;\n    }\n  }\n\n  const coursePrice = prettify(props.course.price);\n  const {\n    0: courseDescription,\n    1: setCourseDecription\n  } = useState(props.course.description === undefined ? \"\" : props.course.description);\n\n  const getCurrentDateTime = () => {\n    let currentDate = new Date();\n    let dd = currentDate.getDate();\n    if (dd < 10) dd = '0' + dd;\n    let mm = currentDate.getMonth() + 1;\n    if (mm < 10) mm = '0' + mm;\n    let yy = currentDate.getFullYear();\n    let hours = currentDate.getHours();\n    let min = currentDate.getMinutes();\n    let sec = currentDate.getSeconds();\n    return yy + \"-\" + mm + \"-\" + dd + \" \" + hours + \":\" + min + \":\" + sec;\n  };\n\n  const {\n    0: applicationSent,\n    1: setApplicationSent\n  } = useState(false);\n\n  const sendApplication = (courseId, userInfo) => {\n    let data = {\n      city_id: props.course.city_id,\n      direction_id: props.course.category_id || props.course.direction_id,\n      name: userInfo.fullName,\n      phone: userInfo.phone,\n      email: userInfo.email,\n      promocode: userInfo.promocode,\n      age: 0,\n      isOnline: props.course.format !== 'Offline',\n      course_id: props.course.course_id,\n      role_id: 4\n    };\n    axios({\n      method: 'post',\n      url: `${globals.productionServerDomain}/createCourseSearchTicket`,\n      data: data,\n      headers: {\n        'Authorization': `Bearer ${globals.localStorageKeys.authToken}`\n      }\n    }).then(function (res) {}).catch(() => {\n      alert('Что-то пошло нетак!');\n    });\n  };\n\n  const {\n    0: mobileVersion,\n    1: setMobileVersion\n  } = useState(false);\n  useEffect(() => {\n    if (window.innerWidth <= 761) {\n      setMobileVersion(true);\n      console.log('mob version ' + true);\n    } else {\n      setMobileVersion(false);\n      console.log('mob version ' + false);\n    }\n\n    loadStocks();\n  }, []);\n  return __jsx(\"div\", {\n    className: styles.container,\n    style: {\n      width: props.application !== undefined ? '40%' : null\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }, __jsx(ModalWindow, {\n    show: show,\n    handleClose: handleClose,\n    heading: `Оставить центру заявку`,\n    body: __jsx(SignupToCourseForm, {\n      sendApplicationCallback: sendApplication,\n      course: props.course,\n      handleClose: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 109\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }), promotionsLoaded && promotions.length > 0 && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: classnames(styles.promotionStar, showPromotions ? styles.whiteStar : styles.violetStar),\n    onClick: () => setShowPromotions(!showPromotions),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 29\n    }\n  }, showPromotions ? __jsx(\"span\", {\n    className: styles.starTitle,\n    style: {\n      color: 'black',\n      fontSize: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 41\n    }\n  }, \"X\") : __jsx(React.Fragment, null, __jsx(\"span\", {\n    className: styles.starTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 45\n    }\n  }, \"\\u0410\\u041A\\u0426\\u0418\\u042F\"), __jsx(\"span\", {\n    className: styles.starSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 45\n    }\n  }, \"(\\u043D\\u0430\\u0436\\u043C\\u0438)\")))), __jsx(Link, {\n    href: `/course/center/${encodeURIComponent(props.course.url)}?id=${encodeURIComponent(props.course.id)}`,\n    target: \"_blank\",\n    className: styles.noHover,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  }, __jsx(\"a\", {\n    className: styles.noHover // onClick={async () => {\n    //     axios.post(`${globals.productionServerDomain}/logUserClick/`, {\n    //         datetime: getCurrentDateTime(),\n    //         courseTitle: props.course.course_title,\n    //         courseId: props.course.id,\n    //         subcourseTitle: props.course.title,\n    //         eventName: \"О курсе\"\n    //     });\n    // }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 29\n    }\n  }), __jsx(\"div\", {\n    className: styles.titleImage__Body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: styles.titleImageWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    className: styles.titleImageBody,\n    style: {\n      backgroundImage: `url(\"${props.coverImage}\")`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 37\n    }\n  }, showPromotions && __jsx(\"div\", {\n    className: styles.promotionBlock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 49\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 53\n    }\n  }, __jsx(\"div\", {\n    className: styles.promotionItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 57\n    }\n  }, __jsx(\"span\", {\n    className: styles.promotionTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 61\n    }\n  }, \"\\u0410\\u043A\\u0446\\u0438\\u044F\"), __jsx(\"span\", {\n    className: styles.promotionSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 61\n    }\n  }, promotions[promotionIndex].text), mobileVersion && __jsx(\"span\", {\n    className: styles.promotionSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 65\n    }\n  }, \"\\u041F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434: \", __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 118\n    }\n  }, promotions[promotionIndex].promocode))), \" \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 64\n    }\n  }), mobileVersion === false && __jsx(\"div\", {\n    className: styles.promotionItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 61\n    }\n  }, __jsx(\"span\", {\n    className: styles.promotionTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 65\n    }\n  }, \"\\u0427\\u0442\\u043E \\u043D\\u0443\\u0436\\u043D\\u043E \\u0441\\u0434\\u0435\\u043B\\u0430\\u0442\\u044C?\"), __jsx(\"span\", {\n    className: styles.promotionSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 65\n    }\n  }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434 \", __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 125\n    }\n  }, \"\\u201C\", promotions[promotionIndex].promocode, \"\\u201D\"), \", \\u0432 \\u043F\\u043E\\u043B\\u0435 \", __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 181\n    }\n  }, \"\\u201C\\u041F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434\\u201D\"), \", \\u043A\\u043E\\u0433\\u0434\\u0430 \\u0431\\u0443\\u0434\\u0435\\u0442\\u0435 \\u043E\\u0441\\u0442\\u0430\\u0432\\u043B\\u044F\\u0442\\u044C \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443 \\u044D\\u0442\\u043E\\u043C\\u0443 \\u0446\\u0435\\u043D\\u0442\\u0440\\u0443\")))))), showPromotions === false && __jsx(\"div\", {\n    className: styles.titleLinkButtonBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 37\n    }\n  }), showPromotions === false && __jsx(\"div\", {\n    className: styles.image_block,\n    style: props.course.img_src ? {\n      backgroundImage: `url(${props.course.img_src})`,\n      backgroundPosition: 'center',\n      backgroundSize: 'cover',\n      backgroundColor: 'white',\n      border: '1px solid white'\n    } : {\n      backgroundImage: `url('https://realibi.kz/file/510188.jpg')`,\n      backgroundPosition: 'center',\n      backgroundSize: 'cover',\n      backgroundColor: 'white',\n      border: '1px solid white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 37\n    }\n  }), props.course.verificated, \"?\", __jsx(\"div\", {\n    className: styles.verification_block,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 37\n    }\n  }), \":\", __jsx(React.Fragment, null), \"}\"), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-between'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: styles.rating_img,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 33\n    }\n  })), __jsx(\"div\", {\n    className: styles.info_block,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 33\n    }\n  }, __jsx(\"p\", {\n    className: styles.fullname,\n    onClick: () => {\n      axios.post(globals.productionServerDomain + '/logUserClick', {\n        course_id: props.course.course_id,\n        card_id: props.course.id\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 37\n    }\n  }, props.course.title.length < 124 ? props.course.title : props.course.title.substr(0, 124).concat('...')), __jsx(\"p\", {\n    className: styles.subtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 37\n    }\n  }, props.course.course_title.length < 32 ? props.course.course_title : props.course.course_title.substr(0, 32).concat('...')), __jsx(\"p\", {\n    className: styles.info_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 37\n    }\n  }, props.course.addresses)), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      marginBottom: -15,\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 33\n    }\n  }), __jsx(\"div\", {\n    className: styles.linkButtonBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 33\n    }\n  }))))), __jsx(Link, {\n    href: `/course/center/${encodeURIComponent(props.course.url)}?id=${encodeURIComponent(props.course.id)}`,\n    target: \"_blank\",\n    className: styles.noHover,\n    style: {\n      height: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 17\n    }\n  }, __jsx(\"a\", {\n    className: styles.noHover // onClick={async () => {\n    //     axios.post(`${globals.productionServerDomain}/logUserClick/`, {\n    //         datetime: getCurrentDateTime(),\n    //         courseTitle: props.course.course_title,\n    //         courseId: props.course.id,\n    //         subcourseTitle: props.course.title,\n    //         eventName: \"О курсе\"\n    //     });\n    // }}\n    ,\n    style: {\n      height: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 21\n    }\n  }, props.course.currency === '$' ? __jsx(\"p\", {\n    className: styles.info_price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 33\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0430: \", props.course.currency, coursePrice, \"/\", props.course.unit_of_time) : __jsx(\"p\", {\n    className: styles.info_price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 33\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0430: \", coursePrice, \" \", props.course.currency, \"/\", props.course.unit_of_time)), __jsx(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 21\n    }\n  }, applicationSent ? __jsx(\"p\", {\n    className: styles.applicationSentText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 33\n    }\n  }, \"\\u0417\\u0430\\u044F\\u0432\\u043A\\u0430 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0430!\") : __jsx(\"button\", {\n    onClick: async () => {\n      setShow(!show);\n      axios.post(globals.productionServerDomain + '/logUserClick', {\n        course_id: props.course.course_id,\n        card_id: props.course.id\n      });\n    },\n    className: styles.linkButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 33\n    }\n  }, \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443\"), __jsx(\"a\", {\n    onClick: () => {\n      ym(78186067, 'reachGoal', 'whatsapp_click_center');\n      axios.post(globals.productionServerDomain + '/logUserClick', {\n        course_id: props.course.course_id,\n        card_id: props.course.id,\n        event_name: 'whatsapp'\n      });\n    },\n    href: `https://api.whatsapp.com/send?phone=${props.course.phones}&text=%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5%2C%20%D0%BF%D0%B8%D1%88%D1%83%20%D0%92%D0%B0%D0%BC%20%D1%81%20%D0%BF%D0%BB%D0%B0%D1%82%D1%84%D0%BE%D1%80%D0%BC%D1%8B%20Oilan, `,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    style: {\n      height: '100%',\n      width: 45,\n      marginLeft: 10,\n      borderRadius: 8,\n      backgroundImage: `url('/whatsapp_logo.png')`,\n      backgroundPosition: 'center',\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'contain',\n      boxShadow: '0 0 1px grey',\n      backgroundColor: '#23d366'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 29\n    }\n  })))));\n}","map":{"version":3,"sources":["C:/Server/data/htdocs/oilan-mirror/goco/src/components/CourseCard/CourseCard.js"],"names":["styles","Link","React","useEffect","useState","SignupToCourseForm","ModalWindow","classnames","globals","Image","axios","require","default","CourseCard","props","show","setShow","showInfo","setShowInfo","showPhoneNumber","setShowPhoneNumber","showContacts","setShowContacts","handleClose","handleShow","promotions","setPromotions","stocks","setStocks","promotionsLoaded","setPromotionsLoaded","loadStocks","result","post","productionServerDomain","direction_id","data","i","length","center_id","course","course_id","push","showPromotions","setShowPromotions","promotionIndex","setPromotionIndex","wordsToShowLength","setWordsToShowLength","heartValue","setHeartValue","prettify","num","n","toString","replace","drawStar","count","svgStar","starIcon","coursePrice","price","courseDescription","setCourseDecription","description","undefined","getCurrentDateTime","currentDate","Date","dd","getDate","mm","getMonth","yy","getFullYear","hours","getHours","min","getMinutes","sec","getSeconds","applicationSent","setApplicationSent","sendApplication","courseId","userInfo","city_id","category_id","name","fullName","phone","email","promocode","age","isOnline","format","role_id","method","url","headers","localStorageKeys","authToken","then","res","catch","alert","mobileVersion","setMobileVersion","window","innerWidth","console","log","container","width","application","promotionStar","whiteStar","violetStar","starTitle","color","fontSize","starSubtitle","encodeURIComponent","id","noHover","textAlign","titleImage__Body","titleImageWrapper","titleImageBody","backgroundImage","coverImage","promotionBlock","promotionItem","promotionTitle","promotionSubtitle","text","titleLinkButtonBody","image_block","img_src","backgroundPosition","backgroundSize","backgroundColor","border","verificated","verification_block","display","justifyContent","rating_img","info_block","fullname","card_id","title","substr","concat","subtitle","course_title","info_title","addresses","marginBottom","marginTop","linkButtonBody","height","currency","info_price","unit_of_time","applicationSentText","linkButton","ym","event_name","phones","marginLeft","borderRadius","backgroundRepeat","boxShadow"],"mappings":"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","sourcesContent":["import styles from '../../../styles/components/CourseCard.module.css'\r\nimport Link from \"next/link\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {SignupToCourseForm} from \"../Forms/SignupToCourseForm/SignupToCourseForm\";\r\nimport ModalWindow from \"../Modal/ModalWindow\";\r\nimport classnames from 'classnames';\r\nimport globals from \"../../globals\";\r\nimport Image from \"next/image\";\r\n\r\nconst axios = require('axios').default;\r\n\r\nexport default function CourseCard(props) {\r\n    const [show, setShow] = useState(false);\r\n    const [showInfo, setShowInfo] = useState(false);\r\n    const [showPhoneNumber, setShowPhoneNumber] = useState(false);\r\n    const [showContacts, setShowContacts] = useState(false)\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    const [promotions, setPromotions] = useState([])\r\n    const [stocks, setStocks] = useState([]);\r\n    const [promotionsLoaded, setPromotionsLoaded] = useState(false)\r\n    const loadStocks = async () => {\r\n        let result = await axios.post(`${globals.productionServerDomain}/loadDirectionPromotions`, {direction_id: 0});\r\n        setStocks(result.data);\r\n        for(let i=0;i<result.data.length;i++){\r\n            if(result.data[i].center_id === props.course.course_id){\r\n                promotions.push(result.data[i])\r\n            }\r\n        }\r\n        setPromotions(promotions)\r\n        if(result.data.length > 0){\r\n            setPromotionsLoaded(true)\r\n        } else {\r\n            setPromotionsLoaded(false)\r\n        }\r\n\r\n    }\r\n    const [showPromotions, setShowPromotions] = useState(false)\r\n    const [promotionIndex, setPromotionIndex] = useState(0)\r\n\r\n    const [wordsToShowLength, setWordsToShowLength] = useState(10)\r\n    const [heartValue, setHeartValue] = useState('\\u2661')\r\n\r\n\r\n    function prettify(num) {\r\n        var n = num.toString();\r\n        return n.replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1\" + ' ');\r\n    }\r\n\r\n    function drawStar(count) {\r\n        switch (count) {\r\n            case 1:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.svgStar} />\r\n                    </>\r\n                )\r\n                break;\r\n            case 2:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.svgStar} />\r\n                    </>)\r\n                break;\r\n            case 3:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                    </>)\r\n                break;\r\n            case 4:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.svgStar} />\r\n                    </>)\r\n                break;\r\n            case 5:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.svgStar} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.svgStar} />\r\n                    </>)\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    const coursePrice = prettify(props.course.price)\r\n    const [courseDescription, setCourseDecription] = useState(props.course.description === undefined ? \"\" : props.course.description)\r\n\r\n    const getCurrentDateTime = () => {\r\n        let currentDate = new Date();\r\n\r\n        let dd = currentDate.getDate();\r\n        if(dd < 10) dd = '0' + dd;\r\n\r\n        let mm = currentDate.getMonth()+1;\r\n        if(mm < 10) mm = '0' + mm;\r\n\r\n        let yy = currentDate.getFullYear();\r\n\r\n        let hours = currentDate.getHours();\r\n        let min = currentDate.getMinutes();\r\n        let sec = currentDate.getSeconds();\r\n\r\n        return yy + \"-\" + mm + \"-\" + dd + \" \" + hours + \":\" + min + \":\" + sec;\r\n    }\r\n\r\n    const [applicationSent, setApplicationSent] = useState(false);\r\n\r\n    const sendApplication = (courseId, userInfo) => {\r\n        let data = {\r\n            city_id: props.course.city_id,\r\n            direction_id: props.course.category_id || props.course.direction_id,\r\n            name: userInfo.fullName,\r\n            phone: userInfo.phone,\r\n            email: userInfo.email,\r\n            promocode: userInfo.promocode,\r\n            age: 0,\r\n            isOnline: props.course.format !== 'Offline',\r\n            course_id: props.course.course_id,\r\n            role_id: 4\r\n        };\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: `${globals.productionServerDomain}/createCourseSearchTicket`,\r\n            data: data,\r\n            headers: {\r\n                'Authorization': `Bearer ${globals.localStorageKeys.authToken}`\r\n            }\r\n        }).then(function(res){\r\n\r\n        }).catch(() => {\r\n            alert('Что-то пошло нетак!');\r\n        });\r\n    }\r\n\r\n    const [mobileVersion, setMobileVersion] = useState(false)\r\n\r\n    useEffect(()=>{\r\n        if (window.innerWidth <= 761){\r\n            setMobileVersion(true)\r\n            console.log('mob version ' + true)\r\n        } else {\r\n            setMobileVersion(false)\r\n            console.log('mob version ' + false)\r\n        }\r\n        loadStocks()\r\n    }, [])\r\n\r\n    return (\r\n            <div className={styles.container} style={{width: props.application !== undefined ? '40%' : null}} >\r\n                <ModalWindow show={show} handleClose={handleClose} heading={`Оставить центру заявку`} body={<SignupToCourseForm sendApplicationCallback={sendApplication} course={props.course} handleClose={handleClose}/>}/>\r\n                {\r\n                    promotionsLoaded && promotions.length>0 && (\r\n                        <>\r\n                            <div className={classnames(styles.promotionStar, showPromotions ? styles.whiteStar : styles.violetStar)}\r\n                                 onClick={()=>setShowPromotions(!showPromotions)}\r\n                            >\r\n                                {\r\n                                    showPromotions ? (\r\n                                        <span className={styles.starTitle} style={{color: 'black', fontSize: 24}}>X</span>\r\n                                    ) : (\r\n                                        <>\r\n                                            <span className={styles.starTitle}>АКЦИЯ</span>\r\n                                            <span className={styles.starSubtitle}>(нажми)</span>\r\n                                        </>\r\n                                    )\r\n                                }\r\n\r\n                            </div>\r\n                        </>\r\n                    )\r\n                }\r\n                <Link\r\n                    href={`/course/center/${encodeURIComponent(props.course.url)}?id=${encodeURIComponent(props.course.id)}`}\r\n                    target=\"_blank\" className={styles.noHover}\r\n                >\r\n\r\n                    <a\r\n                        className={styles.noHover}\r\n                        // onClick={async () => {\r\n                        //     axios.post(`${globals.productionServerDomain}/logUserClick/`, {\r\n                        //         datetime: getCurrentDateTime(),\r\n                        //         courseTitle: props.course.course_title,\r\n                        //         courseId: props.course.id,\r\n                        //         subcourseTitle: props.course.title,\r\n                        //         eventName: \"О курсе\"\r\n                        //     });\r\n                        // }}\r\n                    >\r\n                        <div style={{width: '100%'}}>\r\n                            <div style={{textAlign: 'center'}}>\r\n                                {/*<p className={styles.course_title}>{props.course.course_title}</p>*/}\r\n                            </div>\r\n                            <div className={styles.titleImage__Body}>\r\n                                <div className={styles.titleImageWrapper}>\r\n                                    <div className={styles.titleImageBody}\r\n                                        style={{backgroundImage: `url(\"${props.coverImage}\")`}}\r\n                                    >\r\n                                        {\r\n                                            showPromotions && (\r\n                                                <div className={styles.promotionBlock}>\r\n                                                    <div style={{width: '100%'}}>\r\n                                                        <div className={styles.promotionItem}>\r\n                                                            <span className={styles.promotionTitle}>Акция</span>\r\n                                                            <span className={styles.promotionSubtitle}>{promotions[promotionIndex].text}</span>\r\n                                                            {mobileVersion && (\r\n                                                                <span className={styles.promotionSubtitle}>Промокод: <b>{promotions[promotionIndex].promocode}</b></span>\r\n                                                            )}\r\n                                                        </div> <br/>\r\n                                                        {\r\n                                                            mobileVersion===false &&\r\n                                                            <div className={styles.promotionItem}>\r\n                                                                <span className={styles.promotionTitle}>Что нужно сделать?</span>\r\n                                                                <span className={styles.promotionSubtitle}>Введите промокод <b>“{promotions[promotionIndex].promocode}”</b>, в поле <b>“Промокод”</b>, когда будете оставлять заявку этому центру</span>\r\n                                                            </div>\r\n                                                        }\r\n\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                                {\r\n                                    showPromotions===false &&\r\n                                    <div className={styles.titleLinkButtonBody}>\r\n\r\n                                    </div>\r\n                                }\r\n\r\n\r\n                                {\r\n                                    showPromotions===false &&\r\n                                    <div className={styles.image_block} style={props.course.img_src?\r\n                                    {\r\n                                        backgroundImage: `url(${props.course.img_src})`,\r\n                                        backgroundPosition: 'center',\r\n                                        backgroundSize: 'cover',\r\n                                        backgroundColor: 'white',\r\n                                        border: '1px solid white'\r\n                                    }:{\r\n                                        backgroundImage: `url('https://realibi.kz/file/510188.jpg')`,\r\n                                        backgroundPosition: 'center',\r\n                                        backgroundSize: 'cover',\r\n                                        backgroundColor: 'white',\r\n                                        border: '1px solid white'\r\n                                    }}>\r\n                                    </div>\r\n                                }\r\n\r\n                                {props.course.verificated}?\r\n                                    <div className={styles.verification_block}></div>:<></>\r\n                                }\r\n                            </div>\r\n\r\n\r\n                            <div style={{display: 'flex', justifyContent: 'space-between'}}>\r\n                                <div className={styles.rating_img}>\r\n                                    {/*<img src=\"/star.png\" alt=\"\" height={'16px'}/>*/}\r\n                                    {/*{drawStar(parseInt(props.course.rating))}*/}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className={styles.info_block}>\r\n                                <div>\r\n\r\n                                    <p className={styles.fullname}\r\n                                       onClick={() => {\r\n                                           axios.post(globals.productionServerDomain + '/logUserClick',{\r\n                                               course_id: props.course.course_id,\r\n                                               card_id: props.course.id\r\n                                           })\r\n                                       }}\r\n                                    >\r\n                                        {props.course.title.length < 124 ? (props.course.title) : (props.course.title.substr(0, 124).concat('...'))}\r\n                                    </p>\r\n                                    <p className={styles.subtitle}>\r\n                                        {props.course.course_title.length < 32 ? (props.course.course_title) : (props.course.course_title.substr(0, 32).concat('...'))}\r\n                                    </p>\r\n                                    <p className={styles.info_title}>{props.course.addresses}</p>\r\n                                    {/*<div className={styles.stats}>*/}\r\n                                    {/*    <div className={styles.stat}>*/}\r\n                                    {/*        <Image src={'/like.png'} className={styles.statImage}/>*/}\r\n                                    {/*        <span>0</span>*/}\r\n                                    {/*    </div>*/}\r\n                                    {/*    <div className={styles.stat}>*/}\r\n                                    {/*        <Image src={'/view.png'} className={styles.statImage}/>*/}\r\n                                    {/*        <span>0</span>*/}\r\n                                    {/*    </div>*/}\r\n                                    {/*</div>*/}\r\n                                    {/*<span className={styles.info_title}>*/}\r\n                                    {/*    Описание:*/}\r\n                                    {/*    {courseDescription.length > 10 ?*/}\r\n                                    {/*        (props.course.description.substr(0, wordsToShowLength))*/}\r\n                                    {/*        : (props.course.description)*/}\r\n                                    {/*    }*/}\r\n                                    {/*    {*/}\r\n                                    {/*        courseDescription.length > 10 ?*/}\r\n                                    {/*            <span style={{cursor: 'pointer', color: '#5571d3'}} onClick={()=>{*/}\r\n                                    {/*                if(wordsToShowLength === 10){*/}\r\n                                    {/*                    setWordsToShowLength(props.course.description.length)*/}\r\n                                    {/*                } else {*/}\r\n                                    {/*                    setWordsToShowLength(10)*/}\r\n                                    {/*                }*/}\r\n                                    {/*            }}>{wordsToShowLength === 10 ? '... далее' : ' свернуть'}</span>*/}\r\n                                    {/*            : null*/}\r\n                                    {/*    }*/}\r\n                                    {/*</span>*/}\r\n                                </div>\r\n                                {/*<div style={{}}>*/}\r\n                                {/*    <div style={{}}>*/}\r\n                                {/*        <div>*/}\r\n                                {/*            <span className={styles.info_title}>Контакты: </span>*/}\r\n                                {/*            <span onClick={async () => {*/}\r\n                                {/*                await axios.post(`${globals.productionServerDomain}/logUserClick/`, {*/}\r\n                                {/*                    datetime: getCurrentDateTime(),*/}\r\n                                {/*                    courseTitle: props.course.course_title,*/}\r\n                                {/*                    courseId: props.course.id,*/}\r\n                                {/*                    subcourseTitle: props.course.title,*/}\r\n                                {/*                    eventName: \"Номер телефона\"*/}\r\n                                {/*                });*/}\r\n                                {/*                setShowPhoneNumber(!showPhoneNumber)*/}\r\n                                {/*            }} className={classnames(styles.info_small, styles.phone)}>*/}\r\n                                {/*                { props.course.phones ?*/}\r\n                                {/*                    (showPhoneNumber ? `${props.course.phones} ←` : props.course.phones.substr(0, 8).concat(\"-...→\")) :*/}\r\n                                {/*                    null }*/}\r\n                                {/*            </span>*/}\r\n                                {/*        </div>*/}\r\n                                {/*        <div className={classnames(showInfo ? styles.show : styles.hide)}>*/}\r\n                                {/*            <p className={styles.info_title}>Ожидаемый результат:</p>*/}\r\n                                {/*            <p className={styles.info_small}>*/}\r\n                                {/*                {*/}\r\n                                {/*                    expectedResult.map(item => {*/}\r\n                                {/*                        return(*/}\r\n                                {/*                            <>*/}\r\n                                {/*                                {item}*/}\r\n                                {/*                                <br/>*/}\r\n                                {/*                            </>*/}\r\n                                {/*                        )*/}\r\n                                {/*                    })*/}\r\n                                {/*                }*/}\r\n                                {/*            </p>*/}\r\n\r\n                                {/*            <p className={styles.info_title}>Необходимые начальные знания:</p>*/}\r\n                                {/*            <p className={styles.info_small}>{props.course.start_requirements}</p>*/}\r\n\r\n                                {/*            <p className={styles.info_title}>Продолжительность курса: </p>*/}\r\n                                {/*            <p className={styles.info_small}>{props.course.duration}</p>*/}\r\n\r\n                                {/*            <p className={styles.info_title}>Возрастная категория: </p>*/}\r\n                                {/*            <p className={styles.info_small}>{props.course.ages}</p>*/}\r\n\r\n                                {/*            <p className={styles.info_title}>Вид занятий: </p>*/}\r\n                                {/*            <p className={styles.info_small}>{props.course.type}</p>*/}\r\n\r\n                                {/*            <p className={styles.info_title}>Формат занятий: </p>*/}\r\n                                {/*            <p className={styles.info_small}>{props.course.format}</p>*/}\r\n                                {/*        </div>*/}\r\n                                {/*    </div>*/}\r\n                                {/*</div>*/}\r\n                                <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: -15, marginTop: 10}}>\r\n                                    {/*<div className={styles.socnetBlock} style={{marginBottom: 5}}>*/}\r\n                                    {/*    {props.course.instagram ? (*/}\r\n                                    {/*        <>*/}\r\n                                    {/*            <a onClick={async () => {*/}\r\n                                    {/*                await axios.post(`${globals.productionServerDomain}/logUserClick/`, {*/}\r\n                                    {/*                    datetime: getCurrentDateTime(),*/}\r\n                                    {/*                    courseTitle: props.course.course_title,*/}\r\n                                    {/*                    courseId: props.course.id,*/}\r\n                                    {/*                    subcourseTitle: props.course.title,*/}\r\n                                    {/*                    eventName: \"Instagram\"*/}\r\n                                    {/*                });*/}\r\n                                    {/*            }} target='_blank' href={`https://www.instagram.com/${props.course.instagram}/`}>*/}\r\n                                    {/*                <img src=\"/instagram.png\" className={styles.icons} alt=\"\"/>*/}\r\n                                    {/*            </a>*/}\r\n                                    {/*        </>*/}\r\n                                    {/*    ) : null }*/}\r\n                                    {/*    {props.course.website_url !== null ? (*/}\r\n                                    {/*        <>*/}\r\n                                    {/*            <a*/}\r\n                                    {/*                onClick={async () => {*/}\r\n                                    {/*                    await axios.post(`${globals.productionServerDomain}/logUserClick/`, {*/}\r\n                                    {/*                        datetime: getCurrentDateTime(),*/}\r\n                                    {/*                        courseTitle: props.course.course_title,*/}\r\n                                    {/*                        courseId: props.course.id,*/}\r\n                                    {/*                        subcourseTitle: props.course.title,*/}\r\n                                    {/*                        eventName: \"Website\"*/}\r\n                                    {/*                    });*/}\r\n                                    {/*                }}*/}\r\n                                    {/*                target='_blank' href={`${props.course.website_url}`}>*/}\r\n                                    {/*                <img src=\"/network.png\" className={styles.icons} alt=\"\"/>*/}\r\n                                    {/*            </a>*/}\r\n                                    {/*        </>*/}\r\n                                    {/*    ) : null }*/}\r\n                                    {/*</div>*/}\r\n                                </div>\r\n\r\n                                <div className={styles.linkButtonBody}>\r\n                                    {/*<div style={{alignItems: 'center', width: '100%', textAlign: 'center', marginBottom: '15px'}}>*/}\r\n                                    {/*    <a className={styles.showHideBtn} onClick={() => {*/}\r\n                                    {/*        setShowInfo(!showInfo);*/}\r\n                                    {/*    }}>{showInfo ? 'Скрыть' : 'Показать больше'}</a>*/}\r\n\r\n                                    {/*    <img src=\"/arrow-bottom.png\" alt=\"\" onClick={() => {*/}\r\n                                    {/*        setShowInfo(!showInfo);*/}\r\n                                    {/*    }}*/}\r\n                                    {/*         className={ showInfo ? styles.hideArrow : styles.showArrow}*/}\r\n                                    {/*    />*/}\r\n                                    {/*</div>*/}\r\n                                    {/*<div style={{display: 'flex', justifyContent: 'center', width: '100%'}}>*/}\r\n                                    {/*    <button onClick={async () => {*/}\r\n                                    {/*        if(!showInfo){*/}\r\n                                    {/*            setShowInfo(true);*/}\r\n                                    {/*            await axios.post(`${globals.productionServerDomain}/logUserClick/`, {*/}\r\n                                    {/*                datetime: getCurrentDateTime(),*/}\r\n                                    {/*                courseTitle: props.course.course_title,*/}\r\n                                    {/*                courseId: props.course.id,*/}\r\n                                    {/*                subcourseTitle: props.course.title,*/}\r\n                                    {/*                eventName: \"Показать больше\"*/}\r\n                                    {/*            });*/}\r\n                                    {/*        }else{*/}\r\n                                    {/*            setShowInfo(false);*/}\r\n                                    {/*        }*/}\r\n                                    {/*    }}*/}\r\n                                    {/*        className={styles.info_button}>{showInfo ? 'Скрыть' : 'Показать больше'}</button>*/}\r\n                                    {/*</div>*/}\r\n                                    {/*<div style={{display: 'flex', justifyContent: 'space-between', width: '100%', alignItems: 'center'}} onClick={() => props.setLoadingModal(true)}>*/}\r\n                                    {/*<span className={styles.heart} onMouseEnter={()=>{*/}\r\n\r\n                                    {/*}}> {heartValue} </span>*/}\r\n                                    {/*</div>*/}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                </Link>\r\n\r\n                <Link\r\n                    href={`/course/center/${encodeURIComponent(props.course.url)}?id=${encodeURIComponent(props.course.id)}`}\r\n                    target=\"_blank\" className={styles.noHover}\r\n                    style={{height: '100%'}}\r\n                >\r\n                    <a\r\n                        className={styles.noHover}\r\n                        // onClick={async () => {\r\n                        //     axios.post(`${globals.productionServerDomain}/logUserClick/`, {\r\n                        //         datetime: getCurrentDateTime(),\r\n                        //         courseTitle: props.course.course_title,\r\n                        //         courseId: props.course.id,\r\n                        //         subcourseTitle: props.course.title,\r\n                        //         eventName: \"О курсе\"\r\n                        //     });\r\n                        // }}\r\n                        style={{height: '100%'}}\r\n                    >\r\n                    </a>\r\n                </Link>\r\n\r\n                <div>\r\n                    <div>\r\n                        {props.course.currency === '$' ?\r\n                            (\r\n                                <p className={styles.info_price}>Цена: {props.course.currency}{coursePrice}/{props.course.unit_of_time}</p>\r\n                            )\r\n                            : (\r\n                                <p className={styles.info_price}>Цена: {coursePrice} {props.course.currency}/{props.course.unit_of_time}</p>\r\n                            )\r\n                        }\r\n                    </div>\r\n\r\n                    <div\r\n                        style={{\r\n                            display: 'flex'\r\n                        }}\r\n                    >\r\n                        {\r\n                            applicationSent ? (\r\n                                <p className={styles.applicationSentText}>Заявка отправлена!</p>\r\n                            ) : (\r\n                                <button onClick={async () => {\r\n                                    setShow(!show)\r\n                                    axios.post(globals.productionServerDomain + '/logUserClick',{\r\n                                        course_id: props.course.course_id,\r\n                                        card_id: props.course.id\r\n                                    })\r\n                                }} className={styles.linkButton}>Оставить заявку</button>\r\n                            )\r\n                        }\r\n\r\n                        <a\r\n                            onClick={() => {\r\n                                ym(78186067,'reachGoal','whatsapp_click_center');\r\n                                axios.post(globals.productionServerDomain + '/logUserClick',{\r\n                                    course_id: props.course.course_id,\r\n                                    card_id: props.course.id,\r\n                                    event_name: 'whatsapp'\r\n                                })\r\n                            }}\r\n                            href={`https://api.whatsapp.com/send?phone=${props.course.phones}&text=%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5%2C%20%D0%BF%D0%B8%D1%88%D1%83%20%D0%92%D0%B0%D0%BC%20%D1%81%20%D0%BF%D0%BB%D0%B0%D1%82%D1%84%D0%BE%D1%80%D0%BC%D1%8B%20Oilan, `}>\r\n                            <div\r\n                                style={{\r\n                                    height: '100%',\r\n                                    width: 45,\r\n                                    marginLeft: 10,\r\n                                    borderRadius: 8,\r\n                                    backgroundImage: `url('/whatsapp_logo.png')`,\r\n                                    backgroundPosition: 'center',\r\n                                    backgroundRepeat: 'no-repeat',\r\n                                    backgroundSize: 'contain',\r\n                                    boxShadow: '0 0 1px grey',\r\n                                    backgroundColor: '#23d366'\r\n                                }}\r\n                            >\r\n                            </div>\r\n                        </a>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}