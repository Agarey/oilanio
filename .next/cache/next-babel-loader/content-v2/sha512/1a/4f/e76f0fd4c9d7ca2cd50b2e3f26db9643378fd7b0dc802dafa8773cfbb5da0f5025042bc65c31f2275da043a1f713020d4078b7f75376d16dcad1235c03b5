{"ast":null,"code":"var _jsxFileName = \"C:\\\\Server\\\\data\\\\htdocs\\\\oilan-mirror\\\\goco\\\\src\\\\components\\\\ModeratorBlock\\\\ModeratorBlock.js\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport styles from \"./ModeratorBlock.module.css\";\nimport CourseCard from \"../CourseCard/CourseCard\";\nimport React, { useState, useEffect } from \"react\";\nimport 'react-animated-slider/build/horizontal.css';\nimport ContactButton from \"../ContactButton/ContactButton\";\nimport classnames from 'classnames';\nimport RequestCourseCard from \"../RequestCourseCard/RequestCourseCard\";\nimport RequestTeacherCard from \"../RequestTeacherCard/RequestTeacherCard\";\n\nconst axios = require('axios').default;\n\nimport globals from \"../../globals\";\nimport CourseSearchApplicationInfo from \"../CourseSearchApplicationInfo/CourseSearchApplicationInfo\";\nimport TelegramBotUser from \"../TelegramBotUser/TelegramBotUser\";\nimport { useRouter } from \"next/router\";\nimport HorizontalLine from \"../HorizontalLine/HorizaontalLine\";\nimport Slider from 'react-animated-slider'; // import StockCard from \"./StockCard/StockCard\";\n\nimport { useContext } from \"react\";\nimport Loading from \"../Loading/Loading\";\nimport { useLongPress } from 'use-long-press';\nimport TutorCourseCard from \"../TutorCourseCard\"; // import CourseSearchResultIsNotDefind from \".CourseSearchResultIsNotDefind\";\n\nfunction ModeratorBlock() {\n  const router = useRouter();\n  let {\n    0: cards,\n    1: setCards\n  } = useState([]);\n  let {\n    0: editCards,\n    1: setEditCards\n  } = useState([]);\n  let {\n    0: teachers,\n    1: setTeachers\n  } = useState([]);\n  let {\n    0: courses,\n    1: setCourses\n  } = useState([]);\n  let {\n    0: selectedCourseTitle,\n    1: setSelectedCourseTitle\n  } = useState(\"GSCSTUDY\");\n  let {\n    0: oKurse,\n    1: setOKurse\n  } = useState(0);\n  let {\n    0: otpravitZayavku,\n    1: setOtpravitZayavku\n  } = useState(0);\n  let {\n    0: pokazatBolshe,\n    1: setPokazatBolshe\n  } = useState(0);\n  let {\n    0: nomerTelefona,\n    1: setNomerTelefona\n  } = useState(0);\n  let {\n    0: website,\n    1: setWebsite\n  } = useState(0);\n  let {\n    0: instagram,\n    1: setInstagram\n  } = useState(0);\n  let {\n    0: notificationMessage,\n    1: setNotificationMessage\n  } = useState(\"\");\n  let {\n    0: notificationCenterId,\n    1: setNotificationCenterId\n  } = useState(null);\n  let {\n    0: courseSearchApplications,\n    1: setCourseSearchApplications\n  } = useState([]);\n  let {\n    0: applicationResponses,\n    1: setApplicationResponses\n  } = useState([]);\n  let {\n    0: telegramBotUsersCenters,\n    1: setTelegramBotUsersCenters\n  } = useState([]);\n  let {\n    0: telegramBotUsersTutors,\n    1: setTelegramBotUsersTutors\n  } = useState([]);\n  let {\n    0: telegramFeedbacksCenters,\n    1: setTelegramFeedbacksCenters\n  } = useState([]);\n  let {\n    0: telegramFeedbacksTutors,\n    1: setTelegramFeedbacksTutors\n  } = useState([]);\n  let {\n    0: activeApplicationsCount,\n    1: setActiveApplicationsCount\n  } = useState(0);\n  let {\n    0: directionActiveCards,\n    1: setDirectionActiveCards\n  } = useState([]);\n  let {\n    0: categories,\n    1: setCategories\n  } = useState([]);\n  let {\n    0: selectedCategoryId,\n    1: setSelectedCategoryId\n  } = useState(0);\n  let {\n    0: selectedSubcourseId,\n    1: setSelectedSubcourseId\n  } = useState(0);\n  let {\n    0: subcourses,\n    1: setSubcourses\n  } = useState([]);\n  let {\n    0: promotionText,\n    1: setPromotionText\n  } = useState('');\n  let {\n    0: promotionDateTill,\n    1: setPromotionDateTill\n  } = useState('');\n  const {\n    0: cityId,\n    1: setCityId\n  } = useState(0);\n  const {\n    0: directionId,\n    1: setDirectionId\n  } = useState(0);\n  const {\n    0: isOnline,\n    1: setIsOnline\n  } = useState(0);\n  const {\n    0: courseId,\n    1: setCourseId\n  } = useState(0);\n  const {\n    0: searchingTutors,\n    1: setSearchingTutors\n  } = useState(false);\n  const {\n    0: courseCards,\n    1: setCourseCards\n  } = useState(null);\n  const {\n    0: filters,\n    1: setFilters\n  } = useState([]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: loadingModal,\n    1: setLoadingModal\n  } = useState(false);\n  const {\n    0: openMoreSort,\n    1: setOpenMoreSort\n  } = useState(false);\n  const {\n    0: hideSort,\n    1: setHideSort\n  } = useState(false);\n  const {\n    0: currentPage,\n    1: setCurrentPage\n  } = useState(0);\n  const {\n    0: cardsNum,\n    1: setCardsNum\n  } = useState(12);\n  const {\n    0: sortType,\n    1: setSortType\n  } = useState(0);\n  const {\n    0: lessonType,\n    1: setLessonType\n  } = useState(0);\n  const {\n    0: currentCourseCategory,\n    1: setCurrentCourseCategory\n  } = useState(\"Найденные курсы\");\n  const {\n    0: tempCategoryId,\n    1: setTempCategoryId\n  } = useState(\"Все направления\");\n  const {\n    0: imagesBase,\n    1: setImagesBase\n  } = useState([]);\n\n  const loadCourseCards = async () => {\n    setLoading(true);\n    let imagesBaseResponse = await axios.get(`${globals.productionServerDomain}/imagesBase`);\n    setImagesBase(imagesBaseResponse.data);\n    let result = await axios.get(`${globals.productionServerDomain}/courseCards/`).then(() => {\n      setCourseCards(result.data);\n      console.log(result.data);\n    }).then(() => {\n      setLoading(false);\n    });\n  };\n\n  const filterBtnHandler = async (centerName, city, direction, price, center, isOnline, sortType, searchingCenterValue) => {\n    setLoading(true);\n    searchingCenterValue = Boolean(Number(searchingCenterValue));\n    let imagesBaseResponse = await axios.get(`${globals.productionServerDomain}/imagesBase`);\n    setImagesBase(imagesBaseResponse.data);\n    console.log('images', imagesBase);\n    const data = {\n      centerName: centerName,\n      city: city.toString(),\n      direction: direction.toString(),\n      price: price.toString(),\n      center: center.toString(),\n      isOnline: isOnline.toString(),\n      //individualLesson: individualLesson,\n      sortType: sortType.toString()\n    };\n    let query = `${globals.productionServerDomain}/${searchingCenterValue ? 'courseCardsFilter' : 'tutorCourseCardsFilter'}/`;\n    console.log('query', query);\n    let postResult = await axios.post(query, data);\n    console.log('course cards');\n    console.log(postResult.data);\n    setCourseCards(postResult.data);\n    setLoading(false);\n    setOpenMoreSort(true);\n  };\n\n  const {\n    0: searchingCenterState,\n    1: setSearchingCenterState\n  } = useState(true);\n  useEffect(async () => {\n    setLoading(true);\n    const params = new URLSearchParams(window.location.search);\n    console.log('params', params);\n    let centerName = params.get('centerName');\n    let direction = null;\n    let city = null;\n    let price = null;\n    let isOnline = null;\n    let center = null;\n    let searchingCenter = Number(params.get('searchingCenter'));\n    setSearchingCenterState(Boolean(searchingCenter));\n\n    if (params.has('direction')) {\n      direction = params.get('direction');\n      setDirectionId(Number(direction)); //document.getElementById(\"directionSelect\").value = direction.toString();\n    }\n\n    if (params.has('city')) {\n      city = params.get('city');\n      setCityId(Number(city)); //document.getElementById(\"citySelect\").value = city.toString();\n    }\n\n    if (params.has('price')) {\n      price = params.get('price');\n      setDirectionId(Number(direction)); //document.getElementById(\"priceSelect\").value = price;\n    }\n\n    if (params.has('isOnline')) {\n      isOnline = params.get('isOnline');\n      setIsOnline(Number(isOnline)); //document.getElementById(\"isOnlineSelect\").value = isOnline;\n    }\n\n    if (params.has('center')) {\n      center = params.get('center'); //document.getElementById(\"centerSelect\").value = center;\n    }\n\n    if (direction !== null || city !== null || price !== null || isOnline !== null || center !== null) {\n      filterBtnHandler(centerName, city === null ? 0 : Number(city), direction === null ? 0 : Number(direction), price === null ? 0 : price, center === null ? 0 : center, isOnline === null ? 0 : isOnline, 'price asc', searchingCenter).then(() => {\n        console.log('searching center', searchingCenter);\n\n        if (searchingCenter === 0) {\n          setSearchingTutors(true);\n        } else {\n          setSearchingTutors(false);\n        }\n\n        console.log(\"searching tutors\", searchingTutors);\n      });\n    } else {\n      loadCourseCards().then(() => setLoading(false));\n    }\n\n    axios.get(`${globals.productionServerDomain}/filters`).then(res => {\n      setFilters(res.data);\n      console.log(res);\n    });\n    setLoading(false);\n  }, []);\n  const longPressHandler = useLongPress(() => {\n    setShowLinkModal(true);\n  });\n  const {\n    0: showLinkModal,\n    1: setShowLinkModal\n  } = useState(false);\n  const {\n    0: showCourseSearchModal,\n    1: setCourseSearchModal\n  } = useState(false);\n\n  const handleLinkModalClose = () => setShowLinkModal(false);\n\n  const handleCourseSearchModalClose = () => setCourseSearchModal(false);\n\n  let {\n    0: linkForTarget,\n    1: setLinkForTarget\n  } = useState('');\n\n  const sendApplication = (courseId, userInfo) => {\n    let data = {\n      city_id: cityId,\n      direction_id: directionId,\n      name: userInfo.fullName,\n      phone: userInfo.phone,\n      email: userInfo.email,\n      promocode: userInfo.promocode,\n      age: 0,\n      isOnline: isOnline,\n      course_id: courseId,\n      role_id: searchingTutors ? 6 : 4\n    };\n    axios({\n      method: 'post',\n      url: `${globals.productionServerDomain}/createCourseSearchTicket`,\n      data: data,\n      headers: {\n        'Authorization': `Bearer ${globals.localStorageKeys.authToken}`\n      }\n    }).then(function (res) {}).catch(() => {\n      alert('Что-то пошло нетак!');\n    });\n  };\n\n  const googleAdds = () => {\n    return \"<!-- Global site tag (gtag.js) - Google Analytics -->\\n\" + \"<script async src=\\\"https://www.googletagmanager.com/gtag/js?id=UA-210482103-1\\\"></script>\\n\" + \"<script>\\n\" + \"  window.dataLayer = window.dataLayer || [];\\n\" + \"  function gtag(){dataLayer.push(arguments);}\\n\" + \"  gtag('js', new Date());\\n\" + \"\\n\" + \"  gtag('config', 'UA-210482103-1');\\n\" + \"</script>\" + \"<!-- Google Tag Manager -->\\n\" + \"<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\n\" + \"new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\n\" + \"j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n\" + \"'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n\" + \"})(window,document,'script','dataLayer','GTM-MFV3BJ3');</script>\\n\" + \"<!-- End Google Tag Manager -->\\n\" + \"\\n\" + \"\\n\" + \"<!-- Google Tag Manager (noscript) -->\\n\" + \"<noscript><iframe src=\\\"https://www.googletagmanager.com/ns.html?id=GTM-MFV3BJ3\\\"\\n\" + \"height=\\\"0\\\" width=\\\"0\\\" style=\\\"display:none;visibility:hidden\\\"></iframe></noscript>\\n\" + \"<!-- End Google Tag Manager (noscript) -->\";\n  };\n\n  const loadInfo = async () => {\n    let token = '';\n\n    if (localStorage.getItem(globals.localStorageKeys.authToken) !== null) {\n      token = JSON.parse(localStorage.getItem(globals.localStorageKeys.authToken)).token;\n    } else {\n      router.push('/login');\n    }\n\n    await axios({\n      method: 'get',\n      url: `${globals.productionServerDomain}/adminCards`,\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(res => {\n      setCards(res.data);\n    }).catch(() => {\n      router.push('/login');\n    });\n    await axios({\n      method: 'post',\n      url: `${globals.productionServerDomain}/getDirectionActiveCards`,\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(res => {\n      setDirectionActiveCards(res.data);\n    }).catch(() => {\n      router.push('/login');\n    });\n    await axios({\n      method: 'post',\n      url: `${globals.productionServerDomain}/courseCategories`\n    }).then(res => {\n      setCategories(res.data);\n    });\n    await axios({\n      method: 'get',\n      url: `${globals.productionServerDomain}/adminTeachers`,\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(res => {\n      setTeachers(res.data);\n    }).catch(() => {\n      router.push('/login');\n    });\n    await axios({\n      method: 'get',\n      url: `${globals.productionServerDomain}/editCards`,\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(res => {\n      setEditCards(res.data);\n    }).catch(() => {\n      router.push('/login');\n    });\n    axios.get(`${globals.productionServerDomain}/courses`).then(res => {\n      setCourses(res.data);\n    });\n    await axios({\n      method: 'post',\n      url: `${globals.productionServerDomain}/getCourseSearchApplicationStatistics`,\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(function (res) {\n      console.log(\"getCourseSearchApplicationStatistics:\");\n      setCourseSearchApplications(res.data.applications);\n      let activeCount = 0;\n      res.data.applications.map(item => {\n        if (item.is_active) {\n          activeCount++;\n        }\n      });\n      setActiveApplicationsCount(activeCount);\n      setApplicationResponses(res.data.responses);\n      console.log(courseSearchApplications);\n    }).catch(() => {\n      router.push('/login');\n    });\n    await axios({\n      method: 'post',\n      url: `${globals.productionServerDomain}/getTelegramUsersCenters`,\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(function (res) {\n      setTelegramBotUsersCenters(res.data);\n    }).catch(() => {\n      router.push('/login');\n    });\n    await axios({\n      method: 'post',\n      url: `${globals.productionServerDomain}/getTelegramUsersTutors`,\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(function (res) {\n      setTelegramBotUsersTutors(res.data);\n    }).catch(() => {\n      router.push('/login');\n    });\n    await axios({\n      method: 'get',\n      url: `${globals.productionServerDomain}/getTelegramFeedbacksCenters`,\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(function (res) {\n      setTelegramFeedbacksCenters(res.data);\n    }).catch(() => {\n      router.push('/login');\n    });\n    await axios({\n      method: 'get',\n      url: `${globals.productionServerDomain}/getTelegramFeedbacksTutors`,\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(function (res) {\n      setTelegramFeedbacksTutors(res.data);\n    }).catch(err => {\n      console.log(\"telegram bot feedbacks tutors load error\");\n    });\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    loadInfo();\n  }, []);\n  return __jsx(\"div\", {\n    className: styles.body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 9\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 13\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 17\n    }\n  }, \"Oilan - \\u0410\\u0434\\u043C\\u0438\\u043D-\\u043F\\u0430\\u043D\\u0435\\u043B\\u044C\"), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/atom-icon.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: googleAdds()\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 17\n    }\n  })), loading ? null : __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: styles.title_block,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 25\n    }\n  }, __jsx(\"img\", {\n    src: \"/teacher.png\",\n    style: {\n      height: '18px'\n    },\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 29\n    }\n  }), __jsx(\"span\", {\n    style: {\n      fontSize: 24,\n      fontFamily: 'sans-serif',\n      fontWeight: 'bold',\n      marginLeft: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 29\n    }\n  }, \"\\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430 \\u043F\\u043E \\u0437\\u0430\\u044F\\u0432\\u043A\\u0430\\u043C\")), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 25\n    }\n  }, __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 29\n    }\n  }, \"\\u0412\\u0441\\u0435\\u0433\\u043E \\u0437\\u0430\\u044F\\u0432\\u043E\\u043A: \", courseSearchApplications.length), __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 29\n    }\n  }, \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u044B\\u0445: \", activeApplicationsCount), __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 29\n    }\n  }, \"\\u041D\\u0435\\u0430\\u043A\\u0442\\u0438\\u0432\\u043D\\u044B\\u0445: \", courseSearchApplications.length - activeApplicationsCount), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    className: styles.coursesBlock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 25\n    }\n  }, __jsx(\"table\", {\n    className: styles.applicationsTable,\n    border: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 29\n    }\n  }, __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 33\n    }\n  }, __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 37\n    }\n  }, \"Id\"), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 37\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0442\\u0440\"), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 37\n    }\n  }, \"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A\"), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 37\n    }\n  }, \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 37\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0430\"), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 37\n    }\n  }, \"\\u0420\\u0430\\u0441\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 37\n    }\n  }, \"\\u041D\\u0430\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435\"), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 37\n    }\n  }, \"\\u0412\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442\\u043D\\u0430\\u044F \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 37\n    }\n  }, \"\\u0422\\u0438\\u043F\"), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 37\n    }\n  }, \"\\u0424\\u043E\\u0440\\u043C\\u0430\\u0442\"), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 37\n    }\n  }, \"\\u041E\\u0434\\u043E\\u0431\\u0440\\u0435\\u043D\\u043E\")), __jsx(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 33\n    }\n  }, courseCards.map((course, idx) => {\n    return __jsx(\"tr\", {\n      className: item.is_active ? styles.active_application : styles.inactive_application,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 45\n      }\n    }, __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 49\n      }\n    }, course.id), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 49\n      }\n    }), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 49\n      }\n    }), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 49\n      }\n    }), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 49\n      }\n    }), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 49\n      }\n    }), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 49\n      }\n    }), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 49\n      }\n    }), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 49\n      }\n    }), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 49\n      }\n    }), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 49\n      }\n    }));\n  })))))));\n}\n\nexport default ModeratorBlock;","map":{"version":3,"sources":["C:/Server/data/htdocs/oilan-mirror/goco/src/components/ModeratorBlock/ModeratorBlock.js"],"names":["Head","styles","CourseCard","React","useState","useEffect","ContactButton","classnames","RequestCourseCard","RequestTeacherCard","axios","require","default","globals","CourseSearchApplicationInfo","TelegramBotUser","useRouter","HorizontalLine","Slider","useContext","Loading","useLongPress","TutorCourseCard","ModeratorBlock","router","cards","setCards","editCards","setEditCards","teachers","setTeachers","courses","setCourses","selectedCourseTitle","setSelectedCourseTitle","oKurse","setOKurse","otpravitZayavku","setOtpravitZayavku","pokazatBolshe","setPokazatBolshe","nomerTelefona","setNomerTelefona","website","setWebsite","instagram","setInstagram","notificationMessage","setNotificationMessage","notificationCenterId","setNotificationCenterId","courseSearchApplications","setCourseSearchApplications","applicationResponses","setApplicationResponses","telegramBotUsersCenters","setTelegramBotUsersCenters","telegramBotUsersTutors","setTelegramBotUsersTutors","telegramFeedbacksCenters","setTelegramFeedbacksCenters","telegramFeedbacksTutors","setTelegramFeedbacksTutors","activeApplicationsCount","setActiveApplicationsCount","directionActiveCards","setDirectionActiveCards","categories","setCategories","selectedCategoryId","setSelectedCategoryId","selectedSubcourseId","setSelectedSubcourseId","subcourses","setSubcourses","promotionText","setPromotionText","promotionDateTill","setPromotionDateTill","cityId","setCityId","directionId","setDirectionId","isOnline","setIsOnline","courseId","setCourseId","searchingTutors","setSearchingTutors","courseCards","setCourseCards","filters","setFilters","loading","setLoading","loadingModal","setLoadingModal","openMoreSort","setOpenMoreSort","hideSort","setHideSort","currentPage","setCurrentPage","cardsNum","setCardsNum","sortType","setSortType","lessonType","setLessonType","currentCourseCategory","setCurrentCourseCategory","tempCategoryId","setTempCategoryId","imagesBase","setImagesBase","loadCourseCards","imagesBaseResponse","get","productionServerDomain","data","result","then","console","log","filterBtnHandler","centerName","city","direction","price","center","searchingCenterValue","Boolean","Number","toString","query","postResult","post","searchingCenterState","setSearchingCenterState","params","URLSearchParams","window","location","search","searchingCenter","has","res","longPressHandler","setShowLinkModal","showLinkModal","showCourseSearchModal","setCourseSearchModal","handleLinkModalClose","handleCourseSearchModalClose","linkForTarget","setLinkForTarget","sendApplication","userInfo","city_id","direction_id","name","fullName","phone","email","promocode","age","course_id","role_id","method","url","headers","localStorageKeys","authToken","catch","alert","googleAdds","loadInfo","token","localStorage","getItem","JSON","parse","push","applications","activeCount","map","item","is_active","responses","err","body","__html","container","title_block","height","fontSize","fontFamily","fontWeight","marginLeft","length","coursesBlock","applicationsTable","course","idx","active_application","inactive_application","id"],"mappings":"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","sourcesContent":["import Head from 'next/head'\r\nimport styles from \"./ModeratorBlock.module.css\";\r\nimport CourseCard from \"../CourseCard/CourseCard\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport 'react-animated-slider/build/horizontal.css'\r\nimport ContactButton from \"../ContactButton/ContactButton\";\r\nimport classnames from 'classnames';\r\nimport RequestCourseCard from \"../RequestCourseCard/RequestCourseCard\";\r\nimport RequestTeacherCard from \"../RequestTeacherCard/RequestTeacherCard\";\r\nconst axios = require('axios').default;\r\nimport globals from \"../../globals\";\r\nimport CourseSearchApplicationInfo from \"../CourseSearchApplicationInfo/CourseSearchApplicationInfo\";\r\nimport TelegramBotUser from \"../TelegramBotUser/TelegramBotUser\";\r\nimport {useRouter} from \"next/router\";\r\n\r\nimport HorizontalLine from \"../HorizontalLine/HorizaontalLine\";\r\n\r\nimport Slider from 'react-animated-slider';\r\n\r\n\r\n// import StockCard from \"./StockCard/StockCard\";\r\n\r\nimport {useContext} from \"react\";\r\n\r\n\r\nimport Loading from \"../Loading/Loading\"\r\n\r\nimport {useLongPress} from 'use-long-press';\r\n\r\n\r\n\r\nimport TutorCourseCard from \"../TutorCourseCard\";\r\n// import CourseSearchResultIsNotDefind from \".CourseSearchResultIsNotDefind\";\r\n\r\nfunction ModeratorBlock(){\r\n    const router = useRouter();\r\n    let [cards, setCards] = useState([]);\r\n    let [editCards, setEditCards] = useState([]);\r\n    let [teachers, setTeachers] = useState([]);\r\n\r\n    let [courses, setCourses] = useState([]);\r\n    let [selectedCourseTitle, setSelectedCourseTitle] = useState(\"GSCSTUDY\");\r\n    let [oKurse, setOKurse] = useState(0);\r\n    let [otpravitZayavku, setOtpravitZayavku] = useState(0);\r\n    let [pokazatBolshe, setPokazatBolshe] = useState(0);\r\n    let [nomerTelefona, setNomerTelefona] = useState(0);\r\n    let [website, setWebsite] = useState(0);\r\n    let [instagram, setInstagram] = useState(0);\r\n    let [notificationMessage, setNotificationMessage] = useState(\"\");\r\n    let [notificationCenterId, setNotificationCenterId] = useState(null)\r\n    let [courseSearchApplications, setCourseSearchApplications] = useState([]);\r\n    let [applicationResponses, setApplicationResponses] = useState([]);\r\n    let [telegramBotUsersCenters, setTelegramBotUsersCenters] = useState([]);\r\n    let [telegramBotUsersTutors, setTelegramBotUsersTutors] = useState([]);\r\n    let [telegramFeedbacksCenters, setTelegramFeedbacksCenters] = useState([]);\r\n    let [telegramFeedbacksTutors, setTelegramFeedbacksTutors] = useState([]);\r\n\r\n    let [activeApplicationsCount, setActiveApplicationsCount] = useState(0);\r\n\r\n    let [directionActiveCards, setDirectionActiveCards] = useState([]);\r\n\r\n    let [categories, setCategories] = useState([]);\r\n    let [selectedCategoryId, setSelectedCategoryId] = useState(0);\r\n    let [selectedSubcourseId, setSelectedSubcourseId] = useState(0);\r\n    let [subcourses, setSubcourses] = useState([]);\r\n    let [promotionText, setPromotionText] = useState('');\r\n    let [promotionDateTill, setPromotionDateTill] = useState('');\r\n\r\n    const [cityId, setCityId] = useState(0);\r\n    const [directionId, setDirectionId] = useState(0);\r\n    const [isOnline, setIsOnline] = useState(0);\r\n    const [courseId, setCourseId] = useState(0);\r\n\r\n    const [searchingTutors, setSearchingTutors] = useState(false);\r\n    const [courseCards, setCourseCards] = useState(null);\r\n    const [filters, setFilters] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [loadingModal, setLoadingModal] = useState(false);\r\n    const [openMoreSort, setOpenMoreSort] = useState(false)\r\n    const [hideSort, setHideSort] = useState(false)\r\n\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const [cardsNum, setCardsNum] = useState(12);\r\n\r\n    const [sortType, setSortType] = useState(0)\r\n    const [lessonType, setLessonType] = useState(0)\r\n\r\n    const [currentCourseCategory, setCurrentCourseCategory] = useState(\"Найденные курсы\")\r\n    const [tempCategoryId, setTempCategoryId] = useState(\"Все направления\")\r\n\r\n    const [imagesBase, setImagesBase] = useState([]);\r\n\r\n    const loadCourseCards = async () => {\r\n        setLoading(true)\r\n\r\n        let imagesBaseResponse = await axios.get(`${globals.productionServerDomain}/imagesBase`);\r\n        setImagesBase(imagesBaseResponse.data);\r\n\r\n        let result = await axios.get(`${globals.productionServerDomain}/courseCards/`).then(() => {\r\n            setCourseCards(result.data);\r\n            console.log(result.data);\r\n        }).then(() => {\r\n            setLoading(false);\r\n        });\r\n    }\r\n    const filterBtnHandler = async (centerName, city, direction, price, center, isOnline, sortType, searchingCenterValue) => {\r\n        setLoading(true);\r\n        searchingCenterValue = Boolean(Number(searchingCenterValue));\r\n\r\n        let imagesBaseResponse = await axios.get(`${globals.productionServerDomain}/imagesBase`);\r\n        setImagesBase(imagesBaseResponse.data);\r\n\r\n        console.log('images', imagesBase)\r\n\r\n        const data = {\r\n            centerName: centerName,\r\n            city: city.toString(),\r\n            direction: direction.toString(),\r\n            price: price.toString(),\r\n            center: center.toString(),\r\n            isOnline: isOnline.toString(),\r\n            //individualLesson: individualLesson,\r\n            sortType: sortType.toString()\r\n        }\r\n\r\n        let query = `${globals.productionServerDomain}/${(searchingCenterValue) ? 'courseCardsFilter' : 'tutorCourseCardsFilter'}/`;\r\n        console.log('query', query);\r\n        let postResult = await axios.post(query, data);\r\n        console.log('course cards');\r\n        console.log(postResult.data);\r\n        setCourseCards(postResult.data);\r\n\r\n        setLoading(false);\r\n        setOpenMoreSort(true)\r\n    }\r\n    const [searchingCenterState, setSearchingCenterState] = useState(true)\r\n    useEffect(async () =>{\r\n        setLoading(true)\r\n        const params = new URLSearchParams(window.location.search);\r\n        console.log('params', params);\r\n        let centerName = params.get('centerName');\r\n        let direction = null;\r\n        let city = null;\r\n        let price = null;\r\n        let isOnline = null;\r\n        let center = null;\r\n        let searchingCenter = Number(params.get('searchingCenter'));\r\n        setSearchingCenterState(Boolean(searchingCenter))\r\n\r\n        if (params.has('direction')) {\r\n            direction = params.get('direction');\r\n            setDirectionId(Number(direction));\r\n            //document.getElementById(\"directionSelect\").value = direction.toString();\r\n        }\r\n        if (params.has('city')) {\r\n            city = params.get('city');\r\n            setCityId(Number(city));\r\n            //document.getElementById(\"citySelect\").value = city.toString();\r\n        }\r\n        if (params.has('price')) {\r\n            price = params.get('price');\r\n            setDirectionId(Number(direction));\r\n            //document.getElementById(\"priceSelect\").value = price;\r\n        }\r\n        if (params.has('isOnline')) {\r\n            isOnline = params.get('isOnline');\r\n            setIsOnline(Number(isOnline))\r\n            //document.getElementById(\"isOnlineSelect\").value = isOnline;\r\n        }\r\n        if (params.has('center')) {\r\n            center = params.get('center');\r\n            //document.getElementById(\"centerSelect\").value = center;\r\n        }\r\n        if (direction !== null || city !== null || price !== null || isOnline !== null || center !== null) {\r\n            filterBtnHandler(centerName, city === null ? 0 : Number(city), direction === null ? 0 : Number(direction), price === null ? 0 : price, center === null ? 0 : center, isOnline === null ? 0 : isOnline, 'price asc', searchingCenter)\r\n                .then(() => {\r\n                    console.log('searching center', searchingCenter)\r\n                    if(searchingCenter === 0) {\r\n                        setSearchingTutors(true)\r\n                    } else {\r\n                        setSearchingTutors(false)\r\n                    }\r\n                    console.log(\"searching tutors\", searchingTutors)\r\n                })\r\n        } else {\r\n            loadCourseCards().then(()=>setLoading(false))\r\n        }\r\n\r\n        axios.get(`${globals.productionServerDomain}/filters`).then(res => {\r\n            setFilters(res.data);\r\n            console.log(res);\r\n        })\r\n\r\n        \r\n        setLoading(false);\r\n    }, [])\r\n\r\n    const longPressHandler = useLongPress(() => {\r\n        setShowLinkModal(true);\r\n    });\r\n\r\n    const [showLinkModal, setShowLinkModal] = useState(false);\r\n    const [showCourseSearchModal, setCourseSearchModal] = useState(false);\r\n\r\n    const handleLinkModalClose = () => setShowLinkModal(false);\r\n    const handleCourseSearchModalClose = () => setCourseSearchModal(false);\r\n\r\n    let [linkForTarget, setLinkForTarget] = useState('');\r\n\r\n    const sendApplication = (courseId, userInfo) => {\r\n\r\n        let data = {\r\n            city_id: cityId,\r\n            direction_id: directionId,\r\n            name: userInfo.fullName,\r\n            phone: userInfo.phone,\r\n            email: userInfo.email,\r\n            promocode: userInfo.promocode,\r\n            age: 0,\r\n            isOnline: isOnline,\r\n            course_id: courseId,\r\n            role_id: searchingTutors ? 6 : 4\r\n        };\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: `${globals.productionServerDomain}/createCourseSearchTicket`,\r\n            data: data,\r\n            headers: {\r\n                'Authorization': `Bearer ${globals.localStorageKeys.authToken}`\r\n            }\r\n        }).then(function(res){\r\n\r\n        }).catch(() => {\r\n            alert('Что-то пошло нетак!');\r\n        });\r\n    }\r\n    const googleAdds = () => {\r\n        return(\r\n            \"<!-- Global site tag (gtag.js) - Google Analytics -->\\n\" +\r\n            \"<script async src=\\\"https://www.googletagmanager.com/gtag/js?id=UA-210482103-1\\\"></script>\\n\" +\r\n            \"<script>\\n\" +\r\n            \"  window.dataLayer = window.dataLayer || [];\\n\" +\r\n            \"  function gtag(){dataLayer.push(arguments);}\\n\" +\r\n            \"  gtag('js', new Date());\\n\" +\r\n            \"\\n\" +\r\n            \"  gtag('config', 'UA-210482103-1');\\n\" +\r\n            \"</script>\" +\r\n\r\n            \"<!-- Google Tag Manager -->\\n\" +\r\n            \"<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\n\" +\r\n            \"new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\n\" +\r\n            \"j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n\" +\r\n            \"'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n\" +\r\n            \"})(window,document,'script','dataLayer','GTM-MFV3BJ3');</script>\\n\" +\r\n            \"<!-- End Google Tag Manager -->\\n\" +\r\n            \"\\n\" + \"\\n\" +\r\n            \"<!-- Google Tag Manager (noscript) -->\\n\" +\r\n            \"<noscript><iframe src=\\\"https://www.googletagmanager.com/ns.html?id=GTM-MFV3BJ3\\\"\\n\" +\r\n            \"height=\\\"0\\\" width=\\\"0\\\" style=\\\"display:none;visibility:hidden\\\"></iframe></noscript>\\n\" +\r\n            \"<!-- End Google Tag Manager (noscript) -->\"\r\n        )\r\n    }\r\n\r\n    const loadInfo = async () => {\r\n        let token = '';\r\n        if(localStorage.getItem(globals.localStorageKeys.authToken) !== null){\r\n            token = JSON.parse(localStorage.getItem(globals.localStorageKeys.authToken)).token;\r\n        }else{\r\n            router.push('/login');\r\n        }\r\n\r\n        await axios({\r\n            method: 'get',\r\n            url: `${globals.productionServerDomain}/adminCards`,\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then(res => {\r\n            setCards(res.data);\r\n        }).catch(() => {\r\n            router.push('/login');\r\n        })\r\n\r\n        await axios({\r\n            method: 'post',\r\n            url: `${globals.productionServerDomain}/getDirectionActiveCards`,\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then(res => {\r\n            setDirectionActiveCards(res.data);\r\n        }).catch(() => {\r\n            router.push('/login');\r\n        })\r\n\r\n        await axios({\r\n            method: 'post',\r\n            url: `${globals.productionServerDomain}/courseCategories`,\r\n        }).then(res => {\r\n            setCategories(res.data);\r\n        })\r\n\r\n        await axios({\r\n            method: 'get',\r\n            url: `${globals.productionServerDomain}/adminTeachers`,\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then(res => {\r\n            setTeachers(res.data);\r\n        }).catch(() => {\r\n            router.push('/login');\r\n        })\r\n\r\n        await axios({\r\n            method: 'get',\r\n            url: `${globals.productionServerDomain}/editCards`,\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then(res => {\r\n            setEditCards(res.data);\r\n        }).catch(() => {\r\n            router.push('/login');\r\n        })\r\n\r\n        axios.get(`${globals.productionServerDomain}/courses`).then(res => { setCourses(res.data) })\r\n\r\n        await axios({\r\n            method: 'post',\r\n            url: `${globals.productionServerDomain}/getCourseSearchApplicationStatistics`,\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then(function(res){\r\n            console.log(\"getCourseSearchApplicationStatistics:\");\r\n            setCourseSearchApplications(res.data.applications);\r\n\r\n            let activeCount = 0;\r\n\r\n            res.data.applications.map(item => {\r\n                if(item.is_active){\r\n                    activeCount++\r\n                }\r\n            });\r\n            setActiveApplicationsCount(activeCount);\r\n\r\n            setApplicationResponses(res.data.responses);\r\n            console.log(courseSearchApplications)\r\n        }).catch(() => {\r\n            router.push('/login');\r\n        })\r\n        await axios({\r\n            method: 'post',\r\n            url: `${globals.productionServerDomain}/getTelegramUsersCenters`,\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then(function(res){\r\n            setTelegramBotUsersCenters(res.data);\r\n        }).catch(() => {\r\n            router.push('/login');\r\n        })\r\n\r\n        await axios({\r\n            method: 'post',\r\n            url: `${globals.productionServerDomain}/getTelegramUsersTutors`,\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then(function(res){\r\n            setTelegramBotUsersTutors(res.data);\r\n        }).catch(() => {\r\n            router.push('/login');\r\n        })\r\n\r\n        await axios({\r\n            method: 'get',\r\n            url: `${globals.productionServerDomain}/getTelegramFeedbacksCenters`,\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then(function(res){\r\n            setTelegramFeedbacksCenters(res.data);\r\n        }).catch(() => {\r\n            router.push('/login');\r\n        })\r\n\r\n        await axios({\r\n            method: 'get',\r\n            url: `${globals.productionServerDomain}/getTelegramFeedbacksTutors`,\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        }).then(function(res){\r\n            setTelegramFeedbacksTutors(res.data);\r\n        }).catch((err)=>{\r\n            console.log(\"telegram bot feedbacks tutors load error\")\r\n        })\r\n\r\n        setLoading(false);\r\n    }\r\n\r\n    useEffect( () => {\r\n        loadInfo()\r\n    }, [])\r\n\r\n    return(\r\n        <div className={styles.body}>\r\n            <Head>\r\n                <title>Oilan - Админ-панель</title>\r\n                <link rel=\"icon\" href=\"/atom-icon.png\" />\r\n                <div dangerouslySetInnerHTML={{__html: googleAdds()}}/>\r\n            </Head>\r\n\r\n            \r\n            {/*<ContactButton/>*/}\r\n\r\n            {loading ? null : (\r\n                <div>\r\n                    <div className={styles.container}>\r\n                        <div className={styles.title_block} >\r\n                            <img src=\"/teacher.png\" style={{height: '18px'}} alt=\"\"/>\r\n                            <span style={{\r\n                                fontSize: 24,\r\n                                fontFamily: 'sans-serif',\r\n                                fontWeight: 'bold',\r\n                                marginLeft: 10\r\n                            }}>Статистика по заявкам</span>\r\n                        </div>\r\n                        <div>\r\n                            <h5>Всего заявок: {courseSearchApplications.length}</h5>\r\n                            <h5>Активных: {activeApplicationsCount}</h5>\r\n                            <h5>Неактивных: {courseSearchApplications.length - activeApplicationsCount}</h5>\r\n                            <br/>\r\n                        </div>\r\n                        <div className={styles.coursesBlock}>\r\n                            <table className={styles.applicationsTable} border={2}>\r\n                                <tr>\r\n                                    <td>Id</td>\r\n                                    <td>Центр</td>\r\n                                    <td>Заголовок</td>\r\n                                    <td>Описание</td>\r\n                                    <td>Цена</td>\r\n                                    <td>Расписание</td>\r\n                                    <td>Направление</td>\r\n                                    <td>Возрастная категория</td>\r\n                                    <td>Тип</td>\r\n                                    <td>Формат</td>\r\n                                    <td>Одобрено</td>\r\n                                </tr>\r\n                                <tbody>\r\n                                {\r\n                                    courseCards.map((course, idx) =>\r\n                                    {\r\n                                        return(\r\n                                            <tr className={item.is_active ? styles.active_application : styles.inactive_application}>\r\n                                                <td>{course.id}</td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                            </tr>\r\n                                        )\r\n                                    })\r\n                                }\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\nexport default ModeratorBlock;\r\n"]},"metadata":{},"sourceType":"module"}