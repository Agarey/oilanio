{"ast":null,"code":"var _jsxFileName = \"C:\\\\Server\\\\data\\\\htdocs\\\\oilan-mirror\\\\goco\\\\pages\\\\course\\\\center\\\\[coursename].js\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport styles from '../../../styles/components/content/course.module.css';\nimport newStyles from '../tutor/style.module.css';\nimport feedbackStyles from '../../../styles/components/Feedback.module.css';\nimport Header from '../../../src/components/Header/Header';\nimport Footer from \"../../../src/components/Footer/Footer\";\nimport HorizontalLine from \"../../../src/components/HorizontalLine/HorizaontalLine\";\nimport CourseCard from \"../../../src/components/CourseCard/CourseCard\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { useState, useEffect } from \"react\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport SimpleSlider from \"../../../src/components/SimpleSlider/SimpleSlider\";\nimport CourseTeacherCard from \"../../../src/components/CourseTeacherCard/CourseTeacherCard\";\nimport Link from \"next/link\";\nimport ContactButton from \"../../../src/components/ContactButton/ContactButton\";\nimport { SignupToCourseForm } from \"../../../src/components/Forms/SignupToCourseForm/SignupToCourseForm\";\nimport ModalWindow from \"../../../src/components/Modal/ModalWindow\";\nimport { Map, Placemark, YMaps } from 'react-yandex-maps';\nimport globals from \"../../../src/globals\";\nimport Loading from \"../../../src/components/Loading/Loading\";\nimport Feedback from \"react-bootstrap/Feedback\";\nimport NewFeedback from \"../../../src/components/NewFeedback\";\nimport FeedbackForm from \"../../../src/components/FeedbackForm\";\nimport { useRouter } from \"next/router\";\nimport classnames from 'classnames';\nimport { Image } from \"react-bootstrap\";\nimport ContactBlock from \"../../../src/components/ContactBlock\";\n\nconst axios = require('axios').default;\n\nfunction coursePage(props) {\n  const router = useRouter();\n  const {\n    0: show,\n    1: setShow\n  } = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const {\n    0: loadingModal,\n    1: setLoadingModal\n  } = useState(true);\n  const {\n    0: course,\n    1: setCourse\n  } = useState(null);\n  const {\n    0: showCourseDesc,\n    1: setShowCourseDesc\n  } = useState(true);\n  const {\n    0: courseDetails,\n    1: setCourseDetails\n  } = useState({});\n  const {\n    0: subcourses,\n    1: setSubcourses\n  } = useState(props.subcourses);\n  const {\n    0: similarCourses,\n    1: setSimilarCourses\n  } = useState([]);\n  const {\n    0: teachers,\n    1: setTeachers\n  } = useState([]);\n  const {\n    0: coursesFeedback,\n    1: setCoursesFeedback\n  } = useState([]);\n  const {\n    0: imagesBase,\n    1: setImagesBase\n  } = useState([]);\n  const {\n    0: feedbackStars,\n    1: setFeedbackStars\n  } = useState(1);\n  const {\n    0: fullname,\n    1: setFullname\n  } = useState('');\n  const {\n    0: feedbackMessage,\n    1: setFeedbackMessage\n  } = useState('');\n  const {\n    0: feedbackStarsOldState,\n    1: setFeedbackStarsOldState\n  } = useState(1);\n  const {\n    0: feedbackStarsComment,\n    1: setFeedbackStarsComment\n  } = useState('Ужасный курс');\n  let {\n    0: phones,\n    1: setPhones\n  } = useState(props.course.phones.split('  '));\n  const {\n    0: courseDescription,\n    1: setCourseDecription\n  } = useState(props.course.description != null ? props.course.description.split('|') : []);\n  const {\n    0: subcourseDescription,\n    1: setSubcourseDecription\n  } = useState(props.subcourse.description != null ? props.subcourse.description.split('|') : []);\n  const {\n    0: hideMap,\n    1: setHideMap\n  } = useState(true);\n  const {\n    0: subcourseCardsToShow,\n    1: setSubcourseCardsToShow\n  } = useState(4);\n  const {\n    0: promotions,\n    1: setPromotions\n  } = useState([]);\n  const {\n    0: stocks,\n    1: setStocks\n  } = useState([]);\n  const {\n    0: promotionsLoaded,\n    1: setPromotionsLoaded\n  } = useState(false);\n\n  const loadStocks = async () => {\n    let result = await axios.post(`${globals.productionServerDomain}/loadDirectionPromotions`, {\n      direction_id: 0\n    });\n    setStocks(result.data);\n\n    for (let i = 0; i < result.data.length; i++) {\n      if (result.data[i].center_id === courseDetails.course_id) {\n        promotions.push(result.data[i]);\n      }\n    }\n\n    setPromotions(promotions);\n    console.log('promotions', promotions);\n\n    if (result.data.length > 0) {\n      setPromotionsLoaded(true);\n    } else {\n      setPromotionsLoaded(false);\n    }\n  };\n\n  const {\n    0: showPromotions,\n    1: setShowPromotions\n  } = useState(false);\n  const {\n    0: promotionIndex,\n    1: setPromotionIndex\n  } = useState(0);\n\n  function prettify(num) {\n    let n = num.toString();\n    return n.replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1\" + ' ');\n  }\n\n  const googleAdds = () => {\n    return \"<!-- Global site tag (gtag.js) - Google Analytics -->\\n\" + \"<script async src=\\\"https://www.googletagmanager.com/gtag/js?id=UA-210482103-1\\\"></script>\\n\" + \"<script>\\n\" + \"  window.dataLayer = window.dataLayer || [];\\n\" + \"  function gtag(){dataLayer.push(arguments);}\\n\" + \"  gtag('js', new Date());\\n\" + \"\\n\" + \"  gtag('config', 'UA-210482103-1');\\n\" + \"</script>\";\n  };\n\n  function drawStar(count) {\n    switch (count) {\n      case 1:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }\n        }));\n        break;\n\n      case 2:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }\n        }));\n        break;\n\n      case 3:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }\n        }));\n        break;\n\n      case 4:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/gray_star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }\n        }));\n        break;\n\n      case 5:\n        return __jsx(React.Fragment, null, __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }\n        }), __jsx(\"img\", {\n          src: \"/star.png\",\n          alt: \"\",\n          className: styles.starIcon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }\n        }));\n        break;\n    }\n  }\n\n  const getCurrentDateTime = () => {\n    let currentDate = new Date();\n    let dd = currentDate.getDate();\n    if (dd < 10) dd = '0' + dd;\n    let mm = currentDate.getMonth() + 1;\n    if (mm < 10) mm = '0' + mm;\n    let yy = currentDate.getFullYear();\n    let hours = currentDate.getHours();\n    let min = currentDate.getMinutes();\n    let sec = currentDate.getSeconds();\n    return yy + \"-\" + mm + \"-\" + dd + \" \" + hours + \":\" + min + \":\" + sec;\n  };\n\n  const loadData = async () => {\n    console.log(\"Context query:\");\n    console.log(router.query.id);\n\n    if (router.query.id !== undefined) {\n      let courseDetailsResult = await axios.post(`${globals.productionServerDomain}/courseCards/` + router.query.id);\n      let courseDetails = courseDetailsResult['data'][0];\n      console.log('courseDetails');\n      console.log(courseDetails);\n      let courseResult = await axios.get(`${globals.productionServerDomain}/courses/` + courseDetails.course_id);\n      let courseInfo = courseResult['data'][0]; //let similarCoursesResult = await axios.get(`${globals.productionServerDomain}/courseCards/` + courseDetails.category_id);\n\n      let subCoursesResult = await axios.post(`${globals.productionServerDomain}/subcourses/` + courseInfo.id);\n      let teachersResult = await axios.post(`${globals.productionServerDomain}/teachers/` + courseInfo.id);\n      let feedbacksLink = `${globals.productionServerDomain}/feedbacks/${router.query.id}`;\n      console.log(`feedbacks link: ` + feedbacksLink);\n      let courseFeedbacksResult = await axios.get(`${globals.productionServerDomain}/feedbacks/${router.query.id}`);\n      console.log(\"feedbacks:\");\n      console.log(courseFeedbacksResult.data);\n      setCourse(courseInfo);\n      setCourseDetails(courseDetails);\n      setSubcourses(subCoursesResult['data']); //setSimilarCourses(similarCoursesResult['data']);\n\n      setTeachers(teachersResult['data']); //setCourseFeedbacks(courseFeedbacksResult['data'])\n    }\n  };\n\n  useEffect(async () => {\n    // let imagesBaseResponse = await axios.get(`${globals.productionServerDomain}/imagesBase`);\n    // setImagesBase(imagesBaseResponse.data);\n    loadStocks();\n    loadData();\n  }, imagesBase);\n\n  const sendApplication = (courseId, userInfo) => {\n    let data = {\n      city_id: props.course.city_id,\n      direction_id: courseDetails.direction_id,\n      name: userInfo.fullName,\n      phone: userInfo.phone,\n      email: userInfo.email,\n      promocode: userInfo.promocode,\n      age: 0,\n      isOnline: props.course.format !== 'Offline',\n      course_id: courseDetails.course_id,\n      role_id: 4\n    };\n    axios({\n      method: 'post',\n      url: `${globals.productionServerDomain}/createCourseSearchTicket`,\n      data: data,\n      headers: {\n        'Authorization': `Bearer ${globals.localStorageKeys.authToken}`\n      }\n    }).then(function (res) {}).catch(() => {\n      alert('Что-то пошло нетак!');\n    });\n  };\n\n  return __jsx(\"div\", {\n    style: {\n      background: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }\n  }, __jsx(ModalWindow, {\n    show: show,\n    handleClose: handleClose,\n    heading: 'Оставить центру заявку',\n    body: __jsx(SignupToCourseForm, {\n      sendApplicationCallback: sendApplication,\n      course: courseDetails,\n      handleClose: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 105\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }\n  }), __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 13\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }\n  }, \"Oilan - \", props.course.title), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/atom-icon.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: googleAdds()\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 17\n    }\n  })), __jsx(Header, {\n    white: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: newStyles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: styles.headerBlock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: newStyles.image,\n    style: props.course.img_src ? {\n      backgroundImage: `url(${props.course.img_src})`\n    } : {\n      backgroundImage: `url('https://realibi.kz/file/510188.jpg')`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 21\n    }\n  }, promotionsLoaded && promotions.length > 0 && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: classnames(styles.promotionStar, showPromotions ? styles.whiteStar : styles.violetStar),\n    onClick: () => setShowPromotions(!showPromotions),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 37\n    }\n  }, showPromotions ? __jsx(\"span\", {\n    className: styles.starTitle,\n    style: {\n      color: 'black',\n      fontSize: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 49\n    }\n  }, \"X\") : __jsx(React.Fragment, null, __jsx(\"span\", {\n    className: styles.starTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 53\n    }\n  }, \"\\u0410\\u041A\\u0426\\u0418\\u042F\"), __jsx(\"span\", {\n    className: styles.starSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 53\n    }\n  }, \"(\\u043D\\u0430\\u0436\\u043C\\u0438)\"))), showPromotions && __jsx(\"div\", {\n    className: styles.promotionBlock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 45\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 49\n    }\n  }, __jsx(\"div\", {\n    className: styles.promotionItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 53\n    }\n  }, __jsx(\"span\", {\n    className: styles.promotionTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 57\n    }\n  }, \"\\u0410\\u043A\\u0446\\u0438\\u044F\"), __jsx(\"span\", {\n    className: styles.promotionSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 57\n    }\n  }, promotions[promotionIndex].text)), \" \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 60\n    }\n  }), __jsx(\"div\", {\n    className: styles.promotionItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 53\n    }\n  }, __jsx(\"span\", {\n    className: styles.promotionTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 57\n    }\n  }, \"\\u0427\\u0442\\u043E \\u043D\\u0443\\u0436\\u043D\\u043E \\u0441\\u0434\\u0435\\u043B\\u0430\\u0442\\u044C?\"), __jsx(\"span\", {\n    className: styles.promotionSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 57\n    }\n  }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434 \", __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 117\n    }\n  }, \"\\u201C\", promotions[promotionIndex].promocode, \"\\u201D\"), \", \\u0432 \\u043F\\u043E\\u043B\\u0435 \", __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 173\n    }\n  }, \"\\u201C\\u041F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434\\u201D\"), \", \\u043A\\u043E\\u0433\\u0434\\u0430 \\u0431\\u0443\\u0434\\u0435\\u0442\\u0435 \\u043E\\u0441\\u0442\\u0430\\u0432\\u043B\\u044F\\u0442\\u044C \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443 \\u044D\\u0442\\u043E\\u043C\\u0443 \\u0446\\u0435\\u043D\\u0442\\u0440\\u0443\"))), promotions.length > 1 && __jsx(\"div\", {\n    className: styles.nextPromotionBtnBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 57\n    }\n  }, __jsx(\"span\", {\n    className: styles.nextPromotionBtn,\n    onClick: () => {\n      if (promotionIndex === promotions.length - 1) {\n        setPromotionIndex(0);\n      } else {\n        setPromotionIndex(promotionIndex + 1);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 61\n    }\n  }, \"\\u0421\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u0430\\u044F \\u0430\\u043A\\u0446\\u0438\\u044F\"))))), __jsx(\"div\", {\n    className: classnames(newStyles.headerItemThird),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: newStyles.infoList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.fullname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 29\n    }\n  }, courseDetails.title === 'test' ? '' : courseDetails.title), \" \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 132\n    }\n  }), \" \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 138\n    }\n  }), __jsx(\"div\", {\n    className: newStyles.infoItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.leftSubTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 33\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0442\\u0440\"), __jsx(\"span\", {\n    className: newStyles.leftValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 33\n    }\n  }, props.course.title)), __jsx(\"div\", {\n    className: newStyles.infoItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.leftSubTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 33\n    }\n  }, \"\\u0410\\u0434\\u0440\\u0435\\u0441\"), __jsx(\"span\", {\n    className: newStyles.leftValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 33\n    }\n  }, props.course.addresses)), __jsx(\"div\", {\n    className: newStyles.infoItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.leftSubTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 33\n    }\n  }, \"\\u0412\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442\\u043D\\u0430\\u044F \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"), __jsx(\"span\", {\n    className: newStyles.leftValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 33\n    }\n  }, courseDetails.ages)), __jsx(\"div\", {\n    className: newStyles.infoItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.leftSubTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 33\n    }\n  }, \"\\u0420\\u0430\\u0441\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"), __jsx(\"span\", {\n    className: newStyles.leftValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 33\n    }\n  }, courseDetails.schedule)), __jsx(\"div\", {\n    className: newStyles.infoItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.leftSubTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 33\n    }\n  }, \"\\u0424\\u043E\\u0440\\u043C\\u0430\\u0442 \\u0437\\u0430\\u043D\\u044F\\u0442\\u0438\\u0439:\"), __jsx(\"span\", {\n    className: newStyles.leftValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 33\n    }\n  }, courseDetails.format)), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 29\n    }\n  }), __jsx(\"div\", {\n    className: newStyles.infoItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.leftSubTitle,\n    style: {\n      fontSize: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 33\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0430\"), __jsx(\"span\", {\n    className: newStyles.leftValue,\n    style: {\n      fontSize: 20,\n      fontWeight: 1000\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 33\n    }\n  }, prettify(+courseDetails.price), \" \", courseDetails.currency, \"/\", courseDetails.unit_of_time)), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      width: '100%',\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: styles.enableOnMobile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 33\n    }\n  }, __jsx(\"button\", {\n    className: styles.button,\n    onClick: async () => {\n      handleShow();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 37\n    }\n  }, \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443\")), __jsx(\"div\", {\n    className: styles.disableOnMobile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 33\n    }\n  }, __jsx(\"button\", {\n    className: styles.button,\n    onClick: async () => {\n      handleShow();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 37\n    }\n  }, \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443\")), __jsx(\"a\", {\n    onClick: () => {\n      ym(78186067, 'reachGoal', 'whatsapp_click_center');\n      axios.post(globals.productionServerDomain + '/logUserClick', {\n        course_id: courseDetails.course_id,\n        card_id: courseDetails.id,\n        event_name: 'whatsapp'\n      });\n    },\n    href: `https://api.whatsapp.com/send?phone=${props.course.phones}&text=%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5%2C%20%D0%BF%D0%B8%D1%88%D1%83%20%D0%92%D0%B0%D0%BC%20%D1%81%20%D0%BF%D0%BB%D0%B0%D1%82%D1%84%D0%BE%D1%80%D0%BC%D1%8B%20Oilan, `,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    style: {\n      height: '100%',\n      width: 45,\n      marginLeft: 10,\n      borderRadius: 8,\n      backgroundImage: `url('/whatsapp_logo.png')`,\n      backgroundPosition: 'center',\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'contain',\n      boxShadow: '0 0 1px grey',\n      backgroundColor: '#23d366'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 37\n    }\n  }))))), __jsx(\"div\", {\n    className: newStyles.headerItemSecond,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 21\n    }\n  }, __jsx(\"button\", {\n    className: styles.showBtn,\n    onClick: () => setShowCourseDesc(!showCourseDesc),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 25\n    }\n  }, showCourseDesc ? 'Скрыть подробную информацию' : 'Показать подробную информацию', __jsx(Image, {\n    src: '/Vector-4.png',\n    style: {\n      height: 6,\n      marginLeft: 5\n    },\n    className: showCourseDesc ? styles.rotateBtn : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    style: {\n      width: '100%'\n    },\n    className: classnames(styles.opacityZero, showCourseDesc && styles.opacityFull),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.subTitle,\n    style: {\n      fontSize: 18\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 29\n    }\n  }, \"\\u041E \\u043A\\u0443\\u0440\\u0441\\u0435:\"), __jsx(\"div\", {\n    className: newStyles.infoList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 33\n    }\n  }, subcourseDescription.map(item => {\n    return __jsx(React.Fragment, null, item, __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 53\n      }\n    }));\n  }))), \" \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 36\n    }\n  }), __jsx(\"span\", {\n    className: newStyles.subTitle,\n    style: {\n      fontSize: 18\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 29\n    }\n  }, \"\\u041E \\u0446\\u0435\\u043D\\u0442\\u0440\\u0435:\"), __jsx(\"div\", {\n    className: newStyles.infoList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    className: newStyles.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 33\n    }\n  }, courseDescription.map(item => {\n    return __jsx(React.Fragment, null, item, __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 53\n      }\n    }));\n  })))), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 25\n    }\n  })))), __jsx(\"div\", {\n    style: {\n      width: '100%',\n      marginTop: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 13\n    }\n  }, props.teachers.length != 0 ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: styles.titleBlock,\n    style: {\n      margin: '20px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 33\n    }\n  }, __jsx(Image, {\n    src: '/teachers_title.png',\n    className: styles.titleImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 37\n    }\n  }), __jsx(\"span\", {\n    className: styles.titleTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 37\n    }\n  }, \"\\u041F\\u0440\\u0435\\u043F\\u043E\\u0434\\u0430\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438 \\u0446\\u0435\\u043D\\u0442\\u0440\\u0430\")), __jsx(\"div\", {\n    style: {\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      padding: '0 5%',\n      boxSzing: 'border-box'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    className: styles.allCoursesTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 37\n    }\n  }, props.teachers.map(item => __jsx(CourseTeacherCard, {\n    teacher: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 69\n    }\n  }))))) : null), courseDetails.isonline ? null : courseDetails.longitude != 0 && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: styles.titleBlock,\n    style: {\n      margin: '20px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 25\n    }\n  }, __jsx(Image, {\n    src: '/Location.png',\n    className: styles.titleImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 29\n    }\n  }), __jsx(\"span\", {\n    className: styles.titleTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 29\n    }\n  }, \"\\u041C\\u0435\\u0441\\u0442\\u043E\\u043F\\u043E\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435\")), __jsx(\"div\", {\n    className: newStyles.container,\n    style: {\n      height: hideMap ? '100px' : '65vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 25\n    }\n  }, __jsx(YMaps, {\n    className: styles.ymaps,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 29\n    }\n  }, __jsx(Map, {\n    width: '100%',\n    height: hideMap ? '100px' : '65vh',\n    defaultState: {\n      center: [props.courseDetails.latitude, props.courseDetails.longitude],\n      zoom: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 33\n    }\n  }, __jsx(Placemark, {\n    geometry: [props.courseDetails.latitude, props.courseDetails.longitude],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 37\n    }\n  })))), __jsx(\"div\", {\n    style: {\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    className: styles.spanButton,\n    onClick: () => {\n      setHideMap(!hideMap);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 25\n    }\n  }, hideMap ? 'Раскрыть карту' : 'Скрыть карту'))), imagesBase.length != 0 && subcourses.length != 0 && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: styles.titleBlock,\n    style: {\n      margin: '10px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 29\n    }\n  }, __jsx(Image, {\n    src: '/Fist-Bump-Gesture.png',\n    className: styles.titleImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 33\n    }\n  }), __jsx(\"span\", {\n    className: styles.titleTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 33\n    }\n  }, \"\\u0422\\u0430\\u043A \\u0436\\u0435 \", props.course.title, \" \\u043F\\u0440\\u0435\\u0434\\u043B\\u0430\\u0433\\u0430\\u0435\\u0442:\")), __jsx(\"div\", {\n    className: styles.container,\n    style: {\n      marginTop: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    className: styles.courses_block,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 37\n    }\n  }, props.subcourses.slice(0, subcourseCardsToShow).map(course => __jsx(\"div\", {\n    className: styles.card_item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 49\n    }\n  }, __jsx(CourseCard, {\n    coverImage: imagesBase[Math.floor(Math.random() * imagesBase.length)].src,\n    setLoadingModal: setLoadingModal,\n    course: course,\n    showApplicationModal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 53\n    }\n  }))))), subcourseCardsToShow >= props.subcourses.length ? null : __jsx(\"div\", {\n    className: styles.backToCoursesPageButtonBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 41\n    }\n  }, __jsx(\"a\", {\n    className: styles.backToCoursesPageButton,\n    onClick: () => {\n      setSubcourseCardsToShow(subcourseCardsToShow + 4);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 45\n    }\n  }, \"\\u0415\\u0449\\u0451\")))), __jsx(\"div\", {\n    className: styles.titleBlock,\n    style: {\n      margin: '20px 0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 13\n    }\n  }, __jsx(Image, {\n    src: '/feedback_star.png',\n    className: styles.titleImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 17\n    }\n  }), __jsx(\"span\", {\n    className: styles.titleTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 17\n    }\n  }, \"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B\")), __jsx(\"div\", {\n    className: newStyles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 13\n    }\n  }, __jsx(FeedbackForm, {\n    subcourseID: props.courseDetails.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 17\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    className: styles.feedbacksWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 17\n    }\n  }, props.courseFeedbacks !== null && props.courseFeedbacks.length > 0 ? props.courseFeedbacks.map(item => __jsx(NewFeedback, {\n    feedback: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 64\n    }\n  })) : null)), __jsx(ContactBlock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 13\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 13\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 19\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 25\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 31\n    }\n  }), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 13\n    }\n  }));\n}\n\ncoursePage.getInitialProps = async ctx => {\n  console.log(\"ctx\");\n  console.log(ctx);\n\n  if (ctx.query.id !== undefined) {\n    let courseDetailsResult = await axios.post(`${globals.productionServerDomain}/courseCards/` + ctx.query.id);\n    let courseDetails = courseDetailsResult['data'][0];\n    console.log('course details result', courseDetails);\n    let courseResult = await axios.get(`${globals.productionServerDomain}/courses/` + courseDetails.course_id);\n    let courseInfo = courseResult['data'][0]; //let similarCoursesResult = await axios.get(`${globals.productionServerDomain}/courseCards/` + courseInfo.course_category_id);\n\n    let subCoursesResult = await axios.post(`${globals.productionServerDomain}/subcourses/` + courseInfo.id);\n    console.log('subcourses', subCoursesResult.data);\n    let teachersResult = await axios.post(`${globals.productionServerDomain}/teachers/` + courseInfo.id);\n    console.log('teachers', teachersResult.data);\n    let feedbacksLink = `${globals.productionServerDomain}/feedbacks/${ctx.query.id}`;\n    console.log(`feedbacks link: ` + feedbacksLink);\n    let courseFeedbacksResult = await axios.get(`${globals.productionServerDomain}/feedbacks/${ctx.query.id}`);\n    console.log(\"feedbacks:\");\n    console.log(courseFeedbacksResult.data); // setCourse(courseInfo);\n    // setCourseDetails(courseDetails);\n    // setSubcourses(subCoursesResult['data']);\n    // setSimilarCourses(similarCoursesResult['data']);\n    // setTeachers(teachersResult['data']);\n\n    return {\n      course: courseInfo,\n      courseDetails: courseDetails,\n      subcourses: subCoursesResult['data'],\n      //similarCourses: similarCoursesResult['data'],\n      teachers: teachersResult['data'],\n      courseFeedbacks: courseFeedbacksResult['data']\n    };\n  } else {\n    return {};\n  }\n};\n\nexport default coursePage;","map":{"version":3,"sources":["C:/Server/data/htdocs/oilan-mirror/goco/pages/course/center/[coursename].js"],"names":["Head","styles","newStyles","feedbackStyles","Header","Footer","HorizontalLine","CourseCard","React","useState","useEffect","SimpleSlider","CourseTeacherCard","Link","ContactButton","SignupToCourseForm","ModalWindow","Map","Placemark","YMaps","globals","Loading","Feedback","NewFeedback","FeedbackForm","useRouter","classnames","Image","ContactBlock","axios","require","default","coursePage","props","router","show","setShow","handleClose","handleShow","loadingModal","setLoadingModal","course","setCourse","showCourseDesc","setShowCourseDesc","courseDetails","setCourseDetails","subcourses","setSubcourses","similarCourses","setSimilarCourses","teachers","setTeachers","coursesFeedback","setCoursesFeedback","imagesBase","setImagesBase","feedbackStars","setFeedbackStars","fullname","setFullname","feedbackMessage","setFeedbackMessage","feedbackStarsOldState","setFeedbackStarsOldState","feedbackStarsComment","setFeedbackStarsComment","phones","setPhones","split","courseDescription","setCourseDecription","description","subcourseDescription","setSubcourseDecription","subcourse","hideMap","setHideMap","subcourseCardsToShow","setSubcourseCardsToShow","promotions","setPromotions","stocks","setStocks","promotionsLoaded","setPromotionsLoaded","loadStocks","result","post","productionServerDomain","direction_id","data","i","length","center_id","course_id","push","console","log","showPromotions","setShowPromotions","promotionIndex","setPromotionIndex","prettify","num","n","toString","replace","googleAdds","drawStar","count","starIcon","getCurrentDateTime","currentDate","Date","dd","getDate","mm","getMonth","yy","getFullYear","hours","getHours","min","getMinutes","sec","getSeconds","loadData","query","id","undefined","courseDetailsResult","courseResult","get","courseInfo","subCoursesResult","teachersResult","feedbacksLink","courseFeedbacksResult","sendApplication","courseId","userInfo","city_id","name","fullName","phone","email","promocode","age","isOnline","format","role_id","method","url","headers","localStorageKeys","authToken","then","res","catch","alert","background","title","__html","container","headerBlock","image","img_src","backgroundImage","promotionStar","whiteStar","violetStar","starTitle","color","fontSize","starSubtitle","promotionBlock","width","promotionItem","promotionTitle","promotionSubtitle","text","nextPromotionBtnBody","nextPromotionBtn","headerItemThird","infoList","infoItem","leftSubTitle","leftValue","addresses","ages","schedule","fontWeight","price","currency","unit_of_time","display","marginTop","enableOnMobile","button","disableOnMobile","ym","card_id","event_name","height","marginLeft","borderRadius","backgroundPosition","backgroundRepeat","backgroundSize","boxShadow","backgroundColor","headerItemSecond","showBtn","rotateBtn","opacityZero","opacityFull","subTitle","value","map","item","titleBlock","margin","titleImg","titleTitle","justifyContent","padding","boxSzing","allCoursesTab","isonline","longitude","ymaps","center","latitude","zoom","spanButton","courses_block","slice","card_item","Math","floor","random","src","backToCoursesPageButtonBody","backToCoursesPageButton","feedbacksWrapper","courseFeedbacks","getInitialProps","ctx"],"mappings":"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","sourcesContent":["import Head from 'next/head'\r\nimport styles from '../../../styles/components/content/course.module.css'\r\nimport newStyles from '../tutor/style.module.css'\r\nimport feedbackStyles from '../../../styles/components/Feedback.module.css'\r\nimport Header from '../../../src/components/Header/Header'\r\nimport Footer from \"../../../src/components/Footer/Footer\";\r\nimport HorizontalLine from \"../../../src/components/HorizontalLine/HorizaontalLine\";\r\nimport CourseCard from \"../../../src/components/CourseCard/CourseCard\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport SimpleSlider from \"../../../src/components/SimpleSlider/SimpleSlider\";\r\nimport CourseTeacherCard from \"../../../src/components/CourseTeacherCard/CourseTeacherCard\";\r\nimport Link from \"next/link\";\r\nimport ContactButton from \"../../../src/components/ContactButton/ContactButton\";\r\nimport { SignupToCourseForm } from \"../../../src/components/Forms/SignupToCourseForm/SignupToCourseForm\";\r\nimport ModalWindow from \"../../../src/components/Modal/ModalWindow\";\r\nimport { Map, Placemark, YMaps } from 'react-yandex-maps';\r\nimport globals from \"../../../src/globals\";\r\nimport Loading from \"../../../src/components/Loading/Loading\";\r\nimport Feedback from \"react-bootstrap/Feedback\";\r\nimport NewFeedback from \"../../../src/components/NewFeedback\";\r\nimport FeedbackForm from \"../../../src/components/FeedbackForm\";\r\nimport {useRouter} from \"next/router\";\r\nimport classnames from 'classnames'\r\nimport {Image} from \"react-bootstrap\";\r\nimport ContactBlock from \"../../../src/components/ContactBlock\";\r\n\r\nconst axios = require('axios').default;\r\n\r\nfunction coursePage(props) {\r\n    const router = useRouter();\r\n    const [show, setShow] = useState(false);\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const [loadingModal, setLoadingModal] = useState(true);\r\n\r\n    const [course, setCourse] = useState(null);\r\n    const [showCourseDesc, setShowCourseDesc] = useState(true)\r\n\r\n    const [courseDetails, setCourseDetails] = useState({});\r\n    const [subcourses, setSubcourses] = useState(props.subcourses);\r\n    const [similarCourses, setSimilarCourses] = useState([]);\r\n    const [teachers, setTeachers] = useState([]);\r\n    const [coursesFeedback, setCoursesFeedback] = useState([]);\r\n\r\n    const [imagesBase, setImagesBase] = useState([]);\r\n\r\n    const [feedbackStars, setFeedbackStars] = useState(1);\r\n    const [fullname, setFullname] = useState('')\r\n    const [feedbackMessage, setFeedbackMessage] = useState('')\r\n    const [feedbackStarsOldState, setFeedbackStarsOldState] = useState(1);\r\n    const [feedbackStarsComment, setFeedbackStarsComment] = useState('Ужасный курс')\r\n\r\n    let [phones, setPhones] = useState(props.course.phones.split('  '));\r\n    const [courseDescription, setCourseDecription] = useState(props.course.description!=null ? props.course.description.split('|') : [])\r\n    const [subcourseDescription, setSubcourseDecription] = useState(props.subcourse.description!=null ? props.subcourse.description.split('|') : []);\r\n\r\n    const [hideMap, setHideMap] = useState( true)\r\n\r\n    const [subcourseCardsToShow, setSubcourseCardsToShow] = useState(4)\r\n\r\n    const [promotions, setPromotions] = useState([])\r\n    const [stocks, setStocks] = useState([]);\r\n    const [promotionsLoaded, setPromotionsLoaded] = useState(false)\r\n    const loadStocks = async () => {\r\n        let result = await axios.post(`${globals.productionServerDomain}/loadDirectionPromotions`, {direction_id: 0});\r\n        setStocks(result.data);\r\n        for(let i=0;i<result.data.length;i++){\r\n            if(result.data[i].center_id === courseDetails.course_id){\r\n                promotions.push(result.data[i])\r\n            }\r\n        }\r\n        setPromotions(promotions)\r\n        console.log('promotions', promotions)\r\n        if(result.data.length > 0){\r\n            setPromotionsLoaded(true)\r\n        } else {\r\n            setPromotionsLoaded(false)\r\n        }\r\n\r\n    }\r\n    const [showPromotions, setShowPromotions] = useState(false)\r\n    const [promotionIndex, setPromotionIndex] = useState(0)\r\n\r\n    function prettify(num) {\r\n        let n = num.toString();\r\n        return n.replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1\" + ' ');\r\n    }\r\n\r\n    const googleAdds = () => {\r\n        return(\r\n            \"<!-- Global site tag (gtag.js) - Google Analytics -->\\n\" +\r\n            \"<script async src=\\\"https://www.googletagmanager.com/gtag/js?id=UA-210482103-1\\\"></script>\\n\" +\r\n            \"<script>\\n\" +\r\n            \"  window.dataLayer = window.dataLayer || [];\\n\" +\r\n            \"  function gtag(){dataLayer.push(arguments);}\\n\" +\r\n            \"  gtag('js', new Date());\\n\" +\r\n            \"\\n\" +\r\n            \"  gtag('config', 'UA-210482103-1');\\n\" +\r\n            \"</script>\"\r\n        )\r\n    }\r\n\r\n    function drawStar(count) {\r\n        switch (count) {\r\n            case 1:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                    </>\r\n                )\r\n                break;\r\n            case 2:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                    </>)\r\n                break;\r\n            case 3:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                    </>)\r\n                break;\r\n            case 4:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/gray_star.png\" alt=\"\" className={styles.starIcon} />\r\n                    </>)\r\n                break;\r\n            case 5:\r\n                return (\r\n                    <>\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                        <img src=\"/star.png\" alt=\"\" className={styles.starIcon} />\r\n                    </>)\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    const getCurrentDateTime = () => {\r\n        let currentDate = new Date();\r\n\r\n        let dd = currentDate.getDate();\r\n        if (dd < 10) dd = '0' + dd;\r\n\r\n        let mm = currentDate.getMonth() + 1;\r\n        if (mm < 10) mm = '0' + mm;\r\n\r\n        let yy = currentDate.getFullYear();\r\n\r\n        let hours = currentDate.getHours();\r\n        let min = currentDate.getMinutes();\r\n        let sec = currentDate.getSeconds();\r\n\r\n        return yy + \"-\" + mm + \"-\" + dd + \" \" + hours + \":\" + min + \":\" + sec;\r\n    }\r\n\r\n    const loadData = async () => {\r\n        console.log(\"Context query:\");\r\n        console.log(router.query.id);\r\n\r\n        if (router.query.id !== undefined) {\r\n\r\n            let courseDetailsResult = await axios.post(`${globals.productionServerDomain}/courseCards/` + router.query.id);\r\n            let courseDetails = courseDetailsResult['data'][0];\r\n            console.log('courseDetails')\r\n            console.log(courseDetails);\r\n\r\n            let courseResult = await axios.get(`${globals.productionServerDomain}/courses/` + courseDetails.course_id);\r\n\r\n            let courseInfo = courseResult['data'][0];\r\n\r\n            //let similarCoursesResult = await axios.get(`${globals.productionServerDomain}/courseCards/` + courseDetails.category_id);\r\n            let subCoursesResult = await axios.post(`${globals.productionServerDomain}/subcourses/` + courseInfo.id);\r\n            let teachersResult = await axios.post(`${globals.productionServerDomain}/teachers/` + courseInfo.id);\r\n\r\n            let feedbacksLink = `${globals.productionServerDomain}/feedbacks/${router.query.id}`;\r\n            console.log(`feedbacks link: ` + feedbacksLink);\r\n            let courseFeedbacksResult = await axios.get(`${globals.productionServerDomain}/feedbacks/${router.query.id}`);\r\n\r\n            console.log(\"feedbacks:\");\r\n            console.log(courseFeedbacksResult.data);\r\n\r\n            setCourse(courseInfo);\r\n            setCourseDetails(courseDetails);\r\n            setSubcourses(subCoursesResult['data']);\r\n            //setSimilarCourses(similarCoursesResult['data']);\r\n            setTeachers(teachersResult['data']);\r\n            //setCourseFeedbacks(courseFeedbacksResult['data'])\r\n        }\r\n    }\r\n\r\n    useEffect(async ()=> {\r\n        // let imagesBaseResponse = await axios.get(`${globals.productionServerDomain}/imagesBase`);\r\n        // setImagesBase(imagesBaseResponse.data);\r\n\r\n        loadStocks();\r\n        loadData();\r\n    }, imagesBase)\r\n\r\n    const sendApplication = (courseId, userInfo) => {\r\n\r\n        let data = {\r\n            city_id: props.course.city_id,\r\n            direction_id: courseDetails.direction_id,\r\n            name: userInfo.fullName,\r\n            phone: userInfo.phone,\r\n            email: userInfo.email,\r\n            promocode: userInfo.promocode,\r\n            age: 0,\r\n            isOnline: props.course.format !== 'Offline',\r\n            course_id: courseDetails.course_id,\r\n            role_id: 4\r\n        };\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: `${globals.productionServerDomain}/createCourseSearchTicket`,\r\n            data: data,\r\n            headers: {\r\n                'Authorization': `Bearer ${globals.localStorageKeys.authToken}`\r\n            }\r\n        }).then(function(res){\r\n\r\n        }).catch(() => {\r\n            alert('Что-то пошло нетак!');\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div style={{ background: 'white' }}>\r\n            <ModalWindow show={show} handleClose={handleClose} heading={'Оставить центру заявку'} body={<SignupToCourseForm sendApplicationCallback={sendApplication} course={courseDetails} handleClose={handleClose} />} />\r\n\r\n            <Head>\r\n                <title>Oilan - {props.course.title}</title>\r\n                <link rel=\"icon\" href=\"/atom-icon.png\" />\r\n                <div dangerouslySetInnerHTML={{__html: googleAdds()}}/>\r\n            </Head>\r\n\r\n            <Header white={true}/>\r\n            {/*<ContactButton />*/}\r\n\r\n            {/*<div className={styles.headerImage}*/}\r\n            {/*     style={{*/}\r\n            {/*         backgroundImage: `url(${props.course.background_image_url})`*/}\r\n            {/*     }}*/}\r\n            {/*>*/}\r\n\r\n            {/*</div>*/}\r\n\r\n\r\n\r\n\r\n            <div className={newStyles.container} >\r\n\r\n                <div className={styles.headerBlock}>\r\n                    <div className={newStyles.image} style={props.course.img_src?{ backgroundImage: `url(${props.course.img_src})` }:{backgroundImage: `url('https://realibi.kz/file/510188.jpg')`}}>\r\n                        {\r\n                            promotionsLoaded && promotions.length>0 && (\r\n                                <>\r\n                                    <div className={classnames(styles.promotionStar, showPromotions ? styles.whiteStar : styles.violetStar)}\r\n                                        onClick={()=>setShowPromotions(!showPromotions)}\r\n                                    >\r\n                                        {\r\n                                            showPromotions ? (\r\n                                                <span className={styles.starTitle} style={{color: 'black', fontSize: 24}}>X</span>\r\n                                            ) : (\r\n                                                <>\r\n                                                    <span className={styles.starTitle}>АКЦИЯ</span>\r\n                                                    <span className={styles.starSubtitle}>(нажми)</span>\r\n                                                </>\r\n                                            )\r\n                                        }\r\n\r\n                                    </div>\r\n                                    {\r\n                                        showPromotions && (\r\n                                            <div className={styles.promotionBlock}>\r\n                                                <div style={{width: '100%'}}>\r\n                                                    <div className={styles.promotionItem}>\r\n                                                        <span className={styles.promotionTitle}>Акция</span>\r\n                                                        <span className={styles.promotionSubtitle}>{promotions[promotionIndex].text}</span>\r\n                                                    </div> <br/>\r\n                                                    <div className={styles.promotionItem}>\r\n                                                        <span className={styles.promotionTitle}>Что нужно сделать?</span>\r\n                                                        <span className={styles.promotionSubtitle}>Введите промокод <b>“{promotions[promotionIndex].promocode}”</b>, в поле <b>“Промокод”</b>, когда будете оставлять заявку этому центру</span>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                {\r\n                                                    promotions.length>1 && (\r\n                                                        <div className={styles.nextPromotionBtnBody}>\r\n                                                            <span className={styles.nextPromotionBtn}\r\n                                                                onClick={()=>{\r\n                                                                    if(promotionIndex===promotions.length-1){\r\n                                                                        setPromotionIndex(0)\r\n                                                                    } else {\r\n                                                                        setPromotionIndex(promotionIndex+1)\r\n                                                                    }\r\n                                                                }}\r\n                                                            >Следующая акция</span>\r\n                                                        </div>\r\n                                                    )\r\n                                                }\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                </>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    <div className={classnames(newStyles.headerItemThird)}>\r\n                        <div className={newStyles.infoList}>\r\n                            <span className={newStyles.fullname}>{courseDetails.title ==='test' ? '' : courseDetails.title}</span> <br/> <br/>\r\n                            <div className={newStyles.infoItem}>\r\n                                <span className={newStyles.leftSubTitle}>Центр</span>\r\n                                <span className={newStyles.leftValue}>{props.course.title}</span>\r\n                            </div>\r\n                            <div className={newStyles.infoItem}>\r\n                                <span className={newStyles.leftSubTitle}>Адрес</span>\r\n                                <span className={newStyles.leftValue}>{props.course.addresses}</span>\r\n                            </div>\r\n                            <div className={newStyles.infoItem}>\r\n                                <span className={newStyles.leftSubTitle}>Возрастная категория</span>\r\n                                <span className={newStyles.leftValue}>{courseDetails.ages}</span>\r\n                            </div>\r\n                            <div className={newStyles.infoItem}>\r\n                                <span className={newStyles.leftSubTitle}>Расписание</span>\r\n                                <span className={newStyles.leftValue}>{courseDetails.schedule}</span>\r\n                            </div>\r\n                            <div className={newStyles.infoItem}>\r\n                                <span className={newStyles.leftSubTitle}>Формат занятий:</span>\r\n                                <span className={newStyles.leftValue}>{courseDetails.format}</span>\r\n                            </div>\r\n                            <br/>\r\n                            <div className={newStyles.infoItem}>\r\n                                <span\r\n                                    className={newStyles.leftSubTitle}\r\n                                    style={{\r\n                                        fontSize: 20\r\n                                    }}\r\n                                >Цена</span>\r\n                                <span\r\n                                    className={newStyles.leftValue}\r\n                                    style={{\r\n                                        fontSize: 20,\r\n                                        fontWeight: 1000\r\n                                    }}\r\n                                >{prettify(+courseDetails.price)} {courseDetails.currency}/{courseDetails.unit_of_time}</span>\r\n                            </div>\r\n\r\n                            <div style={{\r\n                                display: 'flex',\r\n                                width: '100%',\r\n                                marginTop: 10\r\n                            }}>\r\n                                <div className={styles.enableOnMobile}>\r\n                                    <button className={styles.button} onClick={async () => {\r\n                                        handleShow();\r\n                                    }}>Оставить заявку</button>\r\n                                </div>\r\n                                <div className={styles.disableOnMobile}>\r\n                                    <button className={styles.button} onClick={async () => {\r\n                                        handleShow();\r\n                                    }}>Оставить заявку</button>\r\n                                </div>\r\n                                <a\r\n                                    onClick={() => {\r\n                                        ym(78186067,'reachGoal','whatsapp_click_center');\r\n                                        axios.post(globals.productionServerDomain + '/logUserClick',{\r\n                                            course_id: courseDetails.course_id,\r\n                                            card_id: courseDetails.id,\r\n                                            event_name: 'whatsapp'\r\n                                        })\r\n                                    }}\r\n                                    href={`https://api.whatsapp.com/send?phone=${props.course.phones}&text=%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5%2C%20%D0%BF%D0%B8%D1%88%D1%83%20%D0%92%D0%B0%D0%BC%20%D1%81%20%D0%BF%D0%BB%D0%B0%D1%82%D1%84%D0%BE%D1%80%D0%BC%D1%8B%20Oilan, `}>\r\n                                    <div\r\n                                        style={{\r\n                                            height: '100%',\r\n                                            width: 45,\r\n                                            marginLeft: 10,\r\n                                            borderRadius: 8,\r\n                                            backgroundImage: `url('/whatsapp_logo.png')`,\r\n                                            backgroundPosition: 'center',\r\n                                            backgroundRepeat: 'no-repeat',\r\n                                            backgroundSize: 'contain',\r\n                                            boxShadow: '0 0 1px grey',\r\n                                            backgroundColor: '#23d366'\r\n                                        }}\r\n                                    >\r\n                                    </div>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={newStyles.headerItemSecond}>\r\n                        <button className={styles.showBtn} onClick={()=>setShowCourseDesc(!showCourseDesc)}>\r\n                            {showCourseDesc ? 'Скрыть подробную информацию' : 'Показать подробную информацию'}\r\n                            <Image src={'/Vector-4.png'} style={{height: 6, marginLeft: 5}} className={showCourseDesc ? styles.rotateBtn : null}/>\r\n                        </button>\r\n\r\n                        <div style={{width: '100%'}} className={classnames(styles.opacityZero, showCourseDesc && styles.opacityFull)}>\r\n                            <span className={newStyles.subTitle} style={{fontSize: 18}}>О курсе:</span>\r\n                            <div className={newStyles.infoList}>\r\n                                <span className={newStyles.value}>\r\n                                    {\r\n                                        subcourseDescription.map(item => {\r\n                                            return(\r\n                                                <>\r\n                                                    {item}\r\n                                                    <br/>\r\n                                                </>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </span>\r\n                            </div> <br/>\r\n                            <span className={newStyles.subTitle} style={{fontSize: 18}}>О центре:</span>\r\n                            <div className={newStyles.infoList}>\r\n                                <span className={newStyles.value}>\r\n                                    {\r\n                                        courseDescription.map(item => {\r\n                                            return(\r\n                                                <>\r\n                                                    {item}\r\n                                                    <br/>\r\n                                                </>\r\n                                            )\r\n                                        })\r\n                                }</span>\r\n                            </div>\r\n                        </div>\r\n                        <br/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{ width: '100%', marginTop: '20px' }}>\r\n                {\r\n                    props.teachers.length!=0 ?\r\n                        (\r\n                            <>\r\n                                <div className={styles.titleBlock} style={{margin: '20px 0'}}>\r\n                                    <Image src={'/teachers_title.png'} className={styles.titleImg}/>\r\n                                    <span className={styles.titleTitle}>Преподаватели центра</span>\r\n                                </div>\r\n\r\n                                <div style={{width: '100%', display: 'flex', justifyContent: 'center', padding: '0 5%', boxSzing: 'border-box'}}>\r\n                                    <div className={styles.allCoursesTab} >\r\n                                        {props.teachers.map(item => <CourseTeacherCard teacher={item} />)}\r\n                                    </div>\r\n                                </div>\r\n                            </>\r\n                        ) :\r\n                        null\r\n                }\r\n            </div>\r\n\r\n            {courseDetails.isonline ? null : (\r\n                courseDetails.longitude!=0 && (\r\n                    <>\r\n                        <div className={styles.titleBlock} style={{margin: '20px 0'}}>\r\n                            <Image src={'/Location.png'} className={styles.titleImg}/>\r\n                            <span className={styles.titleTitle}>Местоположение</span>\r\n                        </div>\r\n\r\n                        <div className={newStyles.container} style={{height: hideMap ? '100px' : '65vh'}}>\r\n                            <YMaps className={styles.ymaps}>\r\n                                <Map width={'100%'} height={hideMap ? '100px' : '65vh'} defaultState={{ center: [props.courseDetails.latitude, props.courseDetails.longitude], zoom: 16 }} >\r\n                                    <Placemark geometry={[props.courseDetails.latitude, props.courseDetails.longitude]} />\r\n                                </Map>\r\n                            </YMaps>\r\n                        </div>\r\n\r\n                        <div style={{width: '100%', display: 'flex', justifyContent: 'center', marginTop: 10}}>\r\n                        <span className={styles.spanButton} onClick={()=>{\r\n                            setHideMap(!hideMap)\r\n                        }}>{hideMap ? 'Раскрыть карту' : 'Скрыть карту'}</span>\r\n                        </div>\r\n                    </>\r\n                )\r\n            )}\r\n\r\n            {\r\n                imagesBase.length!=0 && (\r\n                    subcourses.length!=0 && (\r\n                        <>\r\n                            <div className={styles.titleBlock} style={{margin: '10px 0'}}>\r\n                                <Image src={'/Fist-Bump-Gesture.png'} className={styles.titleImg}/>\r\n                                <span className={styles.titleTitle}>Так же {props.course.title} предлагает:</span>\r\n                            </div>\r\n\r\n                            <div className={styles.container} style={{marginTop: 30}}>\r\n                                <div style={{width: '100%'}}>\r\n                                    <div className={styles.courses_block}>\r\n                                        {\r\n                                            props.subcourses.slice(0, subcourseCardsToShow).map(course => (\r\n                                                <div className={styles.card_item}>\r\n                                                    <CourseCard coverImage={imagesBase[Math.floor(Math.random() * imagesBase.length)].src} setLoadingModal={setLoadingModal} course={course} showApplicationModal={true}/>\r\n                                                </div>\r\n                                            ))\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                                {\r\n                                    subcourseCardsToShow >= props.subcourses.length ? null : (\r\n                                        <div className={styles.backToCoursesPageButtonBody}>\r\n                                            <a className={styles.backToCoursesPageButton} onClick={()=>{setSubcourseCardsToShow(subcourseCardsToShow+4)}}>Ещё</a>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                        </>\r\n                    )\r\n                )\r\n            }\r\n\r\n            <div className={styles.titleBlock} style={{margin: '20px 0'}}>\r\n                <Image src={'/feedback_star.png'} className={styles.titleImg}/>\r\n                <span className={styles.titleTitle}>Отзывы</span>\r\n            </div>\r\n            <div className={newStyles.container}>\r\n                <FeedbackForm subcourseID={props.courseDetails.id}/>\r\n                <br/>\r\n                <div className={styles.feedbacksWrapper}>\r\n                    {\r\n                        props.courseFeedbacks !== null && props.courseFeedbacks.length > 0 ?\r\n                            props.courseFeedbacks.map( item => <NewFeedback feedback={item}/>) : null\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <ContactBlock/>\r\n\r\n            <br /><br /><br /><br />\r\n\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\ncoursePage.getInitialProps = async (ctx) => {\r\n    console.log(\"ctx\")\r\n    console.log(ctx)\r\n\r\n    if(ctx.query.id !== undefined) {\r\n        let courseDetailsResult = await axios.post(`${globals.productionServerDomain}/courseCards/` + ctx.query.id);\r\n        let courseDetails = courseDetailsResult['data'][0];\r\n        console.log('course details result', courseDetails)\r\n\r\n        let courseResult = await axios.get(`${globals.productionServerDomain}/courses/` + courseDetails.course_id);\r\n        let courseInfo = courseResult['data'][0];\r\n\r\n        //let similarCoursesResult = await axios.get(`${globals.productionServerDomain}/courseCards/` + courseInfo.course_category_id);\r\n        let subCoursesResult = await axios.post(`${globals.productionServerDomain}/subcourses/` + courseInfo.id);\r\n        console.log('subcourses' , subCoursesResult.data)\r\n        let teachersResult = await axios.post(`${globals.productionServerDomain}/teachers/` + courseInfo.id);\r\n        console.log('teachers' , teachersResult.data)\r\n        let feedbacksLink = `${globals.productionServerDomain}/feedbacks/${ctx.query.id}`;\r\n        console.log(`feedbacks link: ` + feedbacksLink);\r\n        let courseFeedbacksResult = await axios.get(`${globals.productionServerDomain}/feedbacks/${ctx.query.id}`);\r\n\r\n        console.log(\"feedbacks:\");\r\n        console.log(courseFeedbacksResult.data);\r\n\r\n        // setCourse(courseInfo);\r\n        // setCourseDetails(courseDetails);\r\n        // setSubcourses(subCoursesResult['data']);\r\n        // setSimilarCourses(similarCoursesResult['data']);\r\n        // setTeachers(teachersResult['data']);\r\n\r\n        return {\r\n            course: courseInfo,\r\n            courseDetails: courseDetails,\r\n            subcourses: subCoursesResult['data'],\r\n            //similarCourses: similarCoursesResult['data'],\r\n            teachers: teachersResult['data'],\r\n            courseFeedbacks: courseFeedbacksResult['data']\r\n        }\r\n    }else{\r\n        return {};\r\n    }\r\n}\r\n\r\nexport default coursePage;\r\n"]},"metadata":{},"sourceType":"module"}