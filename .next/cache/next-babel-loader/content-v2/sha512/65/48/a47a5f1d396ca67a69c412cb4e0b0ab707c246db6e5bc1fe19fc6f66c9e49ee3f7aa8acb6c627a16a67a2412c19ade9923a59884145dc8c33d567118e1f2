{"ast":null,"code":"var _jsxFileName = \"C:\\\\Server\\\\data\\\\htdocs\\\\oilan-mirror\\\\goco\\\\src\\\\components\\\\TutorCourseCard\\\\index.js\";\nvar __jsx = React.createElement;\nimport styles from './style.module.css';\nimport Link from \"next/link\";\nimport React, { useEffect, useState } from \"react\";\nimport { SignupToCourseForm } from \"../Forms/SignupToCourseForm/SignupToCourseForm\";\nimport ModalWindow from \"../Modal/ModalWindow\";\nimport classnames from 'classnames';\nimport globals from \"../../globals\";\nimport { Image } from \"react-bootstrap\";\n\nconst axios = require('axios').default;\n\nexport default function TutorCourseCard(props) {\n  const {\n    0: show,\n    1: setShow\n  } = useState(false);\n  const {\n    0: showInfo,\n    1: setShowInfo\n  } = useState(false);\n  const {\n    0: showPhoneNumber,\n    1: setShowPhoneNumber\n  } = useState(false);\n  const {\n    0: showContacts,\n    1: setShowContacts\n  } = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const {\n    0: symbolsToShow,\n    1: setSymbolsToShow\n  } = useState(200);\n  const {\n    0: wordsToShowLength,\n    1: setWordsToShowLength\n  } = useState(10);\n  const {\n    0: heartValue,\n    1: setHeartValue\n  } = useState('\\u2661');\n\n  function prettify(num) {\n    var n = num.toString();\n    return n.replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1\" + ' ');\n  }\n\n  const coursePrice = prettify(props.course.price);\n\n  const getCurrentDateTime = () => {\n    let currentDate = new Date();\n    let dd = currentDate.getDate();\n    if (dd < 10) dd = '0' + dd;\n    let mm = currentDate.getMonth() + 1;\n    if (mm < 10) mm = '0' + mm;\n    let yy = currentDate.getFullYear();\n    let hours = currentDate.getHours();\n    let min = currentDate.getMinutes();\n    let sec = currentDate.getSeconds();\n    return yy + \"-\" + mm + \"-\" + dd + \" \" + hours + \":\" + min + \":\" + sec;\n  };\n\n  const {\n    0: applicationSent,\n    1: setApplicationSent\n  } = useState(false);\n  useEffect(() => {\n    if (window.innerWidth <= 992) {\n      setSymbolsToShow(200);\n    } else {\n      setSymbolsToShow(300);\n    }\n  }, []);\n  return __jsx(\"div\", {\n    className: styles.container,\n    style: {\n      width: props.application !== undefined ? '40%' : null\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, __jsx(ModalWindow, {\n    show: show,\n    handleClose: handleClose,\n    heading: 'Оставить заявку репетитору',\n    body: __jsx(SignupToCourseForm, {\n      sendApplicationCallback: props.sendApplicationCallback,\n      course: props.course,\n      tutor: props.course,\n      handleClose: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 109\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: styles.titleImage__Body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: styles.titleImageWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: styles.titleImageBody,\n    style: {\n      backgroundImage: `url(${props.coverImage})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }), __jsx(\"div\", {\n    className: styles.titleLinkButtonBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    className: styles.infoTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }, \"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E \\u0440\\u0435\\u043F\\u0435\\u0442\\u0438\\u0442\\u043E\\u0440\\u0435:\"), \" \", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 96\n    }\n  }), __jsx(\"span\", {\n    className: styles.infoSubtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }, props.course.tutor_description === null ? 'Репетитор не указал информацию о себе. :(' : props.course.tutor_description.length > symbolsToShow ? __jsx(React.Fragment, null, props.course.tutor_description.substr(0, symbolsToShow).concat(''), __jsx(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 49\n    }\n  }, \"...\\u043E\\u0441\\u0442\\u0430\\u043B\\u044C\\u043D\\u043E\\u0435 \\u0432 \\\"\\u0423\\u0437\\u043D\\u0430\\u0442\\u044C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435\\\"\")) : props.course.tutor_description))), __jsx(\"div\", {\n    className: styles.titleImage__Body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: styles.image_block,\n    style: {\n      backgroundImage: `url(${props.course.img_src})`,\n      backgroundPosition: 'center',\n      backgroundSize: 'cover',\n      backgroundColor: 'white',\n      border: '1px solid white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    className: styles.fullname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, props.course.fullname != undefined && props.course.fullname.length < 20 ? props.course.fullname : props.course.fullname.substr(0, 40).concat('...'))), __jsx(\"div\", {\n    className: styles.info_block,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, __jsx(\"p\", {\n    className: styles.course_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, props.course.category_name != undefined && props.course.category_name.length < 20 ? props.course.category_name : props.course.category_name.substr(0, 20).concat('...'))), __jsx(\"div\", {\n    style: {\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: styles.info_value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, props.course.city_name, \". \", props.course.can_work_online && 'Онлайн. ', props.course.can_work_offline && 'Офлайн. ')), __jsx(\"div\", {\n    style: {\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: styles.info_value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, \"\\u042F\\u0437\\u044B\\u043A \\u043F\\u0440\\u0435\\u043F\\u043E\\u0434\\u0430\\u0432\\u0430\\u043D\\u0438\\u044F: \", props.course.teaching_language)), __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      marginBottom: -15,\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, props.course.currency === '$' ? __jsx(\"p\", {\n    className: styles.info_price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 37\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0430: \", props.course.currency, coursePrice, \"/\", props.course.unit_of_time) : __jsx(\"p\", {\n    className: styles.info_price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 37\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0430: \", coursePrice, \" \", props.course.currency, \"/\", props.course.unit_of_time))))), __jsx(\"div\", {\n    className: styles.linkButtonBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, applicationSent ? __jsx(\"p\", {\n    className: styles.applicationSentText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 25\n    }\n  }, \"\\u0417\\u0430\\u044F\\u0432\\u043A\\u0430 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0430!\") : __jsx(\"button\", {\n    onClick: async () => {\n      setShow(!show);\n    },\n    className: styles.linkButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  }, \"\\u0423\\u0437\\u043D\\u0430\\u0442\\u044C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435\"), __jsx(\"a\", {\n    onClick: () => {\n      ym(78186067, 'reachGoal', 'whatsapp_click_tutor');\n      axios.post(globals.productionServerDomain + '/logUserClick', {\n        course_id: props.course.tutor_id,\n        card_id: props.course.id,\n        event_name: 'whatsapp',\n        is_tutor_card: true\n      });\n    },\n    href: `https://api.whatsapp.com/send?phone=${props.course.phone_number}&text=%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5%2C%20%D0%BF%D0%B8%D1%88%D1%83%20%D0%92%D0%B0%D0%BC%20%D1%81%20%D0%BF%D0%BB%D0%B0%D1%82%D1%84%D0%BE%D1%80%D0%BC%D1%8B%20Oilan,`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    style: {\n      height: '100%',\n      width: 45,\n      marginLeft: 10,\n      borderRadius: 8,\n      backgroundImage: `url('/whatsapp_logo.png')`,\n      backgroundPosition: 'center',\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'contain',\n      boxShadow: '0 0 1px grey',\n      backgroundColor: '#23d366'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  })))));\n}","map":{"version":3,"sources":["C:/Server/data/htdocs/oilan-mirror/goco/src/components/TutorCourseCard/index.js"],"names":["styles","Link","React","useEffect","useState","SignupToCourseForm","ModalWindow","classnames","globals","Image","axios","require","default","TutorCourseCard","props","show","setShow","showInfo","setShowInfo","showPhoneNumber","setShowPhoneNumber","showContacts","setShowContacts","handleClose","handleShow","symbolsToShow","setSymbolsToShow","wordsToShowLength","setWordsToShowLength","heartValue","setHeartValue","prettify","num","n","toString","replace","coursePrice","course","price","getCurrentDateTime","currentDate","Date","dd","getDate","mm","getMonth","yy","getFullYear","hours","getHours","min","getMinutes","sec","getSeconds","applicationSent","setApplicationSent","window","innerWidth","container","width","application","undefined","sendApplicationCallback","titleImage__Body","titleImageWrapper","titleImageBody","backgroundImage","coverImage","titleLinkButtonBody","infoTitle","infoSubtitle","tutor_description","length","substr","concat","image_block","img_src","backgroundPosition","backgroundSize","backgroundColor","border","fullname","info_block","course_title","category_name","margin","info_value","city_name","can_work_online","can_work_offline","teaching_language","display","justifyContent","marginBottom","marginTop","currency","info_price","unit_of_time","linkButtonBody","applicationSentText","linkButton","ym","post","productionServerDomain","course_id","tutor_id","card_id","id","event_name","is_tutor_card","phone_number","height","marginLeft","borderRadius","backgroundRepeat","boxShadow"],"mappings":"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","sourcesContent":["import styles from './style.module.css'\r\nimport Link from \"next/link\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {SignupToCourseForm} from \"../Forms/SignupToCourseForm/SignupToCourseForm\";\r\nimport ModalWindow from \"../Modal/ModalWindow\";\r\nimport classnames from 'classnames';\r\nimport globals from \"../../globals\";\r\nimport {Image} from \"react-bootstrap\";\r\n\r\nconst axios = require('axios').default;\r\n\r\nexport default function TutorCourseCard(props) {\r\n    const [show, setShow] = useState(false);\r\n    const [showInfo, setShowInfo] = useState(false);\r\n    const [showPhoneNumber, setShowPhoneNumber] = useState(false);\r\n    const [showContacts, setShowContacts] = useState(false)\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    const [symbolsToShow, setSymbolsToShow] = useState(200)\r\n\r\n    const [wordsToShowLength, setWordsToShowLength] = useState(10)\r\n    const [heartValue, setHeartValue] = useState('\\u2661')\r\n\r\n    function prettify(num) {\r\n        var n = num.toString();\r\n        return n.replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1\" + ' ');\r\n    }\r\n\r\n\r\n    const coursePrice = prettify(props.course.price)\r\n\r\n    const getCurrentDateTime = () => {\r\n        let currentDate = new Date();\r\n\r\n        let dd = currentDate.getDate();\r\n        if(dd < 10) dd = '0' + dd;\r\n\r\n        let mm = currentDate.getMonth()+1;\r\n        if(mm < 10) mm = '0' + mm;\r\n\r\n        let yy = currentDate.getFullYear();\r\n\r\n        let hours = currentDate.getHours();\r\n        let min = currentDate.getMinutes();\r\n        let sec = currentDate.getSeconds();\r\n\r\n        return yy + \"-\" + mm + \"-\" + dd + \" \" + hours + \":\" + min + \":\" + sec;\r\n    }\r\n\r\n    const [applicationSent, setApplicationSent] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        if(window.innerWidth <= 992) {\r\n            setSymbolsToShow(200)\r\n        } else {\r\n            setSymbolsToShow(300)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className={styles.container} style={{width: props.application !== undefined ? '40%' : null}} >\r\n            <ModalWindow show={show} handleClose={handleClose} heading={'Оставить заявку репетитору'} body={<SignupToCourseForm sendApplicationCallback={props.sendApplicationCallback} course={props.course} tutor={props.course} handleClose={handleClose}/>}/>\r\n\r\n            <div style={{width: '100%'}}>\r\n                <div  className={styles.titleImage__Body}>\r\n                    <div className={styles.titleImageWrapper}>\r\n                        <div className={styles.titleImageBody}\r\n                             style={{\r\n                                 backgroundImage: `url(${props.coverImage})`\r\n                             }}\r\n                        >\r\n                        </div>\r\n                        <div className={styles.titleLinkButtonBody}>\r\n                            <span className={styles.infoTitle}>Информация о репетиторе:</span> <br/>\r\n                            <span className={styles.infoSubtitle}>\r\n                                {\r\n                                    props.course.tutor_description === null\r\n                                    ?\r\n                                    'Репетитор не указал информацию о себе. :('\r\n                                    :\r\n                                        props.course.tutor_description.length > symbolsToShow ?\r\n                                            <>\r\n                                                {props.course.tutor_description.substr(0, symbolsToShow).concat('')}\r\n                                                <b>...остальное в \"Узнать больше\"</b>\r\n                                            </>\r\n                                             :\r\n                                            props.course.tutor_description\r\n                                }\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={styles.titleImage__Body}>\r\n                        <div className={styles.image_block} style={{\r\n                            backgroundImage: `url(${props.course.img_src})`,\r\n                            backgroundPosition: 'center',\r\n                            backgroundSize: 'cover',\r\n                            backgroundColor: 'white',\r\n                            border: '1px solid white'\r\n                        }}>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <p className={styles.fullname}>\r\n\r\n                        {props.course.fullname!=undefined && props.course.fullname.length < 20 ? (props.course.fullname) : (props.course.fullname.substr(0, 40).concat('...'))}\r\n\r\n                    </p>\r\n                </div>\r\n\r\n                <div className={styles.info_block}>\r\n                    <div>\r\n                        <p className={styles.course_title}>\r\n\r\n                            {props.course.category_name!=undefined && props.course.category_name.length < 20 ? (props.course.category_name) : (props.course.category_name.substr(0, 20).concat('...'))}\r\n\r\n                        </p>\r\n\r\n                        {/*<span className={styles.info_title}>:</span>*/}\r\n                        {/*<span className={styles.info_value}> {props.course.phone_number}</span>*/}\r\n                    </div>\r\n\r\n                    <div style={{margin: 0}}>\r\n                        <span className={styles.info_value}>{props.course.city_name}. {props.course.can_work_online && 'Онлайн. '}{props.course.can_work_offline && 'Офлайн. '}</span>\r\n                    </div>\r\n\r\n                    <div style={{margin: 0}}>\r\n                        <span className={styles.info_value}>Язык преподавания: {props.course.teaching_language}</span>\r\n                    </div>\r\n\r\n                    <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: -15, marginTop: 10}}>\r\n                        <div>\r\n                            {props.course.currency === '$' ?\r\n                                (\r\n                                    <p className={styles.info_price}>Цена: {props.course.currency}{coursePrice}/{props.course.unit_of_time}</p>\r\n                                )\r\n                                : (\r\n                                    <p className={styles.info_price}>Цена: {coursePrice} {props.course.currency}/{props.course.unit_of_time}</p>\r\n                                )\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={styles.linkButtonBody}>\r\n                <div style={{display: 'flex'}}>\r\n                    {applicationSent ? (\r\n                        <p className={styles.applicationSentText}>Заявка отправлена!</p>\r\n                    ) : (\r\n                        <button onClick={async () => {\r\n                            setShow(!show);\r\n                        }} className={styles.linkButton}>Узнать больше</button>\r\n                    )}\r\n\r\n                    <a\r\n                        onClick={() => {\r\n                            ym(78186067,'reachGoal','whatsapp_click_tutor');\r\n                            axios.post(globals.productionServerDomain + '/logUserClick',{\r\n                                course_id: props.course.tutor_id,\r\n                                card_id: props.course.id,\r\n                                event_name: 'whatsapp',\r\n                                is_tutor_card: true\r\n                            })\r\n                        }}\r\n                        href={`https://api.whatsapp.com/send?phone=${props.course.phone_number}&text=%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D1%82%D0%B2%D1%83%D0%B9%D1%82%D0%B5%2C%20%D0%BF%D0%B8%D1%88%D1%83%20%D0%92%D0%B0%D0%BC%20%D1%81%20%D0%BF%D0%BB%D0%B0%D1%82%D1%84%D0%BE%D1%80%D0%BC%D1%8B%20Oilan,`}>\r\n                        <div\r\n                            style={{\r\n                                height: '100%',\r\n                                width: 45,\r\n                                marginLeft: 10,\r\n                                borderRadius: 8,\r\n                                backgroundImage: `url('/whatsapp_logo.png')`,\r\n                                backgroundPosition: 'center',\r\n                                backgroundRepeat: 'no-repeat',\r\n                                backgroundSize: 'contain',\r\n                                boxShadow: '0 0 1px grey',\r\n                                backgroundColor: '#23d366'\r\n                            }}\r\n                        >\r\n                        </div>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}