{"ast":null,"code":"import _regeneratorRuntime from \"C:/Server/data/htdocs/oilan-mirror/goco/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Server/data/htdocs/oilan-mirror/goco/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectWithoutProperties from \"C:/Server/data/htdocs/oilan-mirror/goco/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _jsxFileName = \"C:\\\\Server\\\\data\\\\htdocs\\\\oilan-mirror\\\\goco\\\\src\\\\components\\\\ApplicationCard\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport styles from './style.module.css';\nimport { useState } from \"react\";\nimport { default as axios } from \"axios\";\nimport globals from \"../../globals\";\n\nvar ApplicationCard = function ApplicationCard(_ref) {\n  _s();\n\n  var application = _ref.application,\n      props = _objectWithoutProperties(_ref, [\"application\"]);\n\n  var _useState = useState(application.deactivated_date && application.deactivated_date.split('T')[0]),\n      deactivatingDate = _useState[0],\n      setDeactivatingDate = _useState[1];\n\n  var _useState2 = useState(application.datetime && application.datetime.split('T')[0]),\n      datetime = _useState2[0],\n      setDatetime = _useState2[1];\n\n  var _useState3 = useState(application.is_active),\n      isActive = _useState3[0],\n      setIsActive = _useState3[1];\n\n  var dateOptions = {\n    timeZone: 'Asia/Almaty',\n    month: 'numeric',\n    day: 'numeric',\n    year: 'numeric'\n  };\n  var dateFormatter = new Intl.DateTimeFormat('ru-RU', dateOptions);\n  var dateAsFormattedString = dateFormatter.format(new Date(application.datetime));\n  return __jsx(\"div\", {\n    className: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.titleImageBody,\n    style: {\n      backgroundImage: \"url(\".concat(props.coverImage, \")\")\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: styles.top,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    className: styles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 17\n    }\n  }, application.role_id === 4 ? application.center_title : application.tutor_fullname), __jsx(\"span\", {\n    className: styles.subtitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }\n  }, application.category_name, \" (\", application.role_id === 4 ? 'Центр' : 'Репетитор', \")\"), \" \", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 140\n    }\n  }), \" \", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 146\n    }\n  }), __jsx(\"div\", {\n    className: styles.info,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: styles.subtitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 21\n    }\n  }, \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u0437\\u0430\\u044F\\u0432\\u043A\\u0438: \", __jsx(\"span\", {\n    style: {\n      color: isActive ? 'green' : 'orangered',\n      fontFamily: 'Rubik Medium'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 70\n    }\n  }, isActive ? 'Активна' : 'Деактивирована', isActive === false && __jsx(\"span\", {\n    className: styles.deactivatingDate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 46\n    }\n  }, deactivatingDate))), \" \", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 36\n    }\n  }), __jsx(\"span\", {\n    className: styles.subtitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 21\n    }\n  }, \"\\u0417\\u0430\\u044F\\u0432\\u043A\\u0430 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0430: \", __jsx(\"span\", {\n    style: {\n      fontFamily: 'Rubik Medium'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 74\n    }\n  }, dateAsFormattedString)), \" \", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 155\n    }\n  }), __jsx(\"span\", {\n    className: styles.subtitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 21\n    }\n  }, \"\\u0424\\u043E\\u0440\\u043C\\u0430\\u0442 \\u0437\\u0430\\u043D\\u044F\\u0442\\u0438\\u0439: \", __jsx(\"span\", {\n    style: {\n      fontFamily: 'Rubik Medium'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 71\n    }\n  }, application.is_online ? 'Онлайн' : 'Офлайн')), \" \", __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 174\n    }\n  }), __jsx(\"span\", {\n    className: styles.subtitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  }, \"\\u042D\\u043B. \\u043F\\u043E\\u0447\\u0442\\u0430: \", __jsx(\"span\", {\n    style: {\n      fontFamily: 'Rubik Medium'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 66\n    }\n  }, application.student_email)))), __jsx(\"div\", {\n    className: styles.foot,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios({\n                method: 'post',\n                url: \"\".concat(globals.productionServerDomain, \"/deactivateSearchApplication\"),\n                data: {\n                  application_id: application.id\n                }\n              }).then(function (res) {\n                setIsActive(false);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })),\n    className: styles.linkButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, \"\\u0414\\u0435\\u0430\\u043A\\u0442\\u0438\\u0432\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\")));\n};\n\n_s(ApplicationCard, \"BTRon6PP+kyi3NCu2HlL02xB4/o=\");\n\n_c = ApplicationCard;\nexport default ApplicationCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ApplicationCard\");","map":{"version":3,"sources":["C:/Server/data/htdocs/oilan-mirror/goco/src/components/ApplicationCard/index.js"],"names":["styles","useState","default","axios","globals","ApplicationCard","application","props","deactivated_date","split","deactivatingDate","setDeactivatingDate","datetime","setDatetime","is_active","isActive","setIsActive","dateOptions","timeZone","month","day","year","dateFormatter","Intl","DateTimeFormat","dateAsFormattedString","format","Date","container","titleImageBody","backgroundImage","coverImage","top","title","role_id","center_title","tutor_fullname","subtitle","category_name","info","color","fontFamily","is_online","student_email","foot","method","url","productionServerDomain","data","application_id","id","then","res","linkButton"],"mappings":";;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,oBAAnB;AACA,SAAQC,QAAR,QAAuB,OAAvB;AACA,SAAQC,OAAO,IAAIC,KAAnB,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,eAApB;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,OAA6B;AAAA;;AAAA,MAA3BC,WAA2B,QAA3BA,WAA2B;AAAA,MAAXC,KAAW;;AAAA,kBAEDN,QAAQ,CAACK,WAAW,CAACE,gBAAZ,IAAgCF,WAAW,CAACE,gBAAZ,CAA6BC,KAA7B,CAAmC,GAAnC,EAAwC,CAAxC,CAAjC,CAFP;AAAA,MAE1CC,gBAF0C;AAAA,MAExBC,mBAFwB;;AAAA,mBAGjBV,QAAQ,CAACK,WAAW,CAACM,QAAZ,IAAwBN,WAAW,CAACM,QAAZ,CAAqBH,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAzB,CAHS;AAAA,MAG1CG,QAH0C;AAAA,MAGhCC,WAHgC;;AAAA,mBAIjBZ,QAAQ,CAACK,WAAW,CAACQ,SAAb,CAJS;AAAA,MAI1CC,QAJ0C;AAAA,MAIhCC,WAJgC;;AAMjD,MAAMC,WAAW,GAAG;AAAEC,IAAAA,QAAQ,EAAE,aAAZ;AAA2BC,IAAAA,KAAK,EAAE,SAAlC;AAA6CC,IAAAA,GAAG,EAAE,SAAlD;AAA6DC,IAAAA,IAAI,EAAE;AAAnE,GAApB;AAEA,MAAMC,aAAa,GAAG,IAAIC,IAAI,CAACC,cAAT,CAAwB,OAAxB,EAAiCP,WAAjC,CAAtB;AACA,MAAMQ,qBAAqB,GAAGH,aAAa,CAACI,MAAd,CAAqB,IAAIC,IAAJ,CAASrB,WAAW,CAACM,QAArB,CAArB,CAA9B;AAEA,SACI;AAAK,IAAA,SAAS,EAAEZ,MAAM,CAAC4B,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAE5B,MAAM,CAAC6B,cAAvB;AAAuC,IAAA,KAAK,EAAE;AAC1CC,MAAAA,eAAe,gBAASvB,KAAK,CAACwB,UAAf;AAD2B,KAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAMI;AAAK,IAAA,SAAS,EAAE/B,MAAM,CAACgC,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,SAAS,EAAEhC,MAAM,CAACiC,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgC3B,WAAW,CAAC4B,OAAZ,KAAwB,CAAxB,GAA4B5B,WAAW,CAAC6B,YAAxC,GAAuD7B,WAAW,CAAC8B,cAAnG,CADJ,EAEI;AAAM,IAAA,SAAS,EAAEpC,MAAM,CAACqC,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmC/B,WAAW,CAACgC,aAA/C,QAAgEhC,WAAW,CAAC4B,OAAZ,KAAwB,CAAxB,GAA4B,OAA5B,GAAsC,WAAtG,MAFJ,OAE+H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAF/H,OAEqI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFrI,EAII;AAAK,IAAA,SAAS,EAAElC,MAAM,CAACuC,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,SAAS,EAAEvC,MAAM,CAACqC,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oFAAiD;AAAM,IAAA,KAAK,EAAE;AAACG,MAAAA,KAAK,EAAEzB,QAAQ,GAAG,OAAH,GAAa,WAA7B;AAA0C0B,MAAAA,UAAU,EAAE;AAAtD,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAC5C1B,QAAQ,GAAG,SAAH,GAAe,gBADqB,EAE5CA,QAAQ,KAAG,KAAX,IAAoB;AAAM,IAAA,SAAS,EAAEf,MAAM,CAACU,gBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2CA,gBAA3C,CAFwB,CAAjD,CADJ,OAImB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJnB,EAKI;AAAM,IAAA,SAAS,EAAEV,MAAM,CAACqC,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4GAAqD;AAAM,IAAA,KAAK,EAAE;AAACI,MAAAA,UAAU,EAAE;AAAb,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4ChB,qBAA5C,CAArD,CALJ,OAK0I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAL1I,EAMI;AAAM,IAAA,SAAS,EAAEzB,MAAM,CAACqC,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0FAAkD;AAAM,IAAA,KAAK,EAAE;AAACI,MAAAA,UAAU,EAAE;AAAb,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4CnC,WAAW,CAACoC,SAAZ,GAAwB,QAAxB,GAAmC,QAA/E,CAAlD,CANJ,OAM6J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAN7J,EAOI;AAAM,IAAA,SAAS,EAAE1C,MAAM,CAACqC,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDAA6C;AAAM,IAAA,KAAK,EAAE;AAACI,MAAAA,UAAU,EAAE;AAAb,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4CnC,WAAW,CAACqC,aAAxD,CAA7C,CAPJ,CAJJ,CANJ,EAqBI;AAAK,IAAA,SAAS,EAAE3C,MAAM,CAAC4C,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,OAAO,wEAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACPzC,KAAK,CAAC;AACR0C,gBAAAA,MAAM,EAAE,MADA;AAERC,gBAAAA,GAAG,YAAK1C,OAAO,CAAC2C,sBAAb,iCAFK;AAGRC,gBAAAA,IAAI,EAAE;AACFC,kBAAAA,cAAc,EAAE3C,WAAW,CAAC4C;AAD1B;AAHE,eAAD,CAAL,CAMHC,IANG,CAME,UAAAC,GAAG,EAAI;AACXpC,gBAAAA,WAAW,CAAC,KAAD,CAAX;AACH,eARK,CADO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF,EAAf;AAUG,IAAA,SAAS,EAAEhB,MAAM,CAACqD,UAVrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4FADJ,CArBJ,CADJ;AAqCH,CAhDD;;GAAMhD,e;;KAAAA,e;AAkDN,eAAeA,eAAf","sourcesContent":["import styles from './style.module.css'\r\nimport {useState} from \"react\";\r\nimport {default as axios} from \"axios\";\r\nimport globals from \"../../globals\";\r\n\r\nconst ApplicationCard = ({application, ...props}) => {\r\n\r\n    const [deactivatingDate, setDeactivatingDate] = useState(application.deactivated_date && application.deactivated_date.split('T')[0])\r\n    const [datetime, setDatetime] = useState(application.datetime && application.datetime.split('T')[0])\r\n    const [isActive, setIsActive] = useState(application.is_active);\r\n\r\n    const dateOptions = { timeZone: 'Asia/Almaty', month: 'numeric', day: 'numeric', year: 'numeric' };\r\n\r\n    const dateFormatter = new Intl.DateTimeFormat('ru-RU', dateOptions);\r\n    const dateAsFormattedString = dateFormatter.format(new Date(application.datetime));\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.titleImageBody} style={{\r\n                backgroundImage: `url(${props.coverImage})`\r\n            }}>\r\n\r\n            </div>\r\n            <div className={styles.top}>\r\n                <span className={styles.title}>{application.role_id === 4 ? application.center_title : application.tutor_fullname}</span>\r\n                <span className={styles.subtitle}>{application.category_name} ({application.role_id === 4 ? 'Центр' : 'Репетитор'})</span> <br/> <br/>\r\n\r\n                <div className={styles.info}>\r\n                    <span className={styles.subtitle}>Статус заявки: <span style={{color: isActive ? 'green' : 'orangered', fontFamily: 'Rubik Medium'}}>\r\n                        {isActive ? 'Активна' : 'Деактивирована'}\r\n                        {isActive===false && <span className={styles.deactivatingDate}>{deactivatingDate}</span>}\r\n                    </span></span> <br/>\r\n                    <span className={styles.subtitle}>Заявка отправлена: <span style={{fontFamily: 'Rubik Medium'}}>{dateAsFormattedString}</span></span> <br/>\r\n                    <span className={styles.subtitle}>Формат занятий: <span style={{fontFamily: 'Rubik Medium'}}>{application.is_online ? 'Онлайн' : 'Офлайн'}</span></span> <br/>\r\n                    <span className={styles.subtitle}>Эл. почта: <span style={{fontFamily: 'Rubik Medium'}}>{application.student_email}</span></span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={styles.foot}>\r\n                <button onClick={async ()=>{\r\n                    await axios({\r\n                        method: 'post',\r\n                        url: `${globals.productionServerDomain}/deactivateSearchApplication`,\r\n                        data: {\r\n                            application_id: application.id\r\n                        }\r\n                    }).then(res => {\r\n                        setIsActive(false);\r\n                    });\r\n                }} className={styles.linkButton}>Деактивировать</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ApplicationCard;\r\n"]},"metadata":{},"sourceType":"module"}